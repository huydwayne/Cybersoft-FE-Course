/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
;
!function(be,bd,bc,a7){function a6(e,d,f){return setTimeout(aY(e,f),d)
}function a4(e,d,f){return Array.isArray(e)?(a3(e,f[d],f),!0):!1
}function a3(f,d,h){var g;
if(f){if(f.forEach){f.forEach(d,h)
}else{if(f.length!==a7){for(g=0;
g<f.length;
){d.call(h,f[g],g,f),g++
}}else{for(g in f){f.hasOwnProperty(g)&&d.call(h,f[g],g,f)
}}}}}function a2(a,h,g){var f="DEPRECATED METHOD: "+h+"\n"+g+" AT \n";
return function(){var j=new Error("get-stack-trace"),e=j&&j.stack?j.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",b=be.console&&(be.console.warn||be.console.log);
return b&&b.call(be.console,f,e),a.apply(this,arguments)
}
}function aZ(g,f,k){var j,h=f.prototype;
j=g.prototype=Object.create(h),j.constructor=g,j._super=h,k&&cl(j,k)
}function aY(d,c){return function(){return d.apply(c,arguments)
}
}function aW(d,c){return typeof d==a8?d.apply(c?c[0]||a7:a7,c):d
}function aV(d,c){return d===a7?c:d
}function aU(e,d,f){a3(aO(d),function(a){e.addEventListener(a,f,!1)
})
}function aS(e,d,f){a3(aO(d),function(a){e.removeEventListener(a,f,!1)
})
}function aR(d,c){for(;
d;
){if(d==c){return !0
}d=d.parentNode
}return !1
}function aP(d,c){return d.indexOf(c)>-1
}function aO(b){return b.trim().split(/\s+/g)
}function aN(f,e,h){if(f.indexOf&&!h){return f.indexOf(e)
}for(var g=0;
g<f.length;
){if(h&&f[g][h]==e||!h&&f[g]===e){return g
}g++
}return -1
}function aM(b){return Array.prototype.slice.call(b,0)
}function aL(j,h,o){for(var n=[],m=[],l=0;
l<j.length;
){var k=h?j[l][h]:j[l];
aN(m,k)<0&&n.push(j[l]),m[l]=k,l++
}return o&&(n=h?n.sort(function(b,d){return b[h]>d[h]
}):n.sort()),n
}function aK(h,d){for(var m,l,k=d[0].toUpperCase()+d.slice(1),j=0;
j<b6.length;
){if(m=b6[j],l=m?m+k:d,l in h){return l
}j++
}return a7
}function aJ(){return bg++
}function aI(a){var d=a.ownerDocument||a;
return d.defaultView||d.parentWindow||be
}function aH(e,d){var f=this;
this.manager=e,this.callback=d,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){aW(e.options.enable,[e])&&f.handler(a)
},this.init()
}function aF(e){var d,f=e.options.inputClass;
return new (d=f?f:ac?bz:ce?bv:ap?bs:bA)(e,aE)
}function aE(j,h,o){var n=o.pointers.length,m=o.changedPointers.length,l=h&ax&&n-m===0,k=h&(cm|b7)&&n-m===0;
o.isFirst=!!l,o.isFinal=!!k,l&&(j.session={}),o.eventType=h,bT(j,o),j.emit("hammer.input",o),j.recognize(o),j.session.prevInput=o
}function bT(v,u){var t=v.session,s=u.pointers,r=s.length;
t.firstInput||(t.firstInput=bO(u)),r>1&&!t.firstMultiple?t.firstMultiple=bO(u):1===r&&(t.firstMultiple=!1);
var q=t.firstInput,p=t.firstMultiple,o=p?p.center:q.center,n=u.center=bL(s);
u.timeStamp=co(),u.deltaTime=u.timeStamp-q.timeStamp,u.angle=bG(o,n),u.distance=bH(o,n),bR(t,u),u.offsetDirection=bI(u.deltaX,u.deltaY);
var m=bK(u.deltaTime,u.deltaX,u.deltaY);
u.overallVelocityX=m.x,u.overallVelocityY=m.y,u.overallVelocity=am(m.x)>am(m.y)?m.x:m.y,u.scale=p?bC(p.pointers,s):1,u.rotation=p?bD(p.pointers,s):0,u.maxPointers=t.prevInput?u.pointers.length>t.prevInput.maxPointers?u.pointers.length:t.prevInput.maxPointers:u.pointers.length,bQ(t,u);
var l=v.element;
aR(u.srcEvent.target,l)&&(l=u.srcEvent.target),u.target=l
}function bR(h,g){var m=g.center,l=h.offsetDelta||{},k=h.prevDelta||{},j=h.prevInput||{};
g.eventType!==ax&&j.eventType!==cm||(k=h.prevDelta={x:j.deltaX||0,y:j.deltaY||0},l=h.offsetDelta={x:m.x,y:m.y}),g.deltaX=k.x+(m.x-l.x),g.deltaY=k.y+(m.y-l.y)
}function bQ(v,u){var t,s,r,q,p=v.lastInterval||u,o=u.timeStamp-p.timeStamp;
if(u.eventType!=b7&&(o>a1||p.velocity===a7)){var n=u.deltaX-p.deltaX,m=u.deltaY-p.deltaY,d=bK(o,n,m);
s=d.x,r=d.y,t=am(d.x)>am(d.y)?d.x:d.y,q=bI(n,m),v.lastInterval=u
}else{t=p.velocity,s=p.velocityX,r=p.velocityY,q=p.direction
}u.velocity=t,u.velocityX=s,u.velocityY=r,u.direction=q
}function bO(e){for(var d=[],f=0;
f<e.pointers.length;
){d[f]={clientX:az(e.pointers[f].clientX),clientY:az(e.pointers[f].clientY)},f++
}return{timeStamp:co(),pointers:d,center:bL(d),deltaX:e.deltaX,deltaY:e.deltaY}
}function bL(g){var f=g.length;
if(1===f){return{x:az(g[0].clientX),y:az(g[0].clientY)}
}for(var k=0,j=0,h=0;
f>h;
){k+=g[h].clientX,j+=g[h].clientY,h++
}return{x:az(k/f),y:az(j/f)}
}function bK(e,d,f){return{x:d/e||0,y:f/e||0}
}function bI(d,c){return d===c?bN:am(d)>=am(c)?0>d?a9:aA:0>c?an:cp
}function bH(g,f,k){k||(k=aD);
var j=f[k[0]]-g[k[0]],h=f[k[1]]-g[k[1]];
return Math.sqrt(j*j+h*h)
}function bG(g,f,k){k||(k=aD);
var j=f[k[0]]-g[k[0]],h=f[k[1]]-g[k[1]];
return 180*Math.atan2(h,j)/Math.PI
}function bD(d,c){return bG(c[1],c[0],aq)+bG(d[1],d[0],aq)
}function bC(d,c){return bH(c[0],c[1],aq)/bH(d[0],d[1],aq)
}function bA(){this.evEl=cf,this.evWin=bX,this.pressed=!1,aH.apply(this,arguments)
}function bz(){this.evEl=ar,this.evWin=ae,aH.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]
}function by(){this.evTarget=bP,this.evWin=af,this.started=!1,aH.apply(this,arguments)
}function bx(f,e){var h=aM(f.touches),g=aM(f.changedTouches);
return e&(cm|b7)&&(h=aL(h.concat(g),"identifier",!0)),[h,g]
}function bv(){this.evTarget=bu,this.targetIds={},aH.apply(this,arguments)
}function bt(r,q){var p=aM(r.touches),o=this.targetIds;
if(q&(ax|ak)&&1===p.length){return o[p[0].identifier]=!0,[p,p]
}var n,m,l=aM(r.changedTouches),k=[],j=this.target;
if(m=p.filter(function(b){return aR(b.target,j)
}),q===ax){for(n=0;
n<m.length;
){o[m[n].identifier]=!0,n++
}}for(n=0;
n<l.length;
){o[l[n].identifier]&&k.push(l[n]),q&(cm|b7)&&delete o[l[n].identifier],n++
}return k.length?[aL(m.concat(k),"identifier",!0),k]:void 0
}function bs(){aH.apply(this,arguments);
var b=aY(this.handler,this);
this.touch=new bv(this.manager,b),this.mouse=new bA(this.manager,b),this.primaryTouch=null,this.lastTouches=[]
}function br(d,c){d&ax?(this.primaryTouch=c.changedPointers[0].identifier,bq.call(this,c)):d&(cm|b7)&&bq.call(this,c)
}function bq(g){var f=g.changedPointers[0];
if(f.identifier===this.primaryTouch){var k={x:f.clientX,y:f.clientY};
this.lastTouches.push(k);
var j=this.lastTouches,h=function(){var b=j.indexOf(k);
b>-1&&j.splice(b,1)
};
setTimeout(h,aQ)
}}function bp(j){for(var h=j.srcEvent.clientX,o=j.srcEvent.clientY,n=0;
n<this.lastTouches.length;
n++){var m=this.lastTouches[n],l=Math.abs(h-m.x),k=Math.abs(o-m.y);
if(at>=l&&at>=k){return !0
}}return !1
}function bo(d,c){this.manager=d,this.set(c)
}function bn(e){if(aP(e,av)){return av
}var d=aP(e,ai),f=aP(e,ck);
return d&&f?av:d||f?d?ai:ck:aP(e,aX)?aX:bB
}function bm(){if(!ch){return !1
}var a={},d=be.CSS&&be.CSS.supports;
return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(b){a[b]=d?be.CSS.supports("touch-action",b):!0
}),a
}function bl(b){this.options=cl({},this.defaults,b||{}),this.id=aJ(),this.manager=null,this.options.enable=aV(this.options.enable,!0),this.state=bJ,this.simultaneous={},this.requireFail=[]
}function bj(b){return b&b9?"cancel":b&al?"end":b&ay?"move":b&a5?"start":""
}function b8(b){return b==cp?"down":b==an?"up":b==a9?"left":b==aA?"right":""
}function bh(e,d){var f=d.manager;
return f?f.get(e):e
}function bZ(){bl.apply(this,arguments)
}function bw(){bZ.apply(this,arguments),this.pX=null,this.pY=null
}function aT(){bZ.apply(this,arguments)
}function au(){bl.apply(this,arguments),this._timer=null,this._input=null
}function ah(){bZ.apply(this,arguments)
}function ci(){bZ.apply(this,arguments)
}function b3(){bl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0
}function bE(d,c){return c=c||{},c.recognizers=aV(c.recognizers,bE.defaults.preset),new a0(d,c)
}function a0(d,c){this.options=cl({},bE.defaults,c||{}),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=d,this.input=aF(this),this.touchAction=new bo(this,this.options.touchAction),aw(this,!0),a3(this.options.recognizers,function(f){var e=this.add(new f[0](f[1]));
f[2]&&e.recognizeWith(f[2]),f[3]&&e.requireFailure(f[3])
},this)
}function aw(f,e){var h=f.element;
if(h.style){var g;
a3(f.options.cssProps,function(b,a){g=aK(h.style,a),e?(f.oldCssProps[g]=h.style[g],h.style[g]=b):h.style[g]=f.oldCssProps[g]||""
}),e||(f.oldCssProps={})
}}function aj(b,f){var e=bd.createEvent("Event");
e.initEvent(b,!0,!0),e.gesture=f,f.target.dispatchEvent(e)
}var cl,b6=["","webkit","Moz","MS","ms","o"],bM=bd.createElement("div"),a8="function",az=Math.round,am=Math.abs,co=Date.now;
cl="function"!=typeof Object.assign?function(g){if(g===a7||null===g){throw new TypeError("Cannot convert undefined or null to object")
}for(var d=Object(g),k=1;
k<arguments.length;
k++){var j=arguments[k];
if(j!==a7&&null!==j){for(var h in j){j.hasOwnProperty(h)&&(d[h]=j[h])
}}}return d
}:Object.assign;
var cc=a2(function(g,d,k){for(var j=Object.keys(d),h=0;
h<j.length;
){(!k||k&&g[j[h]]===a7)&&(g[j[h]]=d[j[h]]),h++
}return g
},"extend","Use `assign`."),bU=a2(function(d,c){return cc(d,c,!0)
},"merge","Use `assign`."),bg=1,aC=/mobile|tablet|ip(ad|hone|od)|android/i,ap="ontouchstart" in be,ac=aK(be,"PointerEvent")!==a7,ce=ap&&aC.test(navigator.userAgent),bW="touch",cj="pen",b4="mouse",bF="kinect",a1=25,ax=1,ak=2,cm=4,b7=8,bN=1,a9=2,aA=4,an=8,cp=16,cd=a9|aA,bV=an|cp,bi=cd|bV,aD=["x","y"],aq=["clientX","clientY"];
aH.prototype={handler:function(){},init:function(){this.evEl&&aU(this.element,this.evEl,this.domHandler),this.evTarget&&aU(this.target,this.evTarget,this.domHandler),this.evWin&&aU(aI(this.element),this.evWin,this.domHandler)
},destroy:function(){this.evEl&&aS(this.element,this.evEl,this.domHandler),this.evTarget&&aS(this.target,this.evTarget,this.domHandler),this.evWin&&aS(aI(this.element),this.evWin,this.domHandler)
}};
var ad={mousedown:ax,mousemove:ak,mouseup:cm},cf="mousedown",bX="mousemove mouseup";
aZ(bA,aH,{handler:function(d){var c=ad[d.type];
c&ax&&0===d.button&&(this.pressed=!0),c&ak&&1!==d.which&&(c=cm),this.pressed&&(c&cm&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[d],changedPointers:[d],pointerType:b4,srcEvent:d}))
}});
var bk={pointerdown:ax,pointermove:ak,pointerup:cm,pointercancel:b7,pointerout:b7},aG={2:bW,3:cj,4:b4,5:bF},ar="pointerdown",ae="pointermove pointerup pointercancel";
be.MSPointerEvent&&!be.PointerEvent&&(ar="MSPointerDown",ae="MSPointerMove MSPointerUp MSPointerCancel"),aZ(bz,aH,{handler:function(k){var j=this.store,q=!1,p=k.type.toLowerCase().replace("ms",""),o=bk[p],n=aG[k.pointerType]||k.pointerType,m=n==bW,l=aN(j,k.pointerId,"pointerId");
o&ax&&(0===k.button||m)?0>l&&(j.push(k),l=j.length-1):o&(cm|b7)&&(q=!0),0>l||(j[l]=k,this.callback(this.manager,o,{pointers:j,changedPointers:[k],pointerType:n,srcEvent:k}),q&&j.splice(l,1))
}});
var cg={touchstart:ax,touchmove:ak,touchend:cm,touchcancel:b7},bP="touchstart",af="touchstart touchmove touchend touchcancel";
aZ(by,aH,{handler:function(e){var d=cg[e.type];
if(d===ax&&(this.started=!0),this.started){var f=bx.call(this,e,d);
d&(cm|b7)&&f[0].length-f[1].length===0&&(this.started=!1),this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bW,srcEvent:e})
}}});
var bY={touchstart:ax,touchmove:ak,touchend:cm,touchcancel:b7},bu="touchstart touchmove touchend touchcancel";
aZ(bv,aH,{handler:function(e){var d=bY[e.type],f=bt.call(this,e,d);
f&&this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bW,srcEvent:e})
}});
var aQ=2500,at=25;
aZ(bs,aH,{handler:function(g,f,k){var j=k.pointerType==bW,h=k.pointerType==b4;
if(!(h&&k.sourceCapabilities&&k.sourceCapabilities.firesTouchEvents)){if(j){br.call(this,f,k)
}else{if(h&&bp.call(this,k)){return
}}this.callback(g,f,k)
}},destroy:function(){this.touch.destroy(),this.mouse.destroy()
}});
var ag=aK(bM.style,"touchAction"),ch=ag!==a7,b0="compute",bB="auto",aX="manipulation",av="none",ai="pan-x",ck="pan-y",b5=bm();
bo.prototype={set:function(b){b==b0&&(b=this.compute()),ch&&this.manager.element.style&&b5[b]&&(this.manager.element.style[ag]=b),this.actions=b.toLowerCase().trim()
},update:function(){this.set(this.manager.options.touchAction)
},compute:function(){var b=[];
return a3(this.manager.recognizers,function(a){aW(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))
}),bn(b.join(" "))
},preventDefaults:function(t){var s=t.srcEvent,r=t.offsetDirection;
if(this.manager.session.prevented){return void s.preventDefault()
}var q=this.actions,p=aP(q,av)&&!b5[av],o=aP(q,ck)&&!b5[ck],n=aP(q,ai)&&!b5[ai];
if(p){var m=1===t.pointers.length,l=t.distance<2,k=t.deltaTime<250;
if(m&&l&&k){return
}}return n&&o?void 0:p||o&&r&cd||n&&r&bV?this.preventSrc(s):void 0
},preventSrc:function(b){this.manager.session.prevented=!0,b.preventDefault()
}};
var bJ=1,a5=2,ay=4,al=8,cn=al,b9=16,bS=32;
bl.prototype={defaults:{},set:function(b){return cl(this.options,b),this.manager&&this.manager.touchAction.update(),this
},recognizeWith:function(d){if(a4(d,"recognizeWith",this)){return this
}var c=this.simultaneous;
return d=bh(d,this),c[d.id]||(c[d.id]=d,d.recognizeWith(this)),this
},dropRecognizeWith:function(b){return a4(b,"dropRecognizeWith",this)?this:(b=bh(b,this),delete this.simultaneous[b.id],this)
},requireFailure:function(d){if(a4(d,"requireFailure",this)){return this
}var c=this.requireFail;
return d=bh(d,this),-1===aN(c,d)&&(c.push(d),d.requireFailure(this)),this
},dropRequireFailure:function(d){if(a4(d,"dropRequireFailure",this)){return this
}d=bh(d,this);
var c=aN(this.requireFail,d);
return c>-1&&this.requireFail.splice(c,1),this
},hasRequireFailures:function(){return this.requireFail.length>0
},canRecognizeWith:function(b){return !!this.simultaneous[b.id]
},emit:function(f){function e(a){h.manager.emit(a,f)
}var h=this,g=this.state;
al>g&&e(h.options.event+bj(g)),e(h.options.event),f.additionalEvent&&e(f.additionalEvent),g>=al&&e(h.options.event+bj(g))
},tryEmit:function(b){return this.canEmit()?this.emit(b):void (this.state=bS)
},canEmit:function(){for(var b=0;
b<this.requireFail.length;
){if(!(this.requireFail[b].state&(bS|bJ))){return !1
}b++
}return !0
},recognize:function(d){var c=cl({},d);
return aW(this.options.enable,[this,c])?(this.state&(cn|b9|bS)&&(this.state=bJ),this.state=this.process(c),void (this.state&(a5|ay|al|b9)&&this.tryEmit(c))):(this.reset(),void (this.state=bS))
},process:function(b){},getTouchAction:function(){},reset:function(){}},aZ(bZ,bl,{defaults:{pointers:1},attrTest:function(d){var c=this.options.pointers;
return 0===c||d.pointers.length===c
},process:function(g){var f=this.state,k=g.eventType,j=f&(a5|ay),h=this.attrTest(g);
return j&&(k&b7||!h)?f|b9:j||h?k&cm?f|al:f&a5?f|ay:a5:bS
}}),aZ(bw,bZ,{defaults:{event:"pan",threshold:10,pointers:1,direction:bi},getTouchAction:function(){var d=this.options.direction,c=[];
return d&cd&&c.push(ck),d&bV&&c.push(ai),c
},directionTest:function(j){var h=this.options,o=!0,n=j.distance,m=j.direction,l=j.deltaX,k=j.deltaY;
return m&h.direction||(h.direction&cd?(m=0===l?bN:0>l?a9:aA,o=l!=this.pX,n=Math.abs(j.deltaX)):(m=0===k?bN:0>k?an:cp,o=k!=this.pY,n=Math.abs(j.deltaY))),j.direction=m,o&&n>h.threshold&&m&h.direction
},attrTest:function(b){return bZ.prototype.attrTest.call(this,b)&&(this.state&a5||!(this.state&a5)&&this.directionTest(b))
},emit:function(d){this.pX=d.deltaX,this.pY=d.deltaY;
var c=b8(d.direction);
c&&(d.additionalEvent=this.options.event+c),this._super.emit.call(this,d)
}}),aZ(aT,bZ,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[av]
},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&a5)
},emit:function(d){if(1!==d.scale){var c=d.scale<1?"in":"out";
d.additionalEvent=this.options.event+c
}this._super.emit.call(this,d)
}}),aZ(au,bl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[bB]
},process:function(g){var e=this.options,k=g.pointers.length===e.pointers,j=g.distance<e.threshold,h=g.deltaTime>e.time;
if(this._input=g,!j||!k||g.eventType&(cm|b7)&&!h){this.reset()
}else{if(g.eventType&ax){this.reset(),this._timer=a6(function(){this.state=cn,this.tryEmit()
},e.time,this)
}else{if(g.eventType&cm){return cn
}}}return bS
},reset:function(){clearTimeout(this._timer)
},emit:function(b){this.state===cn&&(b&&b.eventType&cm?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=co(),this.manager.emit(this.options.event,this._input)))
}}),aZ(ah,bZ,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[av]
},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&a5)
}}),aZ(ci,bZ,{defaults:{event:"swipe",threshold:10,velocity:0.3,direction:cd|bV,pointers:1},getTouchAction:function(){return bw.prototype.getTouchAction.call(this)
},attrTest:function(e){var d,f=this.options.direction;
return f&(cd|bV)?d=e.overallVelocity:f&cd?d=e.overallVelocityX:f&bV&&(d=e.overallVelocityY),this._super.attrTest.call(this,e)&&f&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&am(d)>this.options.velocity&&e.eventType&cm
},emit:function(d){var c=b8(d.offsetDirection);
c&&this.manager.emit(this.options.event+c,d),this.manager.emit(this.options.event,d)
}}),aZ(b3,bl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[aX]
},process:function(j){var e=this.options,p=j.pointers.length===e.pointers,o=j.distance<e.threshold,n=j.deltaTime<e.time;
if(this.reset(),j.eventType&ax&&0===this.count){return this.failTimeout()
}if(o&&n&&p){if(j.eventType!=cm){return this.failTimeout()
}var m=this.pTime?j.timeStamp-this.pTime<e.interval:!0,l=!this.pCenter||bH(this.pCenter,j.center)<e.posThreshold;
this.pTime=j.timeStamp,this.pCenter=j.center,l&&m?this.count+=1:this.count=1,this._input=j;
var k=this.count%e.taps;
if(0===k){return this.hasRequireFailures()?(this._timer=a6(function(){this.state=cn,this.tryEmit()
},e.interval,this),a5):cn
}}return bS
},failTimeout:function(){return this._timer=a6(function(){this.state=bS
},this.options.interval,this),bS
},reset:function(){clearTimeout(this._timer)
},emit:function(){this.state==cn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))
}}),bE.VERSION="2.0.8",bE.defaults={domEvents:!1,touchAction:b0,enable:!0,inputTarget:null,inputClass:null,preset:[[ah,{enable:!1}],[aT,{enable:!1},["rotate"]],[ci,{direction:cd}],[bw,{direction:cd},["swipe"]],[b3],[b3,{event:"doubletap",taps:2},["tap"]],[au]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};
var bf=1,aB=2;
a0.prototype={set:function(b){return cl(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this
},stop:function(b){this.session.stopped=b?aB:bf
},recognize:function(h){var g=this.session;
if(!g.stopped){this.touchAction.preventDefaults(h);
var m,l=this.recognizers,k=g.curRecognizer;
(!k||k&&k.state&cn)&&(k=g.curRecognizer=null);
for(var j=0;
j<l.length;
){m=l[j],g.stopped===aB||k&&m!=k&&!m.canRecognizeWith(k)?m.reset():m.recognize(h),!k&&m.state&(a5|ay|al)&&(k=g.curRecognizer=m),j++
}}},get:function(e){if(e instanceof bl){return e
}for(var d=this.recognizers,f=0;
f<d.length;
f++){if(d[f].options.event==e){return d[f]
}}return null
},add:function(d){if(a4(d,"add",this)){return this
}var c=this.get(d.options.event);
return c&&this.remove(c),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d
},remove:function(e){if(a4(e,"remove",this)){return this
}if(e=this.get(e)){var d=this.recognizers,f=aN(d,e);
-1!==f&&(d.splice(f,1),this.touchAction.update())
}return this
},on:function(e,d){if(e!==a7&&d!==a7){var f=this.handlers;
return a3(aO(e),function(b){f[b]=f[b]||[],f[b].push(d)
}),this
}},off:function(e,d){if(e!==a7){var f=this.handlers;
return a3(aO(e),function(b){d?f[b]&&f[b].splice(aN(f[b],d),1):delete f[b]
}),this
}},emit:function(f,e){this.options.domEvents&&aj(f,e);
var h=this.handlers[f]&&this.handlers[f].slice();
if(h&&h.length){e.type=f,e.preventDefault=function(){e.srcEvent.preventDefault()
};
for(var g=0;
g<h.length;
){h[g](e),g++
}}},destroy:function(){this.element&&aw(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null
}},cl(bE,{INPUT_START:ax,INPUT_MOVE:ak,INPUT_END:cm,INPUT_CANCEL:b7,STATE_POSSIBLE:bJ,STATE_BEGAN:a5,STATE_CHANGED:ay,STATE_ENDED:al,STATE_RECOGNIZED:cn,STATE_CANCELLED:b9,STATE_FAILED:bS,DIRECTION_NONE:bN,DIRECTION_LEFT:a9,DIRECTION_RIGHT:aA,DIRECTION_UP:an,DIRECTION_DOWN:cp,DIRECTION_HORIZONTAL:cd,DIRECTION_VERTICAL:bV,DIRECTION_ALL:bi,Manager:a0,Input:aH,TouchAction:bo,TouchInput:bv,MouseInput:bA,PointerEventInput:bz,TouchMouseInput:bs,SingleTouchInput:by,Recognizer:bl,AttrRecognizer:bZ,Tap:b3,Pan:bw,Swipe:ci,Pinch:aT,Rotate:ah,Press:au,on:aU,off:aS,each:a3,merge:bU,extend:cc,assign:cl,inherit:aZ,bindFn:aY,prefixed:aK});
var ao="undefined"!=typeof be?be:"undefined"!=typeof self?self:{};
ao.Hammer=bE,"function"==typeof define&&define.amd?define(function(){return bE
}):"undefined"!=typeof module&&module.exports?module.exports=bE:be[bc]=bE
}(window,document,"Hammer");
(function(b){var a=typeof define=="function"&&define.amd&&(define(["jquery"],b)||true),c=!a&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=b);
!a&&!c&&b()
})(function(){return jQuery.reel||function(bp,bA,bx,bk){function ay(k){return bo.instances.push(k[0])&&k
}function am(k){return(bo.instances=bo.instances.not(an(k.attr(o))))&&k
}function bw(k){return bo.instances.first().data(k)
}function T(k){return"data:image/gif;base64,R0lGODlh"+k
}function bz(k){return"<"+k+"/>"
}function bj(k){return"."+(k||"")
}function bE(k){return k.replace(ae,bo.cdn)
}function w(k){return"url('"+bT(k)+"')"
}function b7(n,k){return typeof k==aw?k[n]:k
}function l(n,k,s){return ak(n,co(k,s))
}function ce(n,k){return bN(n)*(k?-1:1)
}function bn(k){return k.touch||k.originalEvent.touches&&k.originalEvent.touches[0]||k
}function N(k){return k.originalEvent
}function bi(k){return k===bk?0:typeof k==r?k:k+"px"
}function an(k){return"#"+k
}function bM(n,k,s){for(;
n.length<k;
){n=s+n
}return n
}function f(k){return bM(k,2,"0")
}function bT(k){return encodeURI(decodeURI(k))
}function cl(k){return bo.re.array.exec(k)?k.split(bo.re.array):k
}function u(k){return !k.parents(b5).length
}function bq(k){return typeof k==r?k:bp.each(k,function(n,s){k[n]=s?+s:bk
})
}function aM(n){try{console.error("[ Reel ] "+n)
}catch(k){}}if(bp){var bv=bp&&bp().jquery.split(/\./);
if(!bv||+(f(bv[0])+f(bv[1])+f(bv[2]||""))<10602){return aM("Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher")
}var bo=bp.reel={version:"1.3.0",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,orientable:false,cw:false,revolution:bk,stitched:0,directional:false,row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:bk,images:"",path:"",preload:"fidelity",shy:false,speed:0,delay:0,timeout:2,duration:bk,rebound:0.5,entry:bk,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:bk,hint:"",indicator:0,klass:"",preloader:2,area:bk,attr:{},annotations:bk,responsive:false,graph:bk,monitor:bk},scan:function(){return bp(bj(bh)+":not("+bj(az)+" > "+bj(bh)+")").each(function(n,k){n=bp(k);
k=n.data();
k.images=cl(k.images);
var s={};
bp(bj(a7)+"[data-for="+n.attr(o)+"]").each(function(x,z){x=bp(z);
z=x.data();
z.x=bq(cl(z.x));
z.y=bq(cl(z.y));
var y=x.attr(o);
z.node=x.removeData();
s[y]=z
});
k.annotations=s;
n.removeData().reel(k)
})
},fn:{reel:function(){var A=arguments,n=bp(this),B=n.data(),s=A[0]||{},z=A[1];
if(typeof s!="object"){if(s.slice(0,1)==":"){return n.trigger(s.slice(1),z)
}else{if(A.length==1){return B[s]
}else{if(z!==bk){bo.normal[s]&&(z=bo.normal[s](z,B));
if(B[s]===bk){B[s]=z
}else{if(B[s]!==z){n.trigger(s+"Change",[bk,B[s]=z])
}}}return n
}}}else{var y=bp.extend({},bo.def,s),k=[];
n.filter(a6).unreel().filter(function(){var H=bp(this),J=y.attr,D=J.src||H.attr(aV),F=J.width||H.attr(bJ)||H.width();
H=J.height||H.attr(bQ)||H.height();
if(!D){return aM("`src` attribute missing on target image")
}if(!F||!H){return aM("Dimension(s) of the target image unknown")
}return true
}).each(function(){var cr=bp(this),ct=function(cA,cz){return cr.reel(cA,cz)&&cy(cA)
},cy=function(cz){return cr.data(cz)
},Z={setup:function(){if(!(cr.hasClass(bh)&&cr.parent().hasClass(az))){ct(bX,y);
var cO={src:cr.attr(aV),width:cr.attr(bQ)||null,height:cr.attr(bJ)||null,style:cr.attr(ca)||null,"class":cr.attr(aY)||null},cN=cr.attr(y.attr).attr(aV),cP=ct(o,cr.attr(o)||cr.attr(o,bh+"-"+ +new Date).attr(o)),cM=bp.extend({},cr.data()),cH=ct(b9,y.images||[]),cJ=ct(by,y.stitched),cK=!cH.length||cJ;
cK=ct(aX,y.responsive&&(h?true:!cK));
var cG=ct(aN,{}),cE=y.loops,cD=y.orbital,cF=y.revolution,cB=y.rows,cI=ct(aH,co(y.footage,y.frames));
ct(aK,y.spacing);
var cL=ct(bQ,+cr.attr(bQ)||cr.width()),cA=ct(bJ,+cr.attr(bJ)||cr.height()),cz=ct(bu,y.shy),cQ=ct(bH,cD&&cI||cB<=1&&cH.length||y.frames),cC=cB>1||cD;
ct(bf,b7("x",cF)||cJ/2||cL*2);
ct(v,!cC?0:b7("y",cF)||(cB>3?cA:cA/(5-cB)));
cB=cJ?1:b(cQ/cI);
ct(j,cJ-(cE?0:cL));
ct(bV,0);
cP=an(cP+y.suffix);
cE=cr.attr(aY);
cE=!cE?bG:cE+bS;
cE=bp(bz(ax),{id:cP.substr(1),"class":cE+bS+az+bS+ao+"0"});
cE=cr.wrap(cE.addClass(y.klass)).addClass(bh);
k.push(ay(cE)[0]);
cE=cE.parent().bind(Z.instance);
ct(cn,cH.length?bG:y.image||cN.replace(bo.re.image,"$1"+y.suffix+".$2"));
ct(b8,bp(bz(ax),{"class":cd}).appendTo("body"));
ct(a3,bp());
ct(af,[]);
ct(bL,null);
ct(bR,null);
ct(bF,y.row);
ct(al,0);
ct(bW,cB);
ct(C,y.rowlock);
ct(m,y.framelock);
ct(bO,ct(aS,ct(br,0)));
ct(a8,1/cQ);
ct(cp,cP);
ct(bI,ct(R,y.speed)<0);
ct(aF,false);
ct(ch,0);
ct(t,y.vertical);
ct(a9,0);
ct(g,ce(1,!y.cw&&!cJ));
ct(aZ,{});
ct(a0,false);
ct(aO,ct(bt,0));
ct(aB,ct(ap,0));
ct(au,false);
ct(be,false);
ct(aP,false);
ct(cf,y.brake);
ct(a2,!!cD);
ct(aC,y.tempo/(bo.lazy?y.laziness:1));
ct(cm,-1);
ct(ag,-1);
ct(aj,y.annotations||cE.unbind(bj(aj))&&{});
ct(aR,1);
ct(bY,{attr:cO,data:cM});
y.steppable||cE.unbind("up.steppable");
y.indicator||cE.unbind(".indicator");
bc(bG,{overflow:aE,position:"relative"});
cK||bc(bG,{width:cL,height:cA});
cK&&bp.each(bU,function(cS,cR){cG[cR]=cy(cR)
});
bc(b0+bS+bj(bh),{display:at});
bc(bj(cd),{position:"fixed",left:bi(-100),top:bi(-100)},true);
bc(bj(cd)+bS+a6,{position:K,width:10,height:10},true);
aq.bind(Z.pool);
cr.trigger(cz?"prepare":"setup")
}},instance:{teardown:function(){var cz=cr.data(bY);
cr.parent().unbind(Z.instance);
if(cy(bu)){cr.parent().unbind(E,bd)
}else{cy(ca).remove()&&cy(a3).unbind(bP)
}cy(b8).empty();
clearTimeout(M);
clearTimeout(ac);
bp(bA).unbind(bg,W);
bp(bA).unbind(bP);
aq.unbind(Z.pool);
cc.unbind(G);
cr.siblings().unbind(bP).remove();
U();
cr.removeAttr("onloaded");
am(cr.unbind(bP).removeData().unwrap().attr(cz.attr).data(cz.data));
cr.attr(ca)==bG&&cr.removeAttr(ca)
},setup:function(){function cF(cG){return cr.trigger("down",[bn(cG).clientX,bn(cG).clientY,cG])&&cG.give
}function cE(cH,cG){return !cG||cr.trigger("wheel",[cG,cH])&&cH.give
}var cA=cr.parent().append(ab()),cC=ct(a3,bp(y.area||cA)),cD=y.rows>1,cz=y.cursor,cB=cz==aT?bs:cz||ba;
cz=cz==aT?a1+bS+"!important":bk;
bc(bS+bj(bh),{MozUserSelect:a,WebkitUserSelect:a,MozTransform:"translateZ(0)"});
cr.unbind(E,bd);
cC.bind(aQ,cF).bind(y.clickfree?aD:ar,cF).bind(y.wheelable?ah:null,cE).bind(I,function(){return false
});
bc(bG,{cursor:bE(cB)});
bc(bj(q),{cursor:"wait"});
bc(bj(cg)+b0+bj(cg)+" *",{cursor:bE(cz||cB)},true);
if(cy(aX)){bc(bS+bj(bh),{width:"100%",height:d});
bp(bA).bind(bg,W)
}y.hint&&cC.attr("title",y.hint);
y.indicator&&cA.append(cu("x"));
cD&&y.indicator&&cA.append(cu("y"));
y.monitor&&cA.append(F=bp(bz(ax),{"class":av}))&&bc(bS+bj(av),{position:K,left:0,top:0})
},preload:function(){function cF(){var cG=cB.children(":not([src]):first");
return cG.attr(aV,cG.data(aV))
}var cE=cr.parent(),cA=cy(b9),cC=!cA.length,cD=bo.preload[y.preload]||bo.preload[bo.def.preload];
cA=cC?[cy(cn)]:cD(cA.slice(0),y,cy);
ct(a9,cC?0.5:0);
var cz=0,cB=cy(b8).empty();
cC=[];
cE.addClass(q);
ct(ca,cy(ca)||bp("<"+ca+' type="text/css">'+bc.rules.join("\n")+"</"+ca+">").prependTo(cj));
ct(aF,true);
cr.trigger("stop");
y.responsive&&cs();
for(cr.trigger("resize",true);
cA.length;
){cD=bo.substitute(y.path+cA.shift(),cy);
bp(bz(a6)).data(aV,cD).appendTo(cB).bind("load error abort",function(cG){cG.type!="load"&&cr.trigger(cG.type);
return !u(cE)&&cr.trigger("preloaded")&&cF()&&false
});
cC.push(cD)
}setTimeout(function(){for(;
++cz<bo.concurrent_requests;
){cF()
}},0);
ct(af,cC);
ct(bu,false)
},preloaded:function(){var cA=cy(b9).length||1,cz=ct(a9,co(cy(a9)+1,cA));
cz===1&&cr.trigger("frameChange",[bk,cy(bL)]);
if(cz===cA){cr.parent().removeClass(q);
cr.trigger("loaded")
}},loaded:function(){cy(b9).length>1||cr.css({backgroundImage:w(bo.substitute(y.path+cy(cn),cy))}).attr({src:bE(ai)});
cy(by)&&cr.attr({src:bE(ai)});
cy(be)||ct(ch,y.velocity||0);
ct(aF,false);
J=true
},prepare:function(){cr.css("display",at).parent().one(E,bd)
},opening:function(){if(!y.opening){return cr.trigger("openingDone")
}ct(aP,true);
ct(bD,!cy(R));
var cB=y.entry||y.speed,cA=cy(bR),cz=y.opening;
ct(bR,cA-cB*cz);
ct(cm,b(cz*bw(aC)))
},openingDone:function(){function cA(cB){return cr.trigger("orient",[N(cB).alpha,N(cB).beta,N(cB).gamma,cB])&&cB.give
}ct(e,false);
ct(aP,false);
var cz=bZ+bj(aP);
aq.unbind(cz,Z.pool[cz]);
y.orientable&&bp(bA).bind(p,cA);
if(y.delay>0){M=setTimeout(function(){cr.trigger("play")
},y.delay*1000)
}else{cr.trigger("play")
}},play:function(cA,cz){cz=cz?ct(R,cz):cy(R)*ce(1,cy(bI));
(cA=y.duration)&&ct(ag,b(cA*bw(aC)));
ct(bI,cz<0);
cz=ct(e,!!cz);
ct(bD,!cz);
L()
},reach:function(cC,cB,cz){if(cB!=cy(bL)){cC=cy(bH);
ct(bF,b(cB/cC));
var cA=ct(bO,cy(bL));
cB=ct(aS,cB);
cB=ct(br,bo.math.distance(cA,cB,cC));
cz=bN(cz||cy(R))*ce(1,cB<0);
cr.trigger("play",cz)
}},pause:function(){aa()
},stop:function(){var cz=ct(bD,true);
ct(e,!cz)
},down:function(cE,cD,cA,cB){function cC(cF){return cr.trigger("pan",[bn(cF).clientX,bn(cF).clientY,cF])&&cF.give
}function cz(cF){return cr.trigger("up",[cF])&&cF.give
}if(!(!y.clickfree&&cB&&cB.button!==bk&&cB.button!=c)){if(y.draggable){ct(a0,cy(bL));
cE=y.clickfree;
ct(ch,0);
cB=cE?cy(a3):cc;
cb=D(cy(bf),cD,cA);
aa();
U();
ad=0;
bp(b5,cc).addClass(cg);
cB.bind(ci+bS+b3,cC).bind(bB+bS+bl,cz).bind(cE?a5:aW,cz)
}}},up:function(){ct(a0,false);
ct(au,false);
var cA=y.throwable,cz=bN(bb[0]+bb[1])/60;
V=ct(ch,!cA?0:cA===true?cz:co(cA,cz))?1:0;
aa();
U();
bp(b5,cc).removeClass(cg);
(y.clickfree?cy(a3):cc).unbind(G)
},pan:function(cF,cE,cG,cD){if(y.draggable&&cw){cw=false;
aa();
cF=y.rows;
var cA=y.orbital,cB=!cy(au)&&cF<=1&&!cA&&y.scrollable,cC={x:cE-cb.x,y:cG-cb.y},cz={x:bN(cC.x),y:bN(cC.y)};
if(cD&&cB&&cz.x<cz.y){return cD.give=true
}if(cz.x>0||cz.y>0){cD&&(cD.give=false);
ad=ak(cz.x,cz.y);
cb={x:cE,y:cG};
cD=cy(bf);
cB=cy(aZ);
cz=cy(t);
if(!cy(m)){var cH=ct(bR,H(cz?cG-cB.y:cE-cB.x,cy(aO),cD,cy(aB),cy(ap),cy(g),cz?cG-cB.y:cE-cB.x));
ct(au,cy(au)||cy(bL)!=cy(a0));
(cC=Y(cz?cC.y:cC.x||0))&&ct(bI,cC<0)
}if(cA&&cy(a2)){ct(t,bN(cG-cB.y)>bN(cE-cB.x));
cB=D(cD,cE,cG)
}if(cF>1&&!cy(C)){cF=cy(v);
cA=cy(bt);
cC=-cA*cF;
ct(al,bo.math.envelope(cG-cB.y,cA,cF,cC,cC+cF,-1))
}!(cH%1)&&!y.loops&&D(cD,cE,cG)
}}},wheel:function(cB,cA,cz){if(cA){X=true;
cB=b(a4.sqrt(bN(cA))/2);
cB=ce(cB,cA>0);
cA=0.0833*cy(bf);
D(cA);
cB&&ct(bI,cB<0);
ct(ch,0);
ct(bR,H(cB,cy(aO),cA,cy(aB),cy(ap),cy(g)));
cz&&cz.preventDefault();
cz&&(cz.give=false);
aa();
cr.trigger("up",[cz])
}},orient:function(cA,cz){if(!(!cw||S)){cq=true;
cA=cz/360;
fraction=ct(bR,+(y.stitched||y.cw?1-cA:cA).toFixed(2));
cw=false
}},fractionChange:function(cB,cA,cz){if(cA===bk){cB=1+aU(cz/cy(a8));
cA=y.rows>1;
cz=y.orbital;
ct(a2,!!cz&&(cB<=cz||cB>=cy(aH)-cz+2));
if(cA){cB+=(cy(bF)-1)*cy(bH)
}ct(bL,cB)
}},tierChange:function(cB,cA,cz){if(cA===bk){cB=ct(bF,bC(bm(cz,1,y.rows)));
cA=cy(bH);
cz=cy(bL)%cA||cA;
ct(bL,cz+cB*cA-cA)
}},rowChange:function(cB,cA,cz){cA===bk&&cv(al,bk,cz,y.rows)
},frameChange:function(cF,cE,cG){if(cE===bk){this.className=this.className.replace(bo.re.frame_klass,ao+cG);
cF=cy(bH);
cE=y.rows;
var cD=y.path,cA=cG%cF||cF,cB=((cG-cA)/cF+1-1)/(cE-1),cC=cy(bF);
!cE?cy(al):cv(al,cB,cC,cE);
var cz=cv(bR,bk,cA,cF),cI=cy(aH);
if(y.orbital&&cy(t)){cG=y.inversed?cI+1-cG:cG;
cG+=cI
}var cH=cy(by);
cF=cy(b9);
if(!cF.length||cH){cA=cy(aK);
var cJ=cy(bQ);
cB=cy(bJ);
if(cH){cG=ct(bV,bC(bm(cz,0,cy(j)))%cH);
cE=cE<=1?0:(cB+cA)*(cE-cC);
cG=[bi(-cG),bi(-cE)];
cF=cF.length>1&&cF[cC-1];
cE=bo.substitute(cD+cF,cy);
cF&&cr.css("backgroundImage").search(cE)<0&&cr.css({backgroundImage:w(cE)})
}else{cD=y.horizontal;
cC=cG%cI-1;
cC=cC<0?cI-1:cC;
cG=aU((cG-0.1)/cI);
cG+=cE>1?0:cy(bI)?0:!y.directional?0:cy(bW);
cG=cG*((cD?cB:cJ)+cA);
cE=cC*((cD?cJ:cB)+cA);
cG=cF.length?[0,0]:cD?[bi(-cE),bi(-cG)]:[bi(-cG),bi(-cE)]
}cr.css({backgroundPosition:cG.join(bS)})
}else{cy(aX)&&cs();
cy(a9)&&cr.attr({src:bT(bo.substitute(cD+cF[cG-1],cy))})
}}},"frameChange.reach":function(cB,cA,cz){if(!(!cy(aS)||cA!==bk)){cB=bo.math.distance(cy(bO),cz,cy(bH));
if(bN(cB)>=bN(cy(br))){ct(bL,ct(aS));
ct(aS,ct(br,ct(bO,0)));
cr.trigger("stop")
}}},"imageChange imagesChange":function(){cr.trigger("preload")
},"fractionChange.indicator":function(cC,cB,cz){if(y.indicator&&cB===bk){cC=y.indicator;
var cA=y.orbital;
cB=cA&&cy(t)?cy(bJ):cy(bQ);
cA=cA?cy(aH):y.images.length||cy(bH);
cA=b(cB/cA);
cB-=cA;
cz=bC(bm(cz,0,cB));
cz=!y.cw||cy(by)?cz:cB-cz;
cu.$x.css(cy(t)?{left:0,top:bi(cz),bottom:d,width:cC,height:cA}:{bottom:0,left:bi(cz),top:d,width:cA,height:cC})
}},"tierChange.indicator":function(cC,cB,cz){if(y.rows>1&&y.indicator&&cB===bk){var cA=cy(bJ);
cC=y.indicator;
cB=b(cA/y.rows);
cA-=cB;
cz=bC(cz*cA);
cu.$y.css({left:0,top:cz,width:cC,height:cB})
}},"setup.annotations":function(){var cz=cr.parent();
bp.each(cy(aj),function(cE,cB){var cC=typeof cB.node==r?bp(cB.node):cB.node||{};
cC=cC.jquery?cC:bp(bz(ax),cC);
cC=cC.attr({id:cE}).addClass(a7);
var cD=cB.image?bp(bz(a6),cB.image):bp(),cA=cB.link?bp(bz("a"),cB.link).click(function(){cr.trigger("up.annotations",{target:cA})
}):bp();
bc(an(cE),{display:a,position:K},true);
cB.image||cB.link&&cC.append(cA);
cB.link||cB.image&&cC.append(cD);
cB.link&&cB.image&&cC.append(cA.append(cD));
cC.appendTo(cz)
})
},"prepare.annotations":function(){bp.each(cy(aj),function(cz){bp(an(cz)).hide()
})
},"frameChange.annotations":function(cD,cC){if(!(!cy(a9)||cC!==bk)){var cz=cy(bQ),cA=cy(by),cB=cy(bV);
bp.each(cy(aj),function(cE,cG){cE=bp(an(cE));
var cK=cG.start||1,cI=cG.end,cH=cH||cy(bL),cJ=cH-1,cL=cG.at?cG.at[cJ]=="+":false;
cJ=cG.at?cJ:cJ-cK+1;
cH=typeof cG.x!=aw?cG.x:cG.x[cJ];
var cF=typeof cG.y!=aw?cG.y:cG.y[cJ];
cG=cH!==bk&&cF!==bk&&(cG.at?cL:cJ>=0&&(!cI||cJ<=cI-cK));
if(cA){cK=cH>cA-cz&&cB>=0&&cB<cz;
cH=!(cH<cz&&cB>cA-cz)?cH:cH+cA;
cH=!cK?cH:cH-cA;
cH-=cB
}if(cy(aX)){cK=cy(aR);
cH=cH&&cH*cK;
cF=cF&&cF*cK
}cH={display:cG?at:a,left:bi(cH),top:bi(cF)};
cE.css(cH)
})
}},"up.annotations":function(cA,cz){if(!(ad>10||X)){cA=bp(cz.target);
(cA.is("a")?cA:cA.parents("a")).attr("href")&&(ad=10)
}},"up.steppable":function(){ad||X||cr.trigger(cy(aZ).x-cr.offset().left>0.5*cy(bQ)?"stepRight":"stepLeft")
},"stepLeft stepRight":function(){aa()
},stepLeft:function(){ct(bI,false);
ct(bR,cy(bR)-cy(a8)*cy(g))
},stepRight:function(){ct(bI,true);
ct(bR,cy(bR)+cy(a8)*cy(g))
},stepUp:function(){ct(bF,cy(bF)-1)
},stepDown:function(){ct(bF,cy(bF)+1)
},resize:function(cE,cD){if(!(cy(aF)&&!cD)){var cA=cy(by),cB=cy(aK);
cE=cy(bJ);
var cC=!cy(b9).length||cA,cz=y.rows||1;
cA=cy(b9).length?!cA?bk:bi(cA)+bS+bi(cE):cA&&bi(cA)+bS+bi((cE+cB)*cz-cB)||bi((cy(bQ)+cB)*cy(aH)-cB)+bS+bi((cE+cB)*cy(bW)*cz*(y.directional?2:1)-cB);
cr.css({height:cC?bi(cE):null,backgroundSize:cA||null});
cD||cr.trigger("imagesChange")
}},"setup.fu":function(){ct(bL,y.frame+(cy(bF)-1)*cy(bH));
cr.trigger("preload")
},"wheel.fu":function(){X=false
},"clean.fu":function(){cr.trigger("teardown")
},"loaded.fu":function(){cr.trigger("opening")
}},pool:{"tick.reel.preload":function(){if(!(!(J||cy(aF))||cy(bu))){var cC=cy(bQ),cB=aI(ab.$.css(bQ)),cz=cy(b9).length||1,cA=bC(1/cz*cy(a9)*cC);
ab.$.css({width:cB+(cA-cB)/3+1});
if(cy(a9)===cz&&cB>cC-1){J=false;
ab.$.fadeOut(300,function(){ab.$.css({opacity:1,width:0})
})
}}},"tick.reel":function(cC){if(!cy(bu)){var cB=cy(ch),cz=bw(aC),cA=y.monitor;
if(!(!bo.intense&&O())){if(V){cB=cB-cy(cf)/cz*V;
cB=ct(ch,cB>0.1?cB:(V=S=0))
}cA&&F.text(cy(cA));
cB&&V++;
S&&S++;
Y(0);
cw=true;
if(S&&!cB){return Q(cC)
}if(cy(a0)){return Q(cC,aa())
}if(!(cy(cm)>0)){if(!y.loops&&y.rebound){!S&&!(cy(bR)%1)?P++:(P=0);
P>=y.rebound*1000/cz&&ct(bI,!cy(bI))
}cC=cy(g)*ce(1,cy(bI));
cz=cy(ag);
cB=(!cy(e)||cq||!cz?cB:bN(cy(R))+cB)/bw(aC);
ct(bR,cy(bR)-cB*cC);
cz=!y.duration?cz:cz>0&&ct(ag,cz-1);
!cz&&cy(e)&&cr.trigger("stop")
}}}},"tick.reel.opening":function(){if(cy(aP)){var cA=(y.entry||y.speed)/bw(aC)*(y.cw?-1:1),cz=ct(cm,cy(cm)-1);
ct(bR,cy(bR)+cA);
cz||cr.trigger("openingDone")
}}}},J=false,Q=function(cA,cz){return cA.stopImmediatePropagation()||cz
},bd=function(){cr.trigger("setup")
},S,V=0,L=function(){return S=0
},aa=function(){clearTimeout(M);
aq.unbind(bZ+bj(aP),Z.pool[bZ+bj(aP)]);
ct(cm,0);
ct(be,true);
return S=-y.timeout*bw(aC)
},ad=0,X=false,cq=false,F=bp(),ab=function(){bc(bS+bj(ck),{position:K,left:0,bottom:0,height:y.preloader,overflow:aE,backgroundColor:"#000"});
return ab.$=bp(bz(ax),{"class":ck})
},cu=function(cz){bc(bS+bj(b4)+bj(cz),{position:K,width:0,height:0,overflow:aE,backgroundColor:"#000"});
return cu["$"+cz]=bp(bz(ax),{"class":b4+bS+cz})
},bc=function(cC,cB,cz){function cA(cE){var cD=[];
bp.each(cE,function(cF,cG){cD.push(cF.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+bi(cG)+";")
});
return"{"+cD.join(bG)+"}"
}cz=cz?bG:cy(cp);
cC=cC.replace(/^/,cz).replace(b0,b0+cz);
return bc.rules.push(cC+cA(cB))&&cB
},O=function(){var cB=cy(bJ),cA=cy(bQ),cz=cr[0].getBoundingClientRect();
return cz.top<-cB||cz.left<-cA||cz.right>cA+bp(bA).width()||cz.bottom>cB+bp(bA).height()
},P=0,cb={x:0,y:0},Y=function(cz){return bb.push(cz)&&bb.shift()&&cz
},U=function(){return bb=[0,0]
},bb=U(),H=y.graph||bo.math[y.loops?"hatch":"envelope"],W=function(){clearTimeout(ac);
ac=setTimeout(cs,bo.resize_gauge)
},cs=function(){if(cr.width()!=cy(bQ)){var cA=cy(aN),cz=ct(aR,cr.width()/cA.width);
bp.each(cA,function(cB,cC){ct(cB,bC(cC*cz))
});
cr.trigger("resize")
}},M,ac,D=function(cD,cC,cz){var cA=ct(aO,cy(bR));
ct(bt,cy(al));
var cB=y.loops;
ct(aB,cB?0:-cA*cD);
ct(ap,cB?cD:cD-cA*cD);
return cC!==bk&&ct(aZ,{x:cC,y:cz})||bk
},cw=true,cv=function(cD,cC,cz,cA){if(cA){var cB=cy(cD)||0;
cz=cC!==bk?cC:(cz-1)/(cA-1);
cz=cD!=bR?cz:co(cz,0.9999);
return cC=+bN(cB-cz).toFixed(8)>=+(1/(cA-1)).toFixed(8)?ct(cD,cz):cC||cB
}},cc=aq;
try{if(aq[0]!=top.document){cc=aq.add(top.document)
}}catch(cx){}top===self?bp():function(cz){bp("iframe",cc.last()).each(function(){try{if(bp(this).contents().find(cj).html()==bp(cj).html()){return(cz=bp(this))&&false
}}catch(cA){}});
return cz
}();
bc.rules=[];
Z.setup()
});
aG=aG||function x(){var F=+new Date,D=bw(aC);
if(!D){return aG=null
}aq.trigger(bZ);
bo.cost=(+new Date+bo.cost-F)/2;
return aG=setTimeout(x,ak(4,1000/D-bo.cost))
}();
return bp(k)
}},unreel:function(){return this.trigger("teardown")
}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(y,k,z,n,x,s){return k+l(n,x,-y*s)/z
},hatch:function(y,k,z,n,x,s){y=(y<n?x:0)+y%x;
y=k+-y*s/z;
return y-aU(y)
},interpolate:function(n,k,s){return k+n*(s-k)
},distance:function(s,k,x){var n=x/2;
s=k-s;
return s<-n?s+x:s>n?s-x:s
}},preload:{fidelity:function(A,n,B){function s(M,O,S){function Q(U){for(;
!(U>=1&&U<=L);
){U+=U<1?+L:-L
}return x[S+U]||(x[S+U]=!!H.push(U))
}if(!M.length){return[]
}var H=[],F=4*O,J=n.frame,L=M.length;
O=true;
for(var D=L/F,P=0;
P<F;
P++){Q(J+bC(P*D))
}for(;
D>1;
){P=0;
F=H.length;
D/=2;
for(O=!O;
P<F;
P++){Q(H[P]+(O?1:-1)*bC(D))
}}for(P=0;
P<=L;
P++){Q(P)
}for(P=0;
P<H.length;
P++){H[P]=M[H[P]-1]
}return H
}var z=n.orbital,y=z?2:n.rows||1,k=z?B(aH):B(bH);
B=(n.row-1)*k;
z=[].concat(A);
var x=new Array(A.length+1);
A=y<2?[]:z.slice(B,B+k);
return s(A,1,B).concat(s(z,y,0))
},linear:function(k){return k
}},substitute:function(n,k){return n.replace(bo.re.substitution,function(y,s,x){return typeof bo.substitutes[x]=="function"?bo.substitutes[x](k):aL[x]?k(aL[x]):s
})
},substitutes:{T:function(){return +new Date
}},normal:{fraction:function(n,k){if(n===null){return n
}return k[bX].loops?n-aU(n):l(0,1,n)
},tier:function(k){if(k===null){return k
}return l(0,1,k)
},row:function(n,k){if(n===null){return n
}return bC(l(1,k[bX].rows,n))
},frame:function(n,k){if(n===null){return n
}var s=k[bX];
k=k[bH]*(s.orbital?2:s.rows||1);
n=bC(s.loops?n%k||k:l(1,k,n));
return n<0?n+k:n
},images:function(n,k){var s=bo.re.sequence.exec(n);
return !s?n:bo.sequence(s,k[bX])
}},sequence:function(A,n){if(A.length<=1){return n.images
}var B=[],s=n.orbital,z=A[1],y=A[2],k=A[4];
k=bo.re.no_match.test(k+bG)?1:+k;
var x=s?2:n.rows||1;
n=s?n.footage:n.stitched?1:n.frames;
x=+(A[5]||x*n)-k;
A=+A[7]||1;
for(n=0;
n<=x;
){B.push(z.replace(y,bM(k+n+bG,y.length,"0")));
n+=A
}return B
},instances:bp(),leader:bw,resize_gauge:300,concurrent_requests:4,cost:0},aq=bp(bx);
bx=navigator.userAgent;
var aA=bo.re.ua[0].exec(bx)||bo.re.ua[1].exec(bx)||bo.re.ua[2].exec(bx);
bv=+aA[2].split(".").slice(0,2).join(".");
aA=aA[1]=="MSIE";
var b6=!(aA&&bv<8),h=!(aA&&bv<9),aG,bh="reel",az=bh+"-overlay",cd=bh+"-cache",b4=bh+"-indicator",ck=bh+"-preloader",av=bh+"-monitor",a7=bh+"-annotation",cg=bh+"-panning",q=bh+"-loading",ao="frame-",a4=Math,bC=a4.round,aU=a4.floor,b=a4.ceil,co=a4.min,ak=a4.max,bN=a4.abs,aI=parseInt,bm=bo.math.interpolate,aj="annotations",a3="area",d="auto",bY="backup",bI="backwards",a8="bit",cf="brake",b8="cache",af=b8+"d",a2="center",aY="class",E="click",a0=E+"ed",aZ=a0+"_location",aO=a0+"_on",bt=a0+"_tier",g="cwish",bO="departure",aS="destination",br="distance",aH="footage",bR="fraction",bL="frame",m="framelock",bH="frames",bJ="height",ap="hi",aE="hidden",cn="image",b9="images",aB="lo",aF="loading",aP="opening",cm=aP+"_ticks",bX="options",e="playing",a9="preloaded",aR="ratio",au="reeling",be="reeled",aX="responsive",bf="revolution",v="revolution_y",bF="row",C="rowlock",bW="rows",bu="shy",aK="spacing",R="speed",aV="src",cp="stage",by="stitched",bV=by+"_shift",j=by+"_travel",bD="stopped",ca="style",aC="tempo",ag="ticks",al="tier",aN="truescale",ch="velocity",t="vertical",bQ="width",bP=bj(bh),G=bj("pan")+bP,p="deviceorientation"+bP,I="dragstart"+bP,ar="mousedown"+bP,aD="mouseenter"+bP,a5="mouseleave"+G,b3="mousemove"+G,aW="mouseup"+G,ah="mousewheel"+bP,bZ="tick"+bP,bl="touchcancel"+G,bB="touchend"+G,aQ="touchstart"+bP,ci="touchmove"+G,bg="resize"+bP,bG="",bS=" ",b0=",",K="absolute",at="block",ae="@CDN@",ax="div",aT="hand",cj="head",b5="html",o="id",a6="img",aJ="jquery."+bh,a="none",aw="object",r="string",bU=[bQ,bJ,aK,bf,v,by,bV,j],aL={W:bQ,H:bJ},ai=b6?T("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):ae+"blank.gif",ba=w(ae+aJ+".cur")+b0+"move",bs=w(ae+aJ+"-drag.cur")+b0+"move",a1=w(ae+aJ+"-drag-down.cur")+b0+"move";
bo.lazy=bo.re.lazy_agent.test(bx);
var c=aA&&bv<9?1:0,bK=bp.cleanData;
bp.cleanData=function(k){bp(k).each(function(){bp(this).triggerHandler("clean")
});
return bK.apply(this,arguments)
};
bp.extend(bp.fn,bo.fn)&&bp(bo.scan);
return bo
}}(jQuery,window,document)
});
function AXZAuthenticator(k){var b=function(p,q){};
function e(q,p){return n(g(q,p),p)
}function n(q,p){p=p||"\\s";
return q.replace(new RegExp("^["+p+"]+","g"),"")
}function g(q,p){p=p||"\\s";
return q.replace(new RegExp("["+p+"]+$","g"),"")
}if(!k){k=document.cookie
}var h="AXZAuthCookie";
var a=function(){var q=new Object();
var p=k.split(";");
for(var r=0;
r<p.length;
r++){var u=p[r];
var t=e(u.substring(0,u.indexOf("=")));
var s=e(u.substring(u.indexOf("=")+1,u.length));
s=s.replace(/\"/g,"");
b(t,s);
q[t]=s
}return q
};
var d=(function(){var p=a()[h];
if(p&&p.length>20){return p
}})();
b("authCookie",d);
var f="AZ";
var c="FNX";
var j="PRX";
var l="SPX";
var o="MSRP";
var m="Invalid Plan Identifier";
this.AZ_PLAN=f;
this.FNX_PLAN=c;
this.PRX_PLAN=j;
this.SPX_PLAN=l;
this.MSRP=o;
this.INVALID_PLAN=m;
this.getPlanTypeForServices=function(){if(d){var r=d.substr(0,10);
var p=r.split("");
var q=parseInt(p[0]);
if(!this.validateCheckSum(p,q)){return this.INVALID_PLAN
}if(p[q]==="1"){return this.AZ_PLAN
}else{if(p[q]==="2"){return this.FNX_PLAN
}else{if(p[q]==="3"){return this.PRX_PLAN
}else{if(p[q]==="4"){return this.SPX_PLAN
}else{return o
}}}}}else{return o
}};
this.validateCheckSum=function(p,q){var u=parseInt(p[q]);
var s=0;
for(i=0;
i<p.length;
i++){if(0==i||q==i){continue
}s+=parseInt(p[i])
}var r=s%10;
var t=(q+u)%10;
if(t!=r){return false
}return true
};
this.getPlanType=function(){return this.getPlanTypeForServices()
};
this.getPlanTypeForDisplay=function(){var p=this.getPlanTypeForServices();
if(p===this.AZ_PLAN){return"A/Z Plan"
}else{if(p===this.FNX_PLAN||p===this.PRX_PLAN||p===this.SPX_PLAN){return"X Plan"
}else{if(p==this.INVALID_PLAN){return"Invalid Plan"
}else{return"MSRP"
}}}}
}function ThirdPartyAuthenticator(){var c=FD.Brand.Context;
var q=(c&&c.settings&&c.settings.env==="prod")?"cdrProfile":"cdrProfile_qa";
var o="accessToken";
var d="cdrprofileid";
var p="cdrprofileprovider";
var f="profilecreationstatus";
var k="consumerId";
var r="timestamp";
var m="lhSessionId";
var h=".ford.com";
var b="/";
var n="height=250,width=400,status=no,location=no,toolbar=no,directories=no,menubar=no";
var a="versataPopUp";
this.getAuthWindow=function(s){url="/debug/thirdparty.jsp?redirectUrl="+s;
features=n;
window[a]=open(url,"",features)
};
this.popupCallback=function(){window[a].close()
};
this.logoutUser=function(){e(q,b,l())
};
function g(){var u=document.cookie.indexOf(q+"=");
var s=u+q.length+1;
if((!u)&&(q!=document.cookie.substring(0,q.length))){return null
}if(u==-1){return null
}var t=document.cookie.indexOf(";",s);
if(t==-1){t=document.cookie.length
}return(unescape(document.cookie.substring(s,t)))
}function j(v){var t=g();
if(t==null||t==""||t=="null"){return null
}if(v==q){return unescape(t)
}var w=t.indexOf(v+"=");
var u=w+v.length+1;
if((!w)&&(v!=t.substring(0,v.length))){return null
}if(w==-1){return null
}var s=t.indexOf("|",u);
if(s==-1){s=t.length
}return unescape(t.substring(u,s))
}function e(s,u,t){if(j(s)){document.cookie=s+"="+((u)?";path="+u:"")+((t)?";domain="+t:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"
}}function l(){var s=document.location.host;
var t;
if(s.indexOf(".",0)>0){s=s.split(":")[0];
t=s.split(".");
s="."+t[t.length-2]+"."+t[t.length-1]
}else{s=".ford.com"
}return s
}this.getUserId=function(){return j(d)
};
this.getAccessToken=function(){return j(o)
};
this.getProvider=function(){return j(p)
};
this.getProfileStatus=function(){return j(f)
};
this.getConsumerId=function(){return j(k)
};
this.getTimestamp=function(){return j(r)
};
this.getLHSessionId=function(){return j(m)
}
}(function(c,a){var b=_.noConflict();
FD.Brand.lodash=b;
if(b.isUndefined(window._)){window._=b
}a(d);
function d(){a("html").addClass("fgx-brand-"+FD.Brand.Context.make);
if((a("body").hasClass("cq-wcm-preview")||a("body").hasClass("cq-wcm-edit")||a("body").hasClass("cq-wcm-design"))&&(FD.Brand.Context.settings&&!FD.Brand.Context.settings.syn)){a("body").addClass("fgx-pantry-bootstrap");
a("body").addClass("fgx-brand-css")
}FD.Brand.initComponent("body");
if(FD.Brand.Angular){FD.Brand.Angular.bootstrap()
}}})(window,jQuery);
(function(a){a.fn.findAll=function(c){var b=this.find(c);
return(this.is(c))?b.add(this):b
}
})(jQuery);
(function(T,J,aa,S,Y){aa.extend(S.namespace("FD.Brand.Util",T),{addMoreLink:q,updateMoreLink:P,moreLessInit:Q,ctaHover:h,swapColors:O,currentBreakpoint:v,currentBreakpointXS:F,log:m,toArray:z,objPath:D,inViewport:V,cookie:{get:g,set:r,remove:Z},parameters:{encode:H,decode:d},url:{queryString:L,loadAsScript:k,loadAsStyle:j,extension:w,protocol:u,prepend:ab,urlObject:s},dateTime:{longFormat:K},env:{browser:C,geoLocation:function(){return b
},touch:function(){return t
}},images:{load:f,renditionUrl:a,stripRenditionUrl:X,renderPicture:l},video:{addRefTag:B,loadVideos:e,loadVideosInViewport:p},accordion:{update:E},carousel:{swipe:N},distance:{betweenCoords:y},window:{scrollTo:G},htmlString:{encode:o,decode:n},str:{firstInstance:c,toObject:A}});
var U=null,b=false,t=(("ontouchstart" in T)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0));
U=document.querySelector(".mbp-test");
if(!U){U=document.createElement("div");
U.classList.add("mbp-test");
document.body.appendChild(U)
}b=false;
if(window.navigator.geolocation){if(window.navigator.permissions&&window.navigator.permissions.query){window.navigator.permissions.query({name:"geolocation"}).then(function(ac){if(ac.state!=="denied"){b=true
}})
}else{if(u().get()==="https://"){b=true
}}}function W(ag,ah){var ad=ag.substr(0,ah);
var aj=false;
var ai=0;
var af=ad.indexOf("<");
if(af>=0){for(var ae=(ah-1);
ae>0;
ae--){if(ad[ae]==="<"){aj=true;
break
}else{if(ad[ae]===">"){aj=false;
break
}}}if(aj){for(var ac=ah;
ac<ag.length;
ac++){if(ag[ac]===">"){aj=false;
ai=((ac+1)-ah);
break
}}ah+=ai
}}return ah
}function q(af,ag,ac){var ag=ag||100,ac=ac||".description",ah=ac+" a.read_more",ae="...more",ad="...less";
J(ac,af).each(function(){var ak=J(this).html();
if(ak.length>ag){ag=W(ak,ag);
var ai=ak.substr(0,ag),al=ak.substr(ag,ak.length-ag),aj="<span class='initial_desc'>"+ai+"</span><span class='more_text'>"+al+"</span><span><a href='#' class='read_more'>"+ae+"</a></span>";
J(this).html(aj)
}});
J(ah,af).click(function(ai){ai.preventDefault();
if(J(this).hasClass("less")){J(this).removeClass("less");
J(this).html(ae);
J(this).parent().siblings(".more_text").removeClass("show-inline-force")
}else{J(this).addClass("less");
J(this).html(ad);
J(this).parent().siblings(".more_text").addClass("show-inline-force")
}})
}function P(ad,ae,ac){var ac=ac||".description";
J(ac,ad).each(function(){var af=J(this).children(".initial_desc").html();
var ah=J(this).children(".more_text").html();
var ag=af+ah;
if(ag.length>ae){ae=W(ag,ae);
J(this).find(".read_more").removeClass("hidden");
J(this).children(".more_text").removeClass("hidden");
af=ag.substr(0,ae);
ah=ag.substr(ae,ag.length-ae);
J(this).children(".initial_desc").html(af);
J(this).children(".more_text").html(ah)
}else{J(this).find(".read_more").addClass("hidden");
J(this).children(".more_text").addClass("hidden");
J(this).children(".more_text").html("");
J(this).children(".initial_desc").html(ag)
}})
}function I(ae,ad,ac){if(ae>ad){ac.find("span.mlspanless").hide();
ac.find("span.mlspanmore").show();
ac.show();
return true
}else{ac.hide();
return false
}}function Q(af,ag,ad,ae,ac){var ac=ac||".ml-wrapper",ad=ad||3,ae=J("html").hasClass("fgx-brand-Ford")?(ae||1.15):1.6;
ad=(ad*ae)+"em";
J(ac,af).each(function(){var ai=J(this),aj=ai.children(".mllink"),ak=ai.children(".mltext"),ah,am,al;
if(ai.closest(".carousel").length===1&&!ak.is(":visible")){al=ai.closest(".item");
al.addClass("hiddenHeight")
}ak.css("height",ad);
ak.removeClass("mltext-more");
ah=ak[0].clientHeight;
am=ak[0].scrollHeight-1;
if(al&&al.hasClass("hiddenHeight")){al.removeClass("hiddenHeight")
}if(!I(am,ah,aj)){ak.addClass("mltext-more")
}else{ak.removeClass("mltext-more")
}if(ag){aj.on("click",function(){ak.toggleClass("mltext-more");
aj.find("span.mlspanmore").toggle();
aj.find("span.mlspanless").toggle();
return false
})
}})
}function h(ac){ac.each(function(){if(!J("html").hasClass("fgx-brand-Lincoln")&&!J(this).hasClass("default-hover")){J(this).hover(function(){O.call(this)
},function(){O.call(this)
})
}})
}function O(){var ac=J(this).css("backgroundColor"),ad=J(this).css("color");
J(this).css("color",ac);
J(this).css("backgroundColor",ad)
}function v(){_mbpWdth=U.offsetWidth;
if(_mbpWdth<768){return"gux-bkpt-sm"
}else{if(_mbpWdth<992){return"gux-bkpt-med"
}else{if(_mbpWdth<1200){return"gux-bkpt-lg"
}else{return"gux-bkpt-xlg"
}}}}function F(){_mbpWdth=U.offsetWidth;
if(_mbpWdth<480){return"gux-bkpt-xs"
}else{if(_mbpWdth<768){return"gux-bkpt-sm"
}else{if(_mbpWdth<992){return"gux-bkpt-med"
}else{if(_mbpWdth<1200){return"gux-bkpt-lg"
}else{return"gux-bkpt-xlg"
}}}}}function g(ac,ad){var ae=null;
aa.each((document.cookie||"").split("; "),function(af){var ag=af.indexOf("=");
if(af.substring(0,ag)===ac){ae=af.substring(ag+1);
if(ad){ae=decodeURIComponent(ae)
}return false
}});
return ae
}function r(ad,ag,ae){var ac=[encodeURIComponent(ad),"=",(ae.encodeValue)?encodeURIComponent(ag):ag],af;
if(ae.expires){if(!aa.isDate(ae.expires)){var af=new Date();
af.setTime(af.getTime()+(ae.expires*24*60*60*1000))
}else{af=ae.expires
}ac.push("; expires="+af.toUTCString())
}if(ae.path){ac.push("; path="+ae.path)
}if(ae.domain){ac.push("; domain="+ae.domain)
}if(ae.secure){ac.push("; secure")
}document.cookie=ac.join("")
}function Z(ac){r(ac,null,{expires:new Date("Thu, 01 Jan 1970 00:00:00 GMT")})
}function H(ad){var ac=[];
aa.each(ad,function(af,ae){ac.push(encodeURIComponent(ae)+"="+encodeURIComponent(af))
});
return ac.join("&")
}function d(ad){var ac={};
aa.each((ad||"").split("&"),function(ae){var af=ae.indexOf("=");
if(af>=0){ac[decodeURIComponent(ae.substring(0,af))]=decodeURIComponent((ae.substring(af+1)))
}});
return ac
}function L(ad){return new ac(d((ad||window.location.search||"").substring(1)));
function ac(af){var al=this,ag=af;
al.add=aj;
al.remove=ae;
al.asObject=ai;
al.asString=ah;
al.addToUrl=ak;
return al;
function aj(am,an){if(aa.isObject(am)){ag=aa.extend(ag,am)
}else{ag[am]=an
}return al
}function ae(am){ag=aa.omit(ag,aa.isArray(am)?am:[am]);
return al
}function ai(){return ag
}function ah(){var am=H(ag);
return((am.length>0)?"?":"")+am
}function ak(ap){var ao="";
if(ap&&typeof(ap)!=="undefined"){var ar=ap.indexOf("?");
var an=ap;
if(ar>=0){var aq=ap.substring(ar);
var am=S.Util.url.queryString(aq);
an=ap.substring(0,ar);
al.add(am.asObject())
}ao=an+al.asString()
}return ao
}}}function k(ah,ad){var ae=(document.getElementsByTagName("head")[0]||document.documentElement),ag=document.createElement("script"),ac=false,af=J.Deferred();
ag.onload=ag.onreadystatechange=function(){if(!ac&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){ac=true;
ag.onload=ag.onreadystatechange=null;
if(ae&&ag.parentNode){ae.removeChild(ag)
}ag=undefined;
af.resolve()
}};
ag.onerror=function(){af.reject()
};
ae.appendChild(ag);
ag.setAttribute("type","text/javascript");
if(ad){aa.forEach(ad,function(aj,ai){ag.setAttribute(ai,aj)
})
}ag.setAttribute("src",ah);
return af.promise()
}function j(ad){var ac=J("<link>").attr({rel:"stylesheet",type:"text/css",href:ad});
J("head").append(ac)
}function u(ac){return new ad(ac||window.location.href||"");
function ad(ag){var aj=this;
var ah=ag;
aj.get=af;
aj.set=ai;
aj.remove=ae;
aj.url=function(){return ah
};
function af(){var ak=ah.match(/^(https?:)?\/\//i);
return ak?ak[0]:""
}function ai(ak){ak=ak||(window.location.protocol+"//");
ae();
ah=ak+ah;
return aj
}function ae(){ah=ah.replace(/^(https?:|)\/\//,"");
return aj
}}}function w(ad){return new ac((ad||location.pathname||""));
function ac(af){var ai=this,ag=af;
ai.remove=ae;
ai.removeSpecified=ah;
return ai;
function ae(){ag=ag.replace(/\.[^/.]+$/,"");
return ag
}function ah(aj){var ak=(ag.length-aj.length);
if(ag.substr(ak)===aj){ag=ag.substr(0,ak)
}return ag
}}}function ab(ac,ad){return(ac.indexOf(ad)!==0)?ad+ac:ac
}function s(ac){return new ad((ac||window.location.href||""));
function ad(af){var ah=this,ae=af,al=document.createElement("a"),ak=!!(ae.substr(0,2)==="#$"),aj=ae;
al.href=ae;
if(ak){var an=ae.indexOf("?");
if(an>-1){aj=aj.substring(0,an);
al.search=ae.substring(an)
}else{al.search=" "
}}ah.isSmartLink=ak;
ah.getHash=ag;
ah.setHash=am;
ah.qs=S.Util.url.queryString(al.search||" ");
ah.url=ai;
ah.anchor=function(){return al
};
function ag(){return al.hash.substring(1)
}function am(ao,ap){ap=ap||false;
if(ao&&typeof(ao)!=="undefined"){al.hash=(ap)?(al.hash+ao):ao
}}function ai(){al.search=ah.qs.asString();
return(ah.isSmartLink)?(aj+al.search):al.href
}return ah
}}function K(ad){var ad=ad||new Date();
var ac={en_us:"<%- MMMM %> <%- d %>, <%- y %>",es_us:"<%- d %> de <%- MMMM %> de <%- y %>",en_ca:"<%- MMMM %> <%- d %>, <%- y %>",fr_ca:"<%- d %> <%- MMMM %> <%- y %>"}[Y.locale];
return(aa.template(ac))({MMMM:Y.localizedMonthNames[ad.getMonth()],d:ad.getDate(),y:ad.getFullYear()})
}function C(){var ad=navigator.userAgent,ac,ae=ad.match(/(android|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];
if(/trident/i.test(ae[1])){ac=/\brv[ :]+(\d+)/g.exec(ad)||[];
return{name:"IE ",version:(ac[1]||"")}
}if(ae[1]==="Chrome"){ac=ad.match(/\bOPR\/(\d+)/);
if(ac!==null){return{name:"Opera",version:ac[1]}
}}ae=ae[2]?[ae[1],ae[2]]:[navigator.appName,navigator.appVersion,"-?"];
if((ac=ad.match(/version\/(\d+)/i))!==null){ae.splice(1,1,ac[1])
}return{name:ae[0].toLowerCase(),version:parseInt(ae[1],10)}
}function m(){if(T.console&&console.log){if(console.log.apply){console.log.apply(console,arguments)
}else{for(var ac=0;
ac<arguments.length;
ac++){console.log(arguments[ac])
}}}}function z(ac){return(ac==null)?null:(J.isArray(ac)?ac:[ac])
}function D(af,ae){var ad=(ae||"").split(".");
for(var ac=0;
ac<ad.length;
ac++){var ag=ad[ac];
if(ag.length==0||typeof(af[ag])==="undefined"){return null
}af=af[ag]
}return af
}function f(ae){if(T.HTMLPictureElement){return
}var ad=M(ae),ac={elements:ad};
T.picturefill(ac)
}function M(ah){var ad=[],ag=J("img",ah);
for(var ae=0,ac=ag.length;
ae<ac;
ae++){var af=ag[ae];
if(af.parentNode.nodeName.toUpperCase()==="PICTURE"||(af.getAttribute("srcset")!==null)||af.picturefill&&af.picturefill.srcset!==null){ad.push(af)
}}return ad
}function a(ad,ac){return ad&&ad+"/jcr:content/renditions/"+(ac||"original"+ad.substring(ad.lastIndex(".")))
}function X(ad){var af=ad.indexOf("/jcr:content/renditions/"),ae=ad.indexOf("/_jcr_content/renditions/"),ac=(af>-1)?af:ae;
if(ac>-1){ad=ad.substring(0,ac)
}return ad
}function l(ah,ac,ag){var ad=ah&&(ac&&ah.views&&ah.views[ac])||ag||ah&&ah.sources||[];
var af=J("<picture/>");
var ae=ad[0];
aa.each(ad,function(ai){if(ai.breakpoint>0){J("<source/>").attr("data-srcset",ai.src).attr("media","(min-width: "+ai.breakpoint+"px)").appendTo(af);
if(ai.defaultSource){ae=ai
}}});
if(ae){J("<img/>").attr("data-srcset",ae.src).addClass("lazyload").addClass(ah.className).attr("alt",ah.altTag).appendTo(af)
}return af
}function B(ac){return(ac.indexOf("ref:")>-1)?ac:("ref:"+ac)
}function p(ac){if(!ac||ac.length===0){return
}ac.each(function(){var ad=J(this),ae=ad.attr("data-fgx-video-initialized");
if((ae=="false"||!ae)&&V(ad)&&ad.css("display")!="none"&&ad.css("visibility")!="hidden"){x(ad)
}})
}function e(ac){if(!ac||ac.length===0){return
}ac.each(function(){var ad=J(this),ae=ad.attr("data-fgx-video-initialized");
if(ae=="false"||!ae){x(ad)
}})
}function x(ac){ac.find("source").each(function(){var af=J(this),ae=af.attr("src"),ad=af.attr("data-fgx-src");
if(ae&&typeof(ae)!="undefined"){return
}if(ad&&typeof(ad)!="undefined"){af.attr("src",ad);
ac.attr("data-fgx-video-initialized","true");
ac[0].load()
}})
}function V(af){if(!af||!af.length){return false
}var ae=J(T),ad={top:ae.scrollTop(),left:ae.scrollLeft()};
ad.bottom=ad.top+ae.height();
var ac=af.offset();
ac.bottom=ac.top+af.outerHeight(true);
return !((ac.bottom<=ad.top)||(ac.top>=ad.bottom))
}function E(af,ae,ag,ah,aj,ak){var ao=af,ac=ag||".accordion-heading",ad=ac+".open",am=ah||".accordion-content",an=am+".open",ai=(aj)?true:false;
if(!ao||ao.length===0||!ae||ae.length===0){return
}if(ao.hasClass("open")){ao.toggleClass("open");
ao.attr("aria-pressed","false");
ao.next(am).toggleClass("open").addClass("hidden")
}else{J(ad,ae).removeClass("open");
J(ad,ae).attr("aria-pressed","false");
J(an,ae).removeClass("open").addClass("hidden");
ao.toggleClass("open");
ao.attr("aria-pressed","true");
var al="animationend webkitAnimationEnd MSAnimationEnd transitionend webkitTransitionEnd";
if(ai){ao.next(am).removeClass("hidden").show().toggleClass("open")
}else{ao.next(am).removeClass("hidden").show().toggleClass("open").one(al,function(){J("html, body").animate({scrollTop:ao.offset().top-J(".navbar-static-top").height()},200)
})
}}if(typeof ak!="undefined"){ak.call(ao)
}}function N(ad,ac){var ae=new Hammer.Manager(ad,{touchAction:"auto",domEvents:true,inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput,recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]});
ae.on("dragleft swipeleft dragright swiperight",function(ag){var af=!!(ag&&typeof(ag)!="undefined"&&ag.srcEvent);
switch(ag.type){case"swipeleft":case"dragleft":if(af){ag.srcEvent.stopPropagation()
}ac(ad,"next",ag);
break;
case"swiperight":case"dragright":if(af){ag.srcEvent.stopPropagation()
}ac(ad,"prev",ag);
break
}})
}function y(ah,aj,af,ai,ad){var ae=6371;
var al=R(af-ah);
var ac=R(ai-aj);
var an=Math.sin(al/2)*Math.sin(al/2)+Math.cos(R(ah))*Math.cos(R(af))*Math.sin(ac/2)*Math.sin(ac/2);
var am=2*Math.atan2(Math.sqrt(an),Math.sqrt(1-an));
var ao=ae*am;
var ag=ao*0.621371;
var ak={km:ao.toFixed(2),mi:ag.toFixed(2)};
if(ad){ak.km=ak.km+"km";
ak.mi=ak.mi+"mi"
}return ak
}function R(ac){return ac*(Math.PI/180)
}function G(ac,ae){var ak=J(ac);
if(ak.length===0){return
}var ai=ak.get(0);
var ag=window.scrollY||window.pageYOffset;
var aj=ai.getBoundingClientRect().top;
var af=Date.now();
function ah(am,al,ao,an){if((am/=an/2)<1){return -ao/2*(Math.sqrt(1-am*am)-1)+al
}return ao/2*(Math.sqrt(1-(am-=2)*am)+1)+al
}function ad(){var al=Date.now()-af;
var am=ah(al,ag,aj-ag,ae);
T.scrollTo(0,am);
if(al>=ae){T.scrollTo(0,aj)
}else{T.setTimeout(ad,20)
}}T.setTimeout(ad,20)
}function o(ac){if(ac===null||typeof(ac)=="undefined"){return""
}return ac.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")
}function n(ac){return ac.replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")
}function c(ag,ad){var ac="",af=ad||";";
if(ag&&typeof(ag)!="undefined"){var ae=ag.split(af);
ac=(ag.length>1)?ae[0]:ag
}return ac
}function A(af,ac){var ae={},ad=ac||"&";
aa.each((af||"").split(ad),function(ag){var ah=ag.indexOf("=");
if(ah>=0){ae[ag.substring(0,ah)]=(ag.substring(ah+1))
}});
return ae
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Context);
(function(d,a){var c=false;
a.extend(FD.Brand.namespace("FD.Brand.Angular",d),{init:e,bootstrap:b});
function e(){if(d.angular&&!c){angular.module("fgx.components",[]);
angular.module("fgx.directives",[]);
angular.module("fgx.filters",[]);
angular.module("fgx.services",[]);
angular.module("fgx.app",["ngAria","ngResource","ngSanitize","ngAnimate","fgx.components","fgx.directives","fgx.filters","fgx.services"]).constant("AppContext",FD.Brand.Context);
c=true
}}function b(g,f){if(d.angular&&c){angular.bootstrap(g||document,[f||"fgx.app"])
}}})(window,FD.Brand.lodash);
(function(N,E,V,M,l,v){V.extend(M.namespace("FD.Brand.User",N),{location:g("location",m,{detail:R(t),setPostalCode:r,coordinates:K}),pricing:g("pricing",p),authentication:g("authentication",R(G),{login:function(){FD.Brand.Link.processLink("#$userSignIn")
},logout:function(){k()
},checkSession:d}),fps:g("fps",R(c),{get:n,set:w}),dealer:g("dealer",R(I),{setPreferred:u,removePreferred:b,refresh:U}),profile:g("profile",R(z))});
var C=null;
var D=null;
var q=null;
var e=null;
var J=null;
var P=null;
var A=null;
var x=null;
var y=M.User.fps.current;
var f=M.User.authentication.current;
var B=v.settings["ngbsSecureUrl"+v.make];
var T=v.settings.fpsUrl;
var L=v.clwApplicationId;
var j=v.settings.clwIncludeScript;
var h=v.settings.clwMpsHost;
E(Q);
function Q(){var W=v.nameplate;
if(W){H({make:v.make,model:W.ngpModelName,year:W.ngpYear,html:false})
}else{H({make:v.make,html:false})
}}function g(Y,W,X){return V.extend({subscribe:function(aa,Z){return S(Y,aa,Z!==true&&W())
},unsubscribe:F,current:W},X||{})
}var a={};
var s=0;
function o(X,Y,Z){if(!a[X]){return false
}setTimeout(function W(){V.each(Z?[{callback:Z}]:a[X],function(ab){try{ab.callback(Y,X)
}catch(aa){l.log("user.lib: error occurred publishing state topic "+X,Y,aa)
}})
},0);
return true
}function S(X,Z,W){if(!a[X]){a[X]=[]
}var Y={topic:X,id:++s};
a[X].push({handle:Y,callback:Z});
if(W){E.when(W).done(function(aa){o(X,aa,Z)
})
}return Y
}function F(W){V.remove(a[W.topic]||[],function(X){return X.handle.id===W.id
})
}function R(W){var Y=null;
var X=function(){var Z;
if(Y===null){Z=E.Deferred();
Y=Z.promise();
W(Z)
}return Y
};
X.$_reset=function(){Y=null
};
return X
}function m(){if(!C){C={};
var W=l.cookie.get("FPI");
if(W){W=l.parameters.decode(W).zip;
if(W){C.postalCode=W;
C.postalCodeSource="FPI"
}}if(!C.postalCode){V.each((l.cookie.get("userInfo")||"").split(","),function(X){if(X.substr(0,4)==="zip="){C.postalCode=X.substr(4,(v.region==="CA"?6:5));
C.postalCodeSource="Akamai"
}})
}if(v.region==="CA"&&(!C.postalCode||!/^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[A-Za-z]{1} *\d{1}[A-Za-z]{1}\d{1}$/.test(C.postalCode))){C.postalCode="L6J5E4";
C.postalCodeSource="Default"
}}return O(C)
}function t(W){if(D){W.resolve(D)
}else{FD.Brand.NgpServices.location(m().postalCode).then(function(Z){if(Z){if(v.region==="CA"){var X=Z.Provinces&&Z.Provinces.Province&&Z.Provinces.Province.content;
D={geoKey:X,province:X,regions:null}
}else{D={geoKey:Z.GeoKey,state:Z.States&&Z.States.State&&Z.States.State.content,regions:V.transform(Z.Regions.Region,function(ab,aa){ab[aa.type]=aa.Code
},{})}
}if(C.postalCode){var Y={make:v.make,radius:50,minDealers:1,maxDealers:1,postalCode:C.postalCode};
FD.Brand.NgpServices.dealers(Y).done(function(aa){if(!aa||aa.length===0){W.resolve(D)
}else{if(D){D.paCode=(aa[0].PACode)?aa[0].PACode:""
}W.resolve(D)
}})
}}},function(){W.resolve(D)
})
}}function r(W){if(C&&C.postalCode==="postalCode"&&C==="user"){return
}C=C||{};
C.postalCode=W;
C.postalCodeSource="user";
if(D!==null){D=null;
M.User.location.detail.$_reset()
}H({zip:W});
o("location",m())
}function K(){if(!q){q={};
if(l.env.geoLocation()){window.navigator.geolocation.getCurrentPosition(function(W){if(W&&W.coords){q.lat=W.coords.latitude;
q.lon=W.coords.longitude
}})
}}return O(q)
}function p(){if(!e){e={};
if(v.region==="CA"||V.isUndefined(N.AXZAuthenticator)){e.planType="MSRP"
}else{e.planType=(new N.AXZAuthenticator()).getPlanType()
}e.pricePlan={MSRP:"MSRP",AZ:"AZPLAN",SPX:"XPLAN",FNX:"XPLAN",PRX:"XPLAN"}[e.planType]
}return O(e)
}function G(X){var Y=function(){X.resolve(O(J))
};
var W=function(){var Z=function(aa){if(aa&&aa.status){J.authType="user";
N.CLW.CAT.getToken(L,function(ab){J.accessToken=ab&&ab.token&&ab.token.access_token;
J.authToken=ab&&ab.token&&ab.token.cat1_token;
J.authProvider=ab&&ab.token&&ab.token.provider||"owner";
J.userId=ab&&ab.token&&ab.token.userId;
J.userLogin="login: "+J.authProvider.toLowerCase();
Y()
})
}else{N.CLW.Guest.getGUID(L,function(ab){if(ab&&ab.guestUserGuid){J.authType="anon";
J.authProvider="anonymous";
J.userId=ab.guestUserGuid;
J.userLogin="login: current pc"
}else{J.authType="none";
J.userLogin="logged out"
}Y()
})
}};
J.loaded=true;
if(L){N.CLW.authCheck({applicationId:L,success:Z,error:Z})
}else{l.log("user.lib: CLW Application Id is not authored");
Y()
}};
if(J){Y()
}else{J={loaded:false,applicationId:L};
if(N.CLW){W()
}else{l.url.loadAsScript(j).done(function(){if(!N.CLW){l.log("user.lib: CLW XP library failed to initialize");
Y()
}else{W()
}}).fail(function(Z){l.log("user.lib: failed to load CLW XP library",Z);
Y()
})
}}}function d(){var W=E.Deferred();
W.resolve(O(J));
return W.promise()
}function k(){f().done(function(){if(N.CLW){N.CLW.logout(function(){l.log("user.lib: user logged out");
N.location.reload()
})
}})
}function z(W){var X=function(){W.resolve(O(A))
};
if(A){X()
}else{FD.Brand.User.authentication.current().then(function(Y){if(Y&&Y.authType==="user"){E.ajax({url:h+"/api/users",dataType:"json",headers:{"Auth-Token":Y.authToken,"Application-Id":Y.applicationId}}).done(function(Z){A=Z&&Z.profile;
X()
}).fail(function(Z){l.log("user.lib: Get User Profile failed",Z);
X()
})
}else{l.log("user.lib: User not logged in, no profile is available");
X()
}})
}}function I(W){var X=function(){W.resolve(O(x))
};
if(x){X()
}else{x={};
y().done(function(Y){n([{PreferredDealer:{max:1}}]).done(function(ad){var Z=ad&&ad.length>0&&ad[0].PreferredDealer;
if(Z){var ab=V.pluck(Z,"_paCode"),aa=m(),ac=(aa&&aa.postalCode)?aa.postalCode:"";
if(ab.length>0){FD.Brand.NgpServices.dealer({make:v.make,dealerPACode:ab[0],customerPostalCode:ac}).done(function(ae){x.preferred=ae;
X()
}).fail(X);
return
}}X()
}).fail(X)
})
}}function u(W){var X=E.Deferred();
if(x.preferred&&x.preferred.PACode===W){X.resolve()
}else{y().done(function(Y){FD.Brand.NgpServices.dealer({make:v.make,dealerPACode:W}).done(function(Z){if(Z){w([FPS.lib.PreferredDealer(W,Z.Name)]).done(function(aa){x.preferred=Z;
M.User.dealer.current.$_reset();
o("dealer",O(x));
X.resolve()
}).fail(function(){X.reject()
})
}else{l.log("user.lib: no dealer found for "+W);
X.reject()
}}).fail(function(){X.reject()
})
})
}return X.promise()
}function b(W){var X=E.Deferred();
if(x.preferred&&x.preferred.PACode!==W){X.resolve()
}else{y().done(function(Y){FD.Brand.NgpServices.dealer({make:v.make,dealerPACode:W}).done(function(Z){if(Z){w([{PreferredDealer:{_paCode:W,description:Z.Name},metadata:{active:"false"}}]).done(function(aa){if(x.preferred){x.preferred=null;
M.User.dealer.current.$_reset()
}o("dealer",O(x));
X.resolve()
}).fail(function(){X.reject()
})
}else{l.log("user.lib: no dealer found for "+W);
X.reject()
}}).fail(function(){X.reject()
})
})
}return X.promise()
}function U(){var X=function(){return x&&x.preferred&&x.preferred.PACode||""
};
var W=X();
x=null;
M.User.dealer.current.$_reset();
return M.User.dealer.current().done(function(){if(X()!==W){o("dealer",O(x))
}})
}function c(X){var Y=function(){X.resolve(O(P))
};
var W=function(){N.FPS.config.path=T;
P.loaded=true;
f().done(function(aa){var Z=aa&&aa.userId;
if(Z){N.FPS.setExternalRef("CSDN",Z,{success:function(){P.externalRefType="CSDN";
P.externalRefId=Z;
Y()
},error:function(){l.log("user.lib: failed to set FPS external reference");
Y()
}})
}else{Y()
}})
};
if(P){Y()
}else{P={loaded:false};
if(N.FPS){W()
}else{l.url.loadAsScript(T+"/script/"+v.make+((v.region==="CA")?"/CAN":"/USA")).done(function(){if(!N.FPS){Y();
return
}W()
}).fail(function(Z){l.log("user.lib: failed to load FPS library",Z);
Y()
})
}}}function n(X){var W=E.Deferred();
y().done(function(Y){if(Y.loaded){N.FPS.get(X,{success:function(Z){W.resolve(Z)
},error:function(aa,ab,Z){l.log("user.lib: failed to load get FPS values",Z,X);
W.reject()
}})
}else{l.log("user.lib: getFps failed, FPS library not loaded")
}});
return W.promise()
}function w(X){var W=E.Deferred();
y().done(function(Y){if(Y.loaded){N.FPS.set(X,{success:function(Z){W.resolve()
},error:function(aa,ab,Z){l.log("user.lib: failed to load set FPS values",Z,X);
W.reject()
}})
}else{l.log("user.lib: setFps failed, FPS library not loaded")
}});
return W.promise()
}function O(W){return V.extend({},W)
}function H(Z){var W=l.cookie.get("FPI");
var Y=(W)?l.parameters.decode(W):{};
var X=v.settings["siteCookieDomain"+v.make];
Y=V.assign(Y,Z);
l.cookie.set("FPI",l.parameters.encode(Y),{path:"/",domain:((X||"")=="")?null:X,expires:65})
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Util,FD.Brand.Context);
(function(f,e,b,h,c){b.assign(h.namespace("FD.Brand.Dig"),{url:a,resolve:g});
function d(j){return{StrippedChassis:1,"F-650-750":1,"Econoline Cutaway":1}[j]||4
}function a(l,m,j,o){if(l){var n=l.indexOf("Image[|"),k;
if(n===0){k=l.substr(7).split("|");
if(k.length>3){return[c.digUrl,encodeURIComponent(k[0]),encodeURIComponent(k[1]),encodeURIComponent(k[2]),m||"BP3TT-TILE-EXT",encodeURIComponent(l),j||"EXT",o||d(k[1]),"vehicle.png"].join("/")
}}}return null
}function g(k){var j=function(l){return(!l.hasClass("fgx-not-lazy")&&(l.hasClass("lazyload")||l.siblings("img").hasClass("lazyload")))
};
e("[data-dig-src]",k).each(function(){var l=e(this);
l.attr(j(l)?"data-src":"src",a.apply(null,l.attr("data-dig-src").split(","))).removeAttr("data-dig-src")
});
e("[data-dig-srcset]",k).each(function(){var l=e(this);
l.attr(j(l)?"data-srcset":"srcset",a.apply(null,l.attr("data-dig-srcset").split(","))).removeAttr("data-dig-srcset")
})
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Context.settings);
(function(C,z,J,B,H,j){J.extend(B.namespace("FD.Brand.Disclosures",C),{updateDisclosures:t});
var f={};
var A=(H.accessibility&&H.accessibility.closeLabelPrefix)||"";
var u=z('<div class="fgx-brand-css" role="dialog" aria-labelledby="fgx-brand-tooltipHeading" aria-describedby="fgx-brand-tooltipContent" style="display: none;"><div class="fgx-tooltip" data-dynamic-disclosure-enable><div class="icon icon-close fgx-tooltip-close" tabindex="0" role="button" data-fgx-keypress="true" aria-label="'+A+'"></div><div class="fgx-tooltip-id"></div><h1 id="fgx-brand-tooltipHeading" class="fgx-tooltip-heading fgx-brand-sr-text"></h1><div id="fgx-brand-tooltipContent" class="fgx-tooltip-contents"></div><div class="fgx-dynamic-disclosure-wrapper"></div></div></div>');
var d=z('<div class="fgx-brand-css" role="dialog" aria-labelledby="fgx-brand-pricetipHeading" aria-describedby="fgx-brand-pricetipContent" style="display: none;"><div class="fgx-tooltip price-tip"><div class="icon icon-close fgx-tooltip-close" tabindex="0" role="button" data-fgx-keypress="true" aria-label="'+A+'"></div><div class="fgx-tooltip-hdr"></div><h1 id="fgx-brand-pricetipHeading" class="fgx-tooltip-heading fgx-brand-sr-text"></h1><div id="fgx-brand-pricetipContent" class="fgx-tooltip-contents"></div></div></div>');
var D=u.find(".fgx-tooltip-id");
var m=u.find(".fgx-tooltip-heading");
var l=u.find(".fgx-tooltip-contents");
var k=u.find(".fgx-dynamic-disclosure-wrapper");
var I=u.find(".fgx-tooltip-close");
var p=d.find(".fgx-tooltip-hdr");
var F=d.find(".fgx-tooltip-heading");
var w=d.find(".fgx-tooltip-contents");
var v=d.find(".fgx-tooltip-close");
var y=z("body");
var o=false;
var s=false;
var g="";
var a="";
var r="a:visible, [data-fgx-keypress]:visible";
var q={$el:u,hide:function(){z(".fgx-tooltip-close",u).trigger("click")
},lastFocus:undefined};
var b={$el:d,hide:function(){z(".fgx-tooltip-close",d).trigger("click")
},lastFocus:undefined};
z(function(){E()
});
function E(){J.each(H.allEnabledDisclosures,function(M){var L=M.name.replace(/\s+/g,"").toLowerCase();
f[L]=[];
J.each(M.disclosures,function(N){f[L][N.key]=N
})
});
g=(H.accessibility&&H.accessibility.disclosureLabelPrefix)||"";
a=(H.accessibility&&H.accessibility.dynamicDisclosureLabelPrefix)||"";
z("sup[data-vdm-disc]").each(function(){$el=z(this);
$el.attr("tabindex","0");
$el.attr("role","button");
$el.attr("data-fgx-keypress","true");
$el.attr("aria-label",g+" "+$el.text())
});
z("a[href^='#disc']").each(function(){var L=z(this).text().trim();
z(this).attr("aria-label",a+" "+L)
});
y.append(u).append(d).on("click","sup[data-vdm-disc]",function(M){M.preventDefault();
var L=z(M.currentTarget);
if(L.closest(".mainNavigation").length>0){M.stopPropagation()
}var N=L.attr("data-vdm-disc");
n(M,function(){var O=(N||"").split("|");
var P=(O.length>1)&&f[O[0].replace(/\s+/g,"").toLowerCase()][O[1]];
if(P){K(P.id,P.title,P.detail,L)
}else{j.log("disclosures.lib: showTooltip invalid id : "+N)
}})
}).on("click",".fgx-popup-tooltip",function(M){M.preventDefault();
var L=z(M.currentTarget);
n(M,function(){K("","",L.find(".fgx-popup-tooltip-content").html(),L,"fgx-disclosure-popup")
})
}).on("click","a[href^='#disc']",e).on("click","a[href^='#show-tooltip']",h).on("click","a[href^='#price-tip']",G);
u.on("click","fgx-tooltip-close",n);
v.on("click",x)
}function n(L,M){y.off("click",n);
if(q.lastFocus&&q.lastFocus.closest(".mainNavigation").length>0){L.preventDefault();
L.stopPropagation()
}if(u.is(":visible")){u.fadeOut(100,function(){FD.Brand.Overlay.releaseFocus(q);
if(typeof M!="undefined"){M()
}});
if(o){u.find(".fgx-tooltip").css({position:""});
o=false
}y.removeClass("no-scroll-sm")
}else{if(M){M()
}}}function x(L,M){if(b.lastFocus&&b.lastFocus.closest(".mainNavigation").length>0){L.preventDefault();
L.stopPropagation()
}if(d.is(":visible")){d.fadeOut(100,function(){FD.Brand.Overlay.releaseFocus(b);
if(typeof M!="undefined"){M()
}});
if(s){d.find(".fgx-tooltip").css({position:""});
s=false
}y.removeClass("no-scroll-sm")
}else{if(M){M()
}}}function K(M,V,R,aa,T){var O=(aa.parent().closest(".fgx-tooltip-contents").length>0&&aa.parent().closest(".price-tip").length<=0);
var L=j.currentBreakpoint();
var Q=100;
D.text(M);
m.text(V);
l.html(R||"\xa0");
t(u);
var Z=aa.closest("[data-dynamic-disclosure-enable]").find(".dynamic-disclosures");
if(Z.length){k.html(Z.html())
}else{k.html("")
}u.removeClass().addClass("fgx-brand-css "+(T||""));
o=false;
if(!O){q.lastFocus=aa;
var Y=aa.offset();
var U=Y.top+aa.outerHeight();
var P=z(window).height()+z(window).scrollTop();
u.addClass("fgx-brand-size-calc");
var S=u.find(".fgx-tooltip");
var X=((U+S.outerHeight())>P);
var N=Y.left+aa.outerWidth()-S.outerWidth();
if(L==="gux-bkpt-sm"){if(X){var W=(U+S.outerHeight())-P;
U=Y.top-W
}if(U<0){U=25;
z(".fgx-tooltip").css({position:"fixed"});
o=true
}else{if(U<z(window).scrollTop()){U=z(window).scrollTop()
}}if(N<0){N=20
}}else{if(X){U=Y.top-S.outerHeight()+Q
}if(N<0){N=Y.left
}if(U<0){U=25
}else{if(U<z(window).scrollTop()){U=z(window).scrollTop()
}}}u.find(".fgx-tooltip").css({top:U,left:N});
u.removeClass("fgx-brand-size-calc")
}u.fadeIn(250,function(){FD.Brand.Overlay.trapFocus(q,r,".fgx-tooltip-close",q.lastFocus)
});
y.one("click",n)
}function c(R,P,W){var L=j.currentBreakpoint();
var O=100;
p.text(R);
F.text(R);
w.html(P||"\xa0");
t(d);
s=false;
b.lastFocus=W;
var U=W.offset();
var Q=U.top+W.outerHeight();
var N=z(window).height()+z(window).scrollTop();
d.addClass("fgx-brand-size-calc");
var V=d.find(".fgx-tooltip");
var T=((Q+V.outerHeight())>N);
var M=U.left+W.outerWidth()-V.outerWidth();
if(L==="gux-bkpt-sm"){if(T){var S=(Q+V.outerHeight())-N;
Q=U.top-S
}if(Q<0){Q=25;
z(".fgx-tooltip.price-tip").css({position:"fixed"});
s=true
}else{if(Q<z(window).scrollTop()){Q=z(window).scrollTop()
}}if(M<0){M=20
}}else{if(T){Q=U.top-V.outerHeight()+O
}if(M<0){M=U.left
}if(Q<0){Q=25
}else{if(Q<z(window).scrollTop()){Q=z(window).scrollTop()
}}}d.find(".fgx-tooltip").css({top:Q,left:M});
d.removeClass("fgx-brand-size-calc");
d.fadeIn(250,function(){FD.Brand.Overlay.trapFocus(b,r,".fgx-tooltip-close",b.lastFocus)
})
}function e(P){P.preventDefault();
var T=z(this);
var L=z(this).attr("href");
if(L.indexOf("=")>-1){var M=L.split("=")[1];
var O=T.closest("[data-dynamic-disclosure-enable]");
var R=O.find('[data-disclosure-id="'+M+'"]');
var N=R.data("disclosure-content");
var Q=R.data("disclosure-title");
var S=(Q===""||Q===undefined)?"fgx-disclosure-popup":"";
if(N!==""&&N!==undefined){n(null,function(){K(Q,Q,N,T,S)
})
}else{j.log("disclosures.lib: dynamicDisclosureLinkClick link exists, but disclosure contains no content.")
}}else{j.log("disclosures.lib: dynamicDisclosureLinkClick link is malformed...it should be formatted like: #disc=id")
}}function h(N){N.preventDefault();
var L=z(this);
var M=z(this).data("tooltip-content");
if(M!==""&&M!==undefined){n(null,function(){K(null,"",M,L,"fgx-disclosure-popup")
})
}}function G(P){P.preventDefault();
var T=z(this);
var L=z(this).attr("href");
if(L.indexOf("=")>-1){var M=L.split("=")[1];
var O=T.closest("[data-price-tip-enable]");
var R=O.find('[data-price-tip-id="'+M+'"]');
var N=R.data("price-tip-content");
var Q=R.data("price-tip-title");
var S=(Q===""||Q===undefined)?"fgx-disclosure-popup":"";
if(N!==""&&N!==undefined){c(Q,N,T)
}else{j.log("disclosures.lib: priceTipLinkClick link exists, but price tip contains no content.")
}}else{j.log("disclosures.lib: priceTipLinkClick link is malformed...it should be formatted like: #price-tip=id")
}}function t(L){z("sup[data-vdm-disc]",L).each(function(){$el=z(this);
$el.attr("tabindex","0");
$el.attr("role","button");
$el.attr("data-fgx-keypress","true");
$el.attr("aria-label",g+" "+$el.text())
})
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Context,FD.Brand.Util);
(function(h,c,j,k,e){var a=k.settings;
j.extend(FD.Brand.namespace("FD.Brand.NgpServices",h),{location:function(l){return f("/geo/PostalCodes.json",{postalCode:l},function(m){return e.objPath(m,"Response.PostalCode")
})
},dealers:function(l){return f("/dealer/Dealers.json",l,function(m){return e.toArray(e.objPath(m,"Response.Dealer"))
})
},dealer:function(l){return f("/dealer/Details.json",l,function(m){return e.objPath(m,"Response.Dealer")
})
},dealerByUrlKey:function(l){return f("/dealer/DetailsByUrlKey.json",l,function(m){return e.objPath(m,"Response.Dealer")
})
},serviceLocations:function(l){return f("/dealer/ServiceLocations.json",l,function(m){return e.toArray(e.objPath(m,"Response.Dealer"))
})
},dealerChatStatus:function(l){return f("/dealer/ChatStatus.json",l,function(m){return e.objPath(m,"Response.DealerChatStatus")
})
},dealerReviews:function(l){return f("/dealer/Reviews.json",l,function(m){return e.objPath(m,"Response.ReviewResponse")
})
},modelSlices:function(l){return f("/products/ModelSlices.json",l,function(m){return e.objPath(m,"Response.Model")
})
},configDetail:function(l){return f("/config/Details.json",l,function(m){return e.objPath(m,"Response")
})
},searchTypeAhead:function(l){var m=FD.Brand&&FD.Brand.Link,n=m.baseUrl("ngpSearchServiceBase")+"/JSONTypeAheadServlet.do";
return f(n,l,function(o){return e.objPath(o,"DimensionSearch.0.Locations")
},true,true)
},sfiTypeAhead:function(l){var m=FD.Brand&&FD.Brand.Link,n=m.baseUrl("sfiTypeAhead");
return f(n,l,function(o){return e.objPath(o,"result.autoSuggestorOutput.autoSuggestorResponse")
},true,true)
},attributeMap:b});
function f(p,l,n,o,m){return c.Deferred(function(r){var q=(m)?p:a.ngpServiceUrl+p;
c.getJSON(q,l).done(function(s){if(o||d(s)){r.resolve(n?n(s):s)
}else{r.reject()
}}).fail(function(s){e.log(p+" failed",s);
r.reject(s)
})
}).promise()
}function g(m){if(c.isPlainObject(m)||c.isArray(m)){c.each(m,function(o,n){var n=e.fixServiceJSON(n);
m[o]=n
});
return m
}else{if(/^[-+]?[0-9]*\.?[0-9]+$/.test(m)){return +m
}if(/^\d\d\d\d\-\d\d\-\d\d$/.test(m)){var l=m.split("-");
return new Date(l[0],l[1]-1,l[2])
}return m
}}function d(l){if(l){if(l.Response){if(l.Response.status==="OK"){return true
}else{e.log("Service call failed ["+l.Response.status+"] "+l.Response.Message)
}}else{e.log("Service call failed - Response root missing")
}}else{e.log("Service call failed - No response")
}return false
}function b(m){var l={};
j.each(e.toArray(m||[]),function(n){if(n.name&&n.Value){l[n.name]=n.Value
}});
return l
}})(window,jQuery,FD.Brand.lodash,FD.Brand.Context,FD.Brand.Util);
(function(n,k,p,f,m){var b={};
var e=null;
var o;
var d=k.Deferred();
var c=d.promise();
var h="a:visible, input:visible, select:visible, button:visible, [data-fgx-keypress]:visible";
p.extend(f.namespace("FD.Brand.Overlay",n),{instance:b,register:q,show:g,trapFocus:l,releaseFocus:j});
k(r);
function r(){o=k('<div style="display: none;" class="fgx-brand-css"><div class="fgx-overlay-background"></div></div>');
o.appendTo(k("body"));
d.resolve()
}function q(w,u,v,t){var s={id:w,$el:k(u),api:v,focusElements:t,show:p.wrap(w,g),hide:p.wrap(w,a)};
if(!b[w]){b[w]=s
}else{if(s.$el.length>0){b[w].$el=s.$el
}}return s
}function g(z,x,w,y){var u=b[z];
if(u.api&&u.api.show&&u.api.show(u)===false){return
}if(e){a(e)
}var s=u.$el.attr("data-overlay-scroll-offset");
if(s&&m.currentBreakpoint()!=="gux-bkpt-sm"){s=s.split(",");
var t=0;
var v=k(n).scrollTop();
if(v<(+s[0])){t=(+s[0])-v
}else{t=(+s[1])+v
}t=t+"px";
u.$el.css({top:t})
}else{if(m.currentBreakpoint()==="gux-bkpt-sm"){u.$el.css({top:0})
}}c.done(function(){o.fadeIn(100,function(){o.one("click",u.hide);
u.$el.fadeIn(300,function(){if(typeof x!="undefined"&&x==true){var A=(typeof u.focusElements!="undefined")?u.focusElements:h;
l(u,A,y,w)
}})
})
});
e=z;
k("body").addClass("no-scroll-sm fgx-brand-ovr-open")
}function a(t){var s=b[t];
if(s.api&&s.api.hide&&s.api.hide(s)===false){return
}e=null;
o.off("click",s.hide);
s.$el.fadeOut(300,function(){o.fadeOut(100);
s.$el.css({top:null})
});
j(s);
k("body").removeClass("no-scroll-sm fgx-brand-ovr-open")
}function l(x,w,u,y,s){var v=x.$el,z=w,t=v.find(z);
if(typeof y!="undefined"){x.lastFocus=y
}if(typeof u!="undefined"){v.find(u).first().focus()
}else{t[0].focus()
}v.on("keydown",function(B){var A=false;
if(B.ctrlKey||B.metaKey||B.altKey){return
}switch(B.which){case 27:x.hide();
y.focus();
A=true;
if(s){B.stopPropagation()
}break;
case 9:t=v.find(z);
if(B.shiftKey){if(B.target===t[0]){t[t.length-1].focus();
A=true
}}else{if(B.target===t[t.length-1]){t[0].focus();
A=true
}}break
}if(A){B.preventDefault()
}})
}function j(t){var s=t.$el;
s.off("keydown");
if(t.lastFocus&&typeof t.lastFocus!="undefined"){t.lastFocus.focus()
}else{if(k(".mainNavigation").length>0){k(".mainNavigation a.navbar-brand").focus()
}else{if(k(".mainNavigationLincoln").length>0){k(".mainNavigationLincoln a.navbar-brand").focus()
}else{k("a").first().focus()
}}}}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Util);
(function(I,z,Q,H,u,j,r){Q.extend(H.namespace("FD.Brand.Pricing",I),{pricingData:f,label:C,refresh:O,format:g,show:D,postalLink:m,formatPriceTipData:F});
var x={US:"48120",CA:"L6J5E4"};
var q=FD.Brand.Context;
var s=q.make;
var b=q.languageKey;
var K=q.settings["quoteUrl"+s+b]||q.settings["quoteUrl"+s];
var n=false;
var J={make:s,model:q.nameplate&&q.nameplate.ngpModelName,year:q.nameplate&&q.nameplate.ngpYear};
var h=q.priceLabel;
var E=[];
var e={};
var y={};
var o=null;
var P=H.Context.nameplatePricing;
var M=u.pricing.current();
var w=(q.accessibility&&q.accessibility.postalCodeLabelPrefix)||"";
var v=null;
u.location.subscribe(function(){L().done(function(){j.log("context change, refreshing pricing");
e={};
Q.each(E,function(T){O(T,1)
});
var R=u.location.current().postalCode;
var S=w+" "+R;
z("[data-fgx-postal-link]").text(R).attr("aria-label",S)
})
},true);
function L(){if(o!==null){return o
}var S=z.Deferred();
var R=function(){if(I.fdcc){I.fdcc.init(function(){S.resolve()
})
}else{j.log("pricing - spc loader failed to initialize");
S.reject()
}};
if(!v){v=H.Context&&H.Context.mtxActions
}if(!I.fdcc){j.url.loadAsScript(j.url.protocol(K).set().url()+"/cc/loader.js?"+z.param({id:"spc",make:s,region:q.region,serviceUrl:q.settings.ngpServiceUrl})).done(function(){R()
}).fail(function(V,U,T){j.log("pricing - failed to load spc loader "+T);
S.reject()
})
}else{R()
}o=S.promise();
return o
}function l(R,S){var R=z.extend({zipcode:u.location.current().postalCode||x[FD.Brand.Context.region],plantype:M.planType},J,Q.pick(R,Q.identity));
if(q.region==="CA"&&!S){R.paymentFrequency="monthly"
}if(R.model){R.options=(R.options||{});
R.options.allowChangeVehicle=false
}return R
}function g(R){if(Q.isNumber(R)){return(q.language==="fr")?R.toFixed(0).replace(/./g,function(U,T,S){return T&&U!=="."&&((S.length-T)%3===0)?" "+U:U
})+" $":"$"+R.toFixed(0).replace(/./g,function(U,T,S){return T&&U!=="."&&((S.length-T)%3===0)?","+U:U
})
}}function F(U){if(U){var S=U.pricingData.incentiveList;
var R={basePrice:g(U.pricingData.basePrice),options:g(U.pricingData.options),destinationCharges:g(U.pricingData.destinationCharges),sellingPrice:g(U.pricingData.sellingPrice),totalIncentives:g(U.pricingData.incentives),price:g(U.pricingData.price),showFriendsAndNeighbors:(U.pricingData.showFriendsAndNeighbors&&U.pricingData.showFriendsAndNeighbors==true),friendsAndNeighborsSavings:g(U.pricingData.friendsAndNeighborsSavings),incentives:[]};
if(S){for(var T=0;
T<S.length;
T++){var V={name:S[T].Name,disclaimer:S[T].Disclaimer,amount:g(S[T].Amount),offerValidRange:FD.Brand.Util.dateTime.longFormat(S[T].StartDate)+"-"+FD.Brand.Util.dateTime.longFormat(S[T].ExpiryDate)};
R.incentives.push(V)
}}return R
}}function k(S,R){return z.parseJSON(S.closest("["+R+"]").attr(R)||"{}")
}function m(){var R=u.location.current().postalCode||"";
var S=w+" "+R;
return'<a data-fgx-postal-link href="#$postalCode" role="button" data-fgx-keypress="true" aria-label="'+S+'">'+(u.location.current().postalCode||"(Enter a Location)")+"</a>"
}function D(R){var S=z.Deferred();
L().done(function(){var T=l(R,true);
var U=R.trimId;
z.when(U&&A(R)).done(function(X){var W=X&&X[(U||"").trim()];
if(W){T.trim=W.token
}var V=u.location.current().postalCode;
var Y=false;
I.fdcc.spc.reset();
I.fdcc.spc.show(function(Z){if(Y&&Z.zipcode!==V){u.location.setPostalCode(Z.zipcode)
}S.resolve(Z)
},T,function(Z){if("PostalCodeEntryView"===Z){Y=true
}var aa=H&&H.Metrics||{handler:{direct:function(){}}};
if("FinanceTabView"===Z){if(v&&!aa.spcFlags.tabDisplayed("finance")){aa.handler.direct(v.spcFinanceTabViewAction);
aa.spcFlags.set("finance",true)
}}else{if("LeaseTabView"===Z){if(v&&!aa.spcFlags.tabDisplayed("lease")){aa.handler.direct(v.spcLeaseTabViewAction);
aa.spcFlags.set("lease",true)
}}else{if("FinancePrintClick"===Z){if(v){aa.handler.direct(v.spcFinancePrintClickAction)
}}else{if("LeasePrintClick"===Z){if(v){aa.handler.direct(v.spcLeasePrintClickAction)
}}else{if("CreditLinkClick"===Z){if(v){aa.handler.direct(v.spcCreditLinkClickAction)
}}else{if("CalculatorHidden"===Z){if(v){aa.handler.direct(v.spcCalculatorHiddenAction)
}aa.spcFlags.reset()
}}}}}}})
})
});
return S.promise()
}function O(S,U){var T=z.Deferred();
var R="[data-pricing-template],[data-pricing-template-lease],[data-pricing-template-finance],[data-pricing-template-cash]";
if(!U){E.push(S)
}L().done(function(){var V=[];
var W=[];
z(R,S).each(function(){var ai=z(this);
var aa=z.Deferred();
var ad=ai.attr("data-pricing-template");
var ac=B(ad,"{price}");
var ab=l(k(ai,"data-pricing-context"),false);
var X=ai.attr("data-pricing-trim")||ab.trimId;
if(!X&&!ab.configToken&&!ab.vin&&ac){var ae=Q.find(P,{model:ab.model,year:ab.year});
var af=t(ae);
var Z=g(af);
var Y={price:Z||"{price}"};
var ah;
if(ad==="{price}"){ah=Y.price
}else{var ag=Q.template(ad||"",{interpolate:/{([\s\S]+?)}/g});
ah=ag(Y)
}ai.html(ah);
if(Z){ai.data("pricing",{price:Z,priceValue:af})
}d(ai,ae);
V.push(ai);
aa.resolve();
return
}z.when(X&&A(ab)).done(function(ap){var ak=null;
var aj=null;
if(X){ak=ap&&ap[(X||"").trim()];
if(ak){if(ac){var al=t(ak);
var an=g(al);
var ao={price:an||"{price}"};
var aq;
if(ad==="{price}"){aq=ao.price
}else{var am=Q.template(ad||"",{interpolate:/{([\s\S]+?)}/g});
aq=am(ao)
}ai.html(aq);
if(an){ai.data("pricing",{price:an,priceValue:al})
}d(ai,ak);
V.push(ai);
aa.resolve();
return
}aj=ak.token
}else{aj="#none#";
j.log("Invalid trim id "+X,ap)
}}f(ab).done(function(ar){var au;
var av=ad;
au=(aj)?Q.find(ar,{trim:aj}):ar;
if(Q.isArray(au)){au=au[0]
}if(au){if(p(ai)){au.pricingLabel=c(k(ai,"data-pricing-labels"),au)
}else{au.pricingLabel=C(k(ai,"data-pricing-labels"),au)
}ad=ad||ai.attr("data-pricing-template-"+au.offerType);
var at=Q.template(ad,{interpolate:/{([\s\S]+?)}/g});
av=at(au)
}ai.html(av);
d(ai,au);
ai.data("pricing",au);
V.push(ai);
aa.resolve()
})
});
W.push(aa.promise())
});
z("[data-pricing-payment-toggle]",S).toggleClass("fgx-brand-hidden",!(!!u.location.current().postalCode));
z.when.apply(z,W).done(function(){T.resolve(V)
})
}).fail(function(){var V=R.replace(/[\[\]]/g,"").split(",");
z(R,S).each(function(){var W=z(this);
Q.each(V,function(X){var Y=W.attr(X);
if(Y){W.html(Y);
return false
}})
})
});
return T.promise()
}function p(R){return(R.closest("[data-pricing-context]").attr("data-pricing-use-as-shown")==="true")
}function a(R){var S=M.planType;
if(Q.isBoolean(R.planApplicable)){return(R.planApplicable)?{MSRP:"msrp",AZ:"az"}[S]||"x":"msrp"
}else{return(S!=="MSRP"&&(M.planType==="AZ"?R.az&&"az":!(R[M.planType.toLowerCase()]===false)&&R.x&&"x"))||"msrp"
}}function t(R){return R&&R[a(R)]
}function C(S,R){return z.extend({},h,S)[R&&a(R)||"msrp"]
}function c(S,R){return z.extend({},h,S)[R&&("as-shown_"+a(R))||"as-shown_msrp"]
}function d(S,R){var T=k(S,"data-pricing-labels");
S.parent().find("[data-pricing-label]").html(C(T,R))
}function B(U,W){var S=false,V=W||"{price}";
if(U&&typeof(U)!="undefined"){var T=U.match(/{([\s\S]+?)}/g);
if(T){var R=true;
Q.each(T,function(X){if(X!=V){R=false
}});
S=R
}}return S
}function f(R){var T=[R.make,R.model,R.year,R.configToken,R.vin].join("");
var S=e[T];
if(!S){if(!(R.make&&R.model&&R.year)){S=z.when(null)
}else{var U=z.Deferred();
L().done(function(){var V=function(){if(!I.fdcc.spc.isBusy()&&!n){n=true;
((R.configToken||R.vin)?N(R):G(R)).done(function(W){n=false;
U.resolve(W)
})
}else{setTimeout(V,100)
}};
V()
});
S=U.promise()
}e[T]=S
}return S
}function N(R){var S=z.Deferred();
I.fdcc.spc.calculate(function(U){var T={id:U.trimName.substr(U.model.length+1).replace(/ /g,"").toLowerCase(),trim:U.trim,trimName:U.trimName,offerType:(U.paymentType==="lease")?"lease":((U.buy&&U.buy.specialApr)?"finance":"cash"),price:g(U.price),priceValue:U.price,paymentType:U.paymentType,pricingData:U,payment:g(U.payment),apr:(U.buy&&U.buy.apr)||(U.lease&&U.lease.apr),term:(U.buy&&U.buy.term)||(U.lease&&U.lease.term),signingAmount:g(U.lease&&U.lease.signingAmount),pricingDate:FD.Brand.Util.dateTime.longFormat(),planApplicable:U.planApplicable,postalCode:m(),hasPostalCode:(!!u.location.current().postalCode),downPayment:g(U.downPayment),incentives:g(U.incentives),pricingDate:FD.Brand.Util.dateTime.longFormat()};
switch(T.offerType){case"lease":T.offerText=g(U.payment)+"/mo "+U.lease.term+" month lease";
break;
case"finance":T.offerText=g(U.payment)+"/mo "+U.buy.term+" month finance";
break
}S.resolve(T)
},l(R,false));
return S.promise()
}function G(R){var T=z.Deferred();
var S=l(R,false);
A(R).done(function(U){I.fdcc.spc.calculateTrimPayments(function(V){var W=Q.map(V.trimPayments,function(Y){var aa=null,Z=null;
var ac=U&&Q.find(U,{token:Y.trim});
Q.each(["lease","finance","cash"],function(ad){var af=Y[ad];
var ae=af&&af.payment;
if(ae&&(!aa||aa.payment>ae)){aa=af;
Z=ad
}});
var X=ac?t(ac):aa.basePrice;
var ab={id:Y.trimName.substr(V.model.length+1).replace(/ /g,"").toLowerCase(),trim:Y.trim,trimName:Y.trimName,ngpTrimName:ac&&ac.ngpTrimName,offer:aa,offerType:Z,offerPrice:g(aa.price),offerPriceValue:aa.price,price:g(X),priceValue:X,paymentType:aa.paymentType,pricingData:Y,payment:g(aa.payment),apr:(aa.buy&&(aa.buy.apr))||(aa.lease&&aa.lease.apr),term:(aa.buy&&aa.buy.term)||(aa.lease&&aa.lease.term),signingAmount:g(aa.lease&&aa.lease.signingAmount),pricingDate:FD.Brand.Util.dateTime.longFormat(),postalCode:m(),planApplicable:aa.planApplicable,hasPostalCode:(!!u.location.current().postalCode),downPayment:g(aa&&aa.downPayment),incentives:g(aa&&aa.incentives)};
switch(Z){case"lease":ab.offerText=g(aa.payment)+"/mo "+aa.lease.term+" month lease";
break;
case"finance":ab.offerText=g(aa.payment)+"/mo "+aa.buy.term+" month finance";
break
}return ab
});
T.resolve(W)
},S)
});
return T.promise()
}function A(U){var W=z.Deferred();
var V=W.promise();
if(!(U.model&&U.year)){W.resolve(null)
}else{var T=Q.values(Q.pick(U,["model","year"])).join("-");
var R=y[T];
if(R){if(R.promise){V=R
}else{W.resolve(R)
}}else{var S=I.sessionStorage.getItem("fgx-pricing-trims-"+T);
if(S){R=JSON.parse(S);
y[T]=R;
W.resolve(R)
}else{y[T]=V;
R={};
r.modelSlices(Q.assign({},U,{modelSliceDefiners:"ST_Display_Trim_Names",modelSliceAttributes:"ST_Display_Trim_Names",planType:M.planType,appContext:"T1"})).done(function(X){Q.each(j.toArray(j.objPath(X,"ModelSlices.ModelSlice")||[]),function(ab){var ad=r.attributeMap(ab.Attribute);
var ac=ad.ST_Display_Trim_Names;
var aa=ab.Pricing;
var Z=aa.PlanApplicability;
var ae={ngpTrimName:ac,token:ab.ConfigToken,msrp:parseFloat((q.region==="CA")?aa.StartingAtPrice:aa.BaseMSRP)};
if(q.region!=="CA"){if(Z.AZ==="true"){ae.az=parseFloat(aa.BaseAZPlan)
}ae.x=parseFloat(aa.BaseXPlan);
if(Z.SPX===Z.FNX&&Z.FNX===Z.PRX){if(Z.SPX!=="true"){delete ae.x
}}else{Q.each(["SPX","FNX","PRX"],function(af){ae[af.toLowerCase()]=Z[af]==="true"
})
}}R[ac]=ae;
R[ac.replace(/[^A-Za-z0-9\-\_\:]/g,"").toLowerCase()]=ae
});
y[T]=R;
try{I.sessionStorage.setItem("fgx-pricing-trims-"+T,JSON.stringify(R))
}catch(Y){}W.resolve(R)
})
}}}return V
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.User,FD.Brand.Util,FD.Brand.NgpServices);
(function(c,b){a();
function a(){var d=c.createElement("img");
if(!(("srcset" in d)&&("sizes" in d))){b.url.loadAsScript("/cmslibs/etc/designs/brand_ford/brand/vendor/picturefill/js/picturefill.min.js",{async:""})
}}})(document,FD.Brand.Util);
(function(f,g,u,o,b){var e=false;
var t=false;
var d=false;
var a=[];
var q=false;
var v=null;
var s=null;
u.extend(o.namespace("FD.Brand.Video",f),{launch:n,youtube:{create:m,isReady:function(){return d
},setReady:function(w){d=w
}},brightcove:{create:r}});
function n(w,x){var y=g.Deferred();
p().then(function(){if(b.currentBreakpoint()!=="gux-bkpt-sm"){g("#modal-player").css({top:Math.max(150,g(f).scrollTop()+75)+"px"})
}else{g("#modal-player").css({top:Math.max(150,g(f).scrollTop())+"px"})
}g("#modal-player").css({"z-index":2002});
var A=videojs("player").FordPlayer.launchModal(w);
y.resolve(A);
g("body").addClass("no-scroll-sm");
if(b.currentBreakpoint()=="gux-bkpt-sm"){g("html").css({overflow:"hidden",position:"relative",height:"100%"})
}var z={$el:g("#modal-player"),lastFocus:x,hide:function(){g(".bcc-modal-close-button").trigger("click")
}};
FD.Brand.Overlay.trapFocus(z,'[tabindex="0"]:visible',".bcc-modal-close-button",x);
g(".bcc-modal-close-button").one("click",function(B){FD.Brand.Overlay.releaseFocus(z)
});
g(".bcc-modal-close-button").on("keydown",function(B){if(B.ctrlKey||B.metaKey||B.altKey){return
}if(B.which==13||B.which==32){FD.Brand.Overlay.releaseFocus(z);
g(this).off("keydown")
}});
g(".bcc-save-icon").hide();
g(".bcc-share-icon").hide()
});
return y.promise()
}function p(){var x=g.Deferred();
if(e){x.resolve()
}else{var w=o.Context.settings;
var y=o.Context.language;
g('<video id="player" class="video-js" data-embed="default" controls></video>').attr("data-account",w.videoAccount).attr("data-player",w.videoPlayerKey).appendTo(g("body")).wrap('<div id="modal-container"></div>').parent().wrap('<div id="modal-player"></div>');
o.Util.url.loadAsScript("//players.brightcove.net/"+w.videoAccount+"/"+w.videoPlayerKey+"_default/index.min.js").then(function(){var z="/cmslibs/etc/designs/brand_ford/brand/skin/"+o.Context.skin+"/js";
o.Util.url.loadAsScript(z+"/brightcovePlayer.js").then(function(){var A={debug:true,$:g};
if(y==="fr"){A.l10n={language:y,file:z+"/l10n/"+y+".json"};
A.plugins={frenchCaptions:{}};
videojs.registerPlugin("frenchCaptions",function(){var B=this;
B.on("play",function(){var D=B.textTracks();
for(var E=0;
E<D.length;
E++){var C=D[E];
if(C.language=="fr-CA"||C.language=="fr"){C.mode="showing"
}}})
});
videojs("player").frenchCaptions()
}videojs("player").FordPlayer(A);
e=true;
x.resolve()
})
})
}return x.promise()
}function m(w,x){var y=g.Deferred();
h().then(function(){var D=(w&&w.item)?w.item:null;
var C=(D&&D.ytVideoStartTime)?parseInt(D.ytVideoStartTime,10):0;
var z=(D&&D.ytVideoEndTime)?parseInt(D.ytVideoEndTime,10):null;
var B=o.Context.language;
var A=new YT.Player(w.id,{height:"390",width:"640",videoId:w.item.videoId,playerVars:{autoplay:w.autoPlay,enablejsapi:1,start:C,end:z,hl:B},events:w.events});
y.resolve(A)
});
return y.promise()
}function h(){var x=g.Deferred();
var w=function(){if(d){x.resolve()
}else{a.push(x)
}};
if(t){w()
}else{t=true;
o.Util.url.loadAsScript("https://www.youtube.com/iframe_api").then(function(){w()
})
}return x.promise()
}function r(w){var x=g.Deferred();
k(w).then(function(){var y=u.extend({},w,v);
if(v&&v.playerApi){v.playerApi.setConfig(w)
}x.resolve(y)
});
return x.promise()
}function k(x){var z=g.Deferred();
if(v&&v.initialized){z.resolve(v)
}else{v={};
var y=o.Context.settings;
var A=o.Context.language;
var w=g(x.template());
w.addClass("active");
w.appendTo(x.slideContainer);
v.slideItem=w;
o.Util.url.loadAsScript("//players.brightcove.net/"+y.videoAccount+"/"+y.videoPlayerKey+"_default/index.min.js").then(function(){v.initialized=true;
v.player=videojs("player");
c();
v.playerApi=j(x,v.player);
l(A).then(function(){z.resolve(v)
})
})
}return z.promise()
}function j(w,x){var y={};
if(x){y={autoplay:function(){var z=(b.currentBreakpoint==="gux-bkpt-sm")?false:true;
x.autoplay(z);
x.one("play",function(){x.autoplay(true)
})
},destroy:function(){},getCurrentTime:function(){return x.currentTime()
},getPlayer:function(){return x
},getPlayerId:function(){return"player"
},getVideoData:function(){return w.currentVideo
},pauseVideo:function(){x.pause()
},playVideo:function(){x.play()
},createButton:function(z,A,B,C){if(s&&s.playerButton){new s.playerButton(z,A,z.controlBar.el(),B,C)
}},setControlText:function(A,z){v.slideItem.find("."+A).find(".vjs-control-text").text(z)
},setConfig:function(z){w=u.extend({},w,z)
},setCurrentVideo:function(z){w.currentVideo=z
}}
}return y
}function c(){if(!s){s={}
}s.vjsButton=videojs.getComponent("Button");
s.playerButton=videojs.extend(s.vjsButton,{constructor:function(w,y,x,z,B){s.vjsButton.prototype.constructor.call(this,w,{});
this.el=this.el_;
this.el.className="vjs-control bcc-player-button "+y;
if(x){x.appendChild(this.el)
}if(z&&typeof(z)=="function"){g(this.el).on("click touchstart",function(C){z();
return false
})
}if(B&&typeof(B)=="function"){var A={className:this.el.className,el:this.el};
B(A)
}}})
}function l(z){var y=g.Deferred();
if(z==="fr"){var x="/cmslibs/etc/designs/brand_ford/brand/skin/"+o.Context.skin+"/js",w=x+"/l10n/"+z+".json";
g.get(w,function(A){if(typeof A!="string"){v.labels=A
}else{try{v.labels=JSON.parse(A)
}catch(B){v.labels={}
}}}).done(function(){if(window.videojs){videojs.addLanguage(z,v.labels);
videojs("player").language(z);
videojs.registerPlugin("frenchCaptions",function(){var A=this;
A.on("play",function(){var C=A.textTracks();
for(var D=0;
D<C.length;
D++){var B=C[D];
if(B.language=="fr-CA"||B.language=="fr"){B.mode="showing"
}}})
});
videojs("player").frenchCaptions()
}y.resolve()
}).fail(function(){if(!v.labels){v.labels={}
}y.resolve()
})
}else{if(!v.labels){v.labels={}
}y.resolve()
}return y.promise()
}g("body").on("fgxVideo:youtubeReady",function(){for(var w=0;
w<a.length;
w++){a[w].resolve()
}a=[]
});
if(!f.onYouTubeIframeAPIReady){f.onYouTubeIframeAPIReady=function(){FD.Brand.Video.youtube.setReady(true);
g("body").trigger("fgxVideo:youtubeReady")
}
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Util);
(function(k,h,m,d,e,o){m.extend(d.namespace("FD.Brand.Search",k),{typeAheadResults:f,selectResult:l,setReferrerApp:a,sfiTypeAheadResults:j});
var g={maxResultCount:10};
var n;
function f(v,u,s,t,r){var q=[],p=r||g.maxResultCount;
e.searchTypeAhead({N:"0",Di:"8124",Dk:"1",Dx:"rel+static(rank,descend)",Dn:"0",D:v+"*"}).done(function(w){if(w!=null){c(w,u,s,t,p)
}else{u.hide()
}}).fail(function(w){u.hide()
})
}function c(q,y,x,t,z){var r=q.map(function(A){return A.Location[0].DimValueName
});
if(z!==-1){r=r.slice(0,z)
}if(r!==null){y.find(".search-res-item").remove();
var u=0;
for(var w in r){var p="fgx-brand-searchTypeAheadItem"+u;
var v=r[w];
if(typeof(v)!="function"){y.append("<li id='"+p+"' class='search-res-item' tabindex='-1' aria-selected='false' role='option' data-fgx-keypress='true'>"+v+"</li>")
}u++
}y.show();
x.attr("aria-expanded","true");
if(typeof t!=="undefined"){var s=t.data("label-template");
if(s){t.text(s.replace("{count}",r.length))
}}y.find(".search-res-item").on("mousedown",function(A){A.preventDefault()
}).on("click",function(){var A=h(this).closest("form");
l(A,h(this).text())
}).on("focusin",function(){y.find(".search-res-item").attr("aria-selected","false");
h(this).attr("aria-selected","true");
x.attr("aria-activedescendant",h(this).attr("id"))
}).on("keydown",function(A){if(A.shiftKey&&A.which===9){x.focus();
return false
}else{if(A.which===27){x.focus();
y.hide();
t.text("");
x.attr("aria-expanded","false");
x.removeAttr("aria-activedescendant");
return false
}}})
}else{y.hide();
if(typeof t!=="undefined"){t.text("")
}}}function l(p,r){var q=p.find(".search-input");
q.val(r);
p.submit()
}function j(w,v,t,r,q,u,s){var p=s||g.maxResultCount;
if(w.length<3){return
}e.sfiTypeAhead({q:w}).done(function(x){if(x!=null){b(x,v,t,r,q,u,p)
}else{v.hide()
}}).fail(function(x){v.hide()
})
}function b(A,E,p,w,D,s,x){if(A&&A.numFound&&A.numFound>0){var C=A.suggestions;
if(x!==-1){C=C.slice(0,x)
}if(C!==null){E.find(".sfi-item").remove();
var v=0;
for(var F=0;
F<C.length;
F++){var H=C[F];
if(typeof H.name!="undefined"&&typeof H.display!="undefined"){var B="sfi-result-TypeAheadItem"+v;
var q="sfi-item clearfix";
if(v>2){q+=" hidden-xs"
}var r=H.name;
var y=H.display;
var G="<span class='icon icon-plus-25px select'></span><span class='icon icon-check-solid-25px selected' style='display:none;'></span>";
if(w.indexOf(r)>-1){G="<span class='icon icon-plus-25px select' style='display:none;'></span><span class='icon icon-check-solid-25px selected'></span>"
}var z="<li id='"+B+"' class='"+q+"' tabindex='-1' aria-selected='false' role='option' data-fgx-keypress='true' data-chip-text='"+r+"'><span class='text'>"+y+"</span><span class='select-container'>"+G+"</span></li>";
E.append(z);
v++
}}E.show();
p.attr("aria-expanded","true");
if(typeof s!=="undefined"){var t=s.data("label-template");
if(t){var u=C.length;
if(FD.Brand.Util&&FD.Brand.Util.currentBreakpointXS()==="gux-bkpt-xs"&&C.length>3){u=3
}s.text(t.replace("{count}",u))
}}E.find(".sfi-item").on("mousedown",function(I){I.preventDefault()
}).on("click",function(J){var I=h(this).find(".icon.select");
if(I.is(":visible")){I.trigger("click")
}}).on("focusin",function(){E.find(".sfi-item").attr("aria-selected","false");
h(this).attr("aria-selected","true");
p.attr("aria-activedescendant",h(this).attr("id"))
}).on("keydown",function(I){if(I.shiftKey&&I.which===9){p.focus();
p.removeAttr("aria-activedescendant");
E.find(".sfi-item").attr("aria-selected","false");
return false
}else{if(I.which===27){p.focus();
p.removeAttr("aria-activedescendant");
E.find(".sfi-item").attr("aria-selected","false");
return false
}}});
h(".sfi-item .icon.select",E).on("click",function(I){I.preventDefault();
I.stopPropagation();
D.call(this)
})
}else{E.hide();
if(typeof s!=="undefined"){s.text("")
}}}else{E.hide();
if(typeof s!=="undefined"){s.text("")
}}}function a(q){if(o.settings.syn&&o.metrics&&o.metrics.pageName&&o.metrics.pageName.indexOf("owner")>=0){var p=q[0];
var r=document.createElement("input");
r.type="hidden";
r.name="referrerApp";
r.value="owner";
p.appendChild(r)
}}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.NgpServices,FD.Brand.Context);
(function(h,G,v,H,b,j){var u=null;
var e=null;
var p="io",B="",q={io:{id:"io",prefix:"vehicles",linkNameBase:":vehicle:incentives:content:action:",onClickBase:"incentives:content:",OnClickPrefix:""},bp:{id:"bp",prefix:"bp",linkNameBase:":bp:incentives:content:action:",onClickBase:"bp:incentives:content:",OnClickPrefix:"bp"}},n=null,s={"offers-by-model":"by-model","featured-offers":"featured","additional-offers":"others"},l="",t="",D={gip:{formType:"request",context:"IncentivesQuote",altLeadSource:"NGBS",altLeadSourceCA:"IO NGBS",mtxShowKey:"ioShowLeadFormAction",mtxSubmitSuccessKey:"ioLeadFormSubmissionSuccessAction",mtxSubmitSuccessOptInKey:"ioLeadFormSubmissionSuccessOptInAction",t3Title:(v.locale==="fr_ca")?"Demander un Prix":"Request a Price",t3SubmitLabel:(v.locale==="fr_ca")?"Demander un Prix":"Request a Price"},testDrive:{formType:"schedulev2",context:"IncentivesTestDrive",altLeadSource:"IO Test Drive",altLeadSourceCA:"IO Test Drive",mtxShowKey:"ioShowTestDriveFormAction",mtxSubmitSuccessKey:"ioTestDriveFormSubmissionSuccessAction",mtxSubmitSuccessOptInKey:"ioTestDriveFormSubmissionSuccessOptInAction"}},g="gip",f={},E=[{urlKey:"year",golfKey:"year"},{urlKey:"make",golfKey:"make"},{urlKey:"model",golfKey:"model"},{urlKey:"postalCode",golfKey:"postalCode"},{urlKey:"leadsource",golfKey:"leadSource",context:"lead"},{urlKey:"altleadsource",golfKey:"altLeadSource",context:"lead"},{urlKey:"intcmp",golfKey:"campaignID",context:"lead"},{urlKey:"env",golfKey:"tier"},{urlKey:"tertiarysource",golfKey:"tertiarysource",context:"lead"},{urlKey:"dealerPACode",golfKey:"prefPaCode"}],c=a("year"),A=a("make"),z=a("model"),y=a("postalCode"),m=h.location.href;
if(m.indexOf("/io-frame")>=0){if(c&&A&&z){if(v){if(v.nameplate){v.nameplate.ngpModelName=z;
v.nameplate.ngpYear=c
}else{var F={ngpModelName:z,ngpYear:c};
v.nameplate=F
}}if(FD.Brand&&FD.Brand.Metrics){FD.Brand.Metrics.updateVehicle(A,z,c)
}}}$(x);
function x(){u=h.ShoppingToolsIncentivesAndOffers||null;
if(u){p=a("app")||"io";
B=a("c5src")||"";
t=a("stConfigurationURL")||"";
e=v&&v.mtxActions;
var K=w();
n={"$$appID":K.id,"$$appPrefix":K.prefix,"$$onClickSrc":B,"$$incentivesYear":v.nameplate&&v.nameplate.ngpYear,"$$incentivesMake":v&&v.make,"$$incentivesNameplate":v.nameplate&&(v.nameplate.metricsName||v.nameplate.ngpModelName).toLowerCase(),"$$appOnClickPrefix":K.appOnClickPrefix};
var J={close:function(){if(e){FD.Brand.Metrics.handler.direct(e.ioCloseAction,n);
FD.Brand.Metrics.spcFlags.reset()
}},incentiveView:function(L){if(e){FD.Brand.Metrics.handler.direct(e.ioIncentiveViewLoadAction,n)
}},initialTabDisplay:function(L){if(e){var N={};
if(L){N.$$tabName=L.tabName.replace(/-/g," ");
N.$$offersText=(L.hasOffers)?"offers":"no-offers";
N.$$tabKey=s[L.tabName]
}l=N.$$tabName;
var O=G.extend({},n,N);
var M=(L&&L.tabName==="offers-by-model")?"ioInitialTabDisplayModelOffersAction":"ioInitialTabDisplayAction";
FD.Brand.Metrics.handler.direct(e[M],O)
}},tabChange:function(L){if(e){var N={};
if(L){N.$$tabName=L.tabName.replace(/-/g," ");
N.$$offersText=(L.hasOffers)?"offers":"no-offers";
N.$$tabKey=s[L.tabName]
}l=N.$$tabName;
var O=G.extend({},n,N);
var M=(L&&L.tabName==="offers-by-model")?"ioTabChangeModelOffersAction":"ioTabChangeAction";
FD.Brand.Metrics.handler.direct(e[M],O)
}},postalCodeClick:function(L){if(e){FD.Brand.Metrics.handler.direct(e.zipCodeOverlayOpenAction,n)
}},postalCodeUpdated:function(L){if(e){FD.Brand.Metrics.handler.direct(e.zipCodeChangeAction,n)
}},expandTrim:function(L){if(e){if(L&&(L.expanded==="true"||L.expanded===true)){var M={};
M.$$trimName=L.trimName;
var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioExpandTrimAction,N)
}}},showSPC:function(L){if(e){var M={};
if(L){M.$$paymentType=L.paymentType
}var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioShowSpcAction,N)
}},showLeadForm:function(M){var L=G.extend({},M,D.gip);
g="gip";
d(L)
},showTestDriveForm:function(M){var L=G.extend({},M,D.testDrive);
g="testDrive";
d(L)
},offerPaging:function(L){if(e){var M={};
if(L){M.$$offerSection=L.offerSection
}var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioCarouselScrollAction,N)
}},print:function(L){if(e){var M={};
if(L){M.$$offerTypes=(L.offerTypes&&L.offerTypes.toLowerCase()==="retail")?"retail":"lease"
}var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioPrintAction,N)
}},showSPCCashOverlay:function(L){if(e){var M={};
if(L){M.$$trimName=L.trim
}var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioShowSpcCashOverlayAction,N)
}},additionalExitLink:function(L){if(e){var M={};
if(L){M.$$offerTitle=L.offerTitle
}var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioAdditionalExitLinkAction,N)
}},vehicleExitLink:function(L){if(e){var M={};
if(L){M.$$tabName=L.tabName.replace(/-/g," ")
}var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioVehicleExitLinkAction,N)
}},dealerExitLink:function(L){if(e){var M={};
if(L){M.$$tabName=L.tabName.replace(/-/g," ")
}var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioDealerExitLinkAction,N)
}},buildAndPriceExitLink:function(L){if(e){FD.Brand.Metrics.handler.direct(e.ioBnpExitLinkAction,n)
}},spcCalculatorHidden:function(L){if(e){FD.Brand.Metrics.handler.direct(e.spcCalculatorHiddenAction,n);
FD.Brand.Metrics.spcFlags.reset()
}},spcFinanceTabView:function(L){if(e&&!FD.Brand.Metrics.spcFlags.tabDisplayed("finance")){FD.Brand.Metrics.handler.direct(e.spcFinanceTabViewAction,n);
FD.Brand.Metrics.spcFlags.set("finance",true)
}},spcLeaseTabView:function(L){if(e&&!FD.Brand.Metrics.spcFlags.tabDisplayed("lease")){FD.Brand.Metrics.handler.direct(e.spcLeaseTabViewAction,n);
FD.Brand.Metrics.spcFlags.set("lease",true)
}},spcFinancePrintClick:function(){if(e){FD.Brand.Metrics.handler.direct(e.spcFinancePrintClickAction,n)
}},spcLeasePrintClick:function(){if(e){FD.Brand.Metrics.handler.direct(e.spcLeasePrintClickAction,n)
}},spcCreditLinkClick:function(L){if(e){FD.Brand.Metrics.handler.direct(e.spcCreditLinkClickAction,n)
}},spcFrequencyChange:function(L){if(e){var M={};
if(L){M.$$frequency=L.frequency
}var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e.ioSpcFrequencyChangeAction,N)
}}};
var I=H.location.current();
if(c&&A&&z&&y){n["$$incentivesYear"]=c;
n["$$incentivesMake"]=A;
n["$$incentivesNameplate"]=z.toLowerCase();
u.show({year:c,make:A,model:z,trim:a("trim"),postalCode:y,appContext:a("appContext")},J)
}else{u.show({year:v.nameplate&&v.nameplate.ngpYear,make:v.make,model:v.nameplate&&v.nameplate.ngpModelName,postalCode:I&&I.postalCode,appContext:"ngbs_sploffr"},J)
}r()
}}function d(I){H.authentication.current().then(function(L){var J={model:f&&f.model||I.model,year:f&&f.year||I.year,postalCode:f&&f.postalCode||I.postalCode,type:(o(I.model))?"comm":"",options:{allowChangeVehicle:false,allowChangeDealer:true},lead:{context:I.context,altLeadSource:(v.region==="CA")?I.altLeadSourceCA:I.altLeadSource}};
if(t&&t!=""){J.lead.stConfigurationURL=t
}if(v.make==="Lincoln"&&L.authType==="user"){J.lead.leadSource="Lincoln.com Concierge Lead"
}if($(".incentivesandoffers").length){J.options.hideAddress=true
}if(I&&I.submitLabel){J.ctaLabel=I.submitLabel
}if(f&&f.tier=="tier3"){J.options.allowChangeDealer=false;
if(f.prefPaCode){J.prefPaCode=f.prefPaCode
}if(I){if(I.t3Title){J.formTitle=I.t3Title
}if(I.t3SubmitLabel){J.ctaLabel=I.t3SubmitLabel
}}}if(f&&f.lead){J.lead=G.extend({},J.lead,f.lead)
}var K=null;
if(I&&I.returnFocusElement){K=I.returnFocusElement
}FD.Brand.Form[I.formType].show(J,C,k,null,K);
if(e){var M={"$$tabName":l};
var N=G.extend({},n,M);
FD.Brand.Metrics.handler.direct(e[I.mtxShowKey],N)
}})
}function k(L,M){var J=D[g]||D.gip;
if(L==="SubmissionSucceeded"){if(e){var K=M&&M.request,I=K&&K["customer.allowfollowup"],O=(I&&(I===true||I==="true"))?J.mtxSubmitSuccessOptInKey:J.mtxSubmitSuccessKey;
if(M&&M.response&&M.response.cksVisitID){FD.Brand.Metrics.setParameter("user_cksVisitId",M.response.cksVisitID)
}var N={"$$tabName":l};
var P=G.extend({},n,N);
FD.Brand.Metrics.handler.direct(e[O],P)
}}}function C(I){FD.Brand.Util.log("IO lead complete",I)
}function a(I){if(I=(new RegExp("[?&]"+encodeURIComponent(I)+"=([^&]*)")).exec(location.search)){return decodeURIComponent(I[1])
}}function o(J){var I=false,K=(J&&J.toLowerCase())||"";
if(h.location.href.toLowerCase().indexOf("commercial")>-1||(K.indexOf("commercial")>-1)){I=true
}else{switch(K){case"e-series cutaway":case"chassis cab":case"f-650-750":case"transit chassis":case"strippedchassis":case"econoline chassis":I=true;
break
}}return I
}function r(){G.each(E,function(I){var J=a(I.urlKey)||"";
if(J&&J!=""){if(I.context){if(!f[I.context]){f[I.context]={}
}f[I.context][I.golfKey]=J
}else{f[I.golfKey]=J
}}})
}function w(){return q[p]||q.io
}})(window,FD.Brand.lodash,FD.Brand.Context,FD.Brand.User,FD.Brand.Util,FD.Brand.Metrics);
(function(h,j,v,m,q,w,a){var g={getupdates:{Ford:{listid:"312726",qacodeEmail:"0799A",qacodeMail:"0848312720"},Lincoln:{listid:"320879",qacodeEmail:"0799A",qacodeMail:"0848320876"}},canvasgu:{Ford:{listid:"320864",qacodeEmail:"0799A",brochureCode:"222"},Lincoln:{listid:"320864",qacodeEmail:"0799A",brochureCode:"222"}},personaldriver:{Ford:{listid:"320864",qacodeEmail:"0799A",brochureCode:"223"},Lincoln:{listid:"320864",qacodeEmail:"0799A",brochureCode:"223"}},kmi:{Ford:{listid:"312726",qacodeEmail:"0799A",brochureCode:"222"},Lincoln:{listid:"320879",qacodeEmail:"0799A",brochureCode:"222"}}};
var u={schedule:{FormShown:{registeredEvent:true,mtxKey:"scheduleTestDriveShowFormAction"},RequestView:{registeredEvent:false,mtxKey:""},ResponseView:{registeredEvent:true,mtxKey:"scheduleTestDriveResponseViewAction"},SelectVehicleView:{registeredEvent:true,mtxKey:"scheduleTestDriveSelectVehicleViewAction"}},fleetschedule:{FormShown:{registeredEvent:false,mtxKey:""},RequestView:{registeredEvent:true,mtxKey:"fleetScheduleTestDriveRequestViewAction"},ResponseView:{registeredEvent:true,mtxKey:"fleetScheduleTestDriveResponseViewAction"},SelectVehicleView:{registeredEvent:true,mtxKey:"fleetScheduleTestDriveSelectVehicleViewAction"}}};
v.extend(m.namespace("FD.Brand.Form",h),{request:c("request",{skinVersion:"guxv2"}),schedule:c("schedule"),blschedule:c("schedule",{skinVersion:"lincolnblv1",blackLabelOnly:true}),schedulev2:c("schedule",{skinVersion:"guxv2",id:"schedulev2"}),fleetschedule:c("schedule",{skinVersion:"fleet",id:"fleetschedule"}),getupdates:c("getupdates"),canvasgu:c("getupdates",v.extend({skinVersion:"canvasv1",id:"canvasgu"},b("canvasgu"))),personaldriver:c("getupdates",v.extend({skinVersion:"personaldriverv1",id:"personaldriver"},b("personaldriver"))),kmi:c("getupdates",v.extend({skinVersion:"kmi",id:"kmi"},b("kmi"))),registerEventCallback:e,unregisterEventCallback:r,formEventCallback:p,load:d});
var l={};
var f=[];
function c(A,x,z){var y=null;
var C=false;
var B=(x&&x.id)?x.id:A;
return v.extend({show:function(D,G,F,H,E){if(y){o(y,D,G,F,H,E)
}else{if(C){return
}C=true;
d(A,x).done(function(I){var J=h.FD.Pantry.Golf;
J.initialized().done(function(){J.refresh();
y=J.getForm(B);
o(y,D,G,p(y,A,F),H,E);
C=false
})
})
}}},z||{})
}function e(x){if(v.isFunction(x)){f.push(x)
}}function r(x){v.pull(f,x)
}function p(y,x,z){return function(){var A=[].slice.call(arguments);
for(var B=-1;
B<f.length;
B++){var C=(B<0)?z:f[B];
if(B==0){A.unshift(x)
}if(C){try{C.apply(y,A)
}catch(D){}}}}
}function d(A,x,y){var B=j.Deferred();
var C="/aemservices/common/api/component";
var z=(y)?y:"body";
if(q.locale==="fr_ca"){C=(q.settings["shopUrl"+q.make+q.languageKey]||q.settings["shopUrl"+q.make])+a.url.prepend(C,"/cmslibs")
}else{if(q.settings.syn==="1"){if(q.settings.env!=="local"){C=a.url.prepend(C,"/cmslibs")
}C=q.settings.synBaseUrl+C+".ext"
}}j.get(C+".html/golf-"+A,v.extend({id:A,formType:A,presentation:"overlay",make:q.make,region:q.region.toLowerCase()},b(A),x)).done(function(H){if(H){var E=j(H);
var F=E.find('script,link[rel="stylesheet"]');
var G=[];
var D=function(){if(G.length===0){a.log("golf.lib: files loaded "+A);
h.setTimeout(function(){B.resolve(E)
},0);
return
}var J=G.shift();
var I=J.url;
if(l[I]){D()
}else{if(J.script){a.url.loadAsScript(I).then(D,function(){a.log("golf.lib: failed to load script "+J.url);
B.reject()
})
}else{a.url.loadAsStyle(I);
D()
}l[I]=1
}};
j.each(F,function(K,J){var I=j(J);
if(I[0].tagName==="SCRIPT"){var L=I.attr("src");
if(L){G.push({script:1,url:L})
}else{j.globalEval(I.text())
}}else{G.push({script:0,url:I.attr("href")})
}});
F.remove();
E.appendTo(z);
a.log("golf.lib: form loaded "+A);
D()
}});
return B.promise()
}function o(y,x,C,B,D,A){var z=v.extend({formTitle:D,model:q.nameplate&&q.nameplate.ngpModelName,year:q.nameplate&&q.nameplate.ngpYear,postalCode:w.location.current().postalCode},x);
y.show(C,z,B,A)
}function b(x){return v.extend({},(g[x]||{})[q.make],q.forms&&q.forms[x])
}try{FD.Brand.Form.registerEventCallback(t)
}catch(k){console.log("Error occurred in the form registration handling method")
}function s(y){var E=y&&y.formId||"";
var D="";
var x={};
switch(E){case"canvasgu":D="canvasGUSubmissionSuccessAction";
break;
case"personaldriver":D="personalDriverSubmissionSuccessAction";
break;
case"getUpdatesBrochures":break;
case"kmi":D="kmiSubmissionSuccessAction";
break;
default:var C=y&&y.request;
if(C){var z=C.email,F=C.mail,B=a.str.firstInstance(C.mtxName,";"),A=a.str.firstInstance(C.year,";");
if(typeof(z)=="undefined"||!z){z=0
}if(typeof(F)=="undefined"||!F){F=0
}if(q.region==="CA"||(z==1&&F==0)){D="getUpdatesSubmissionSuccessEmailOptinAction"
}else{if(z==1&&F==1){D="getUpdatesSubmissionSuccessBothOptinAction"
}else{D="getUpdatesSubmissionSuccessMailOptinAction"
}}x["$$getUpdatesNameplate"]=B;
x["$$getUpdatesYear"]=A
}break
}if(D!=""){FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions[D],x)
}}function n(z,x){var y={};
if(z&&z.registeredEvent===true){if(x){if(x.model){y["$$testDriveNameplate"]=x.model.toLowerCase()
}if(x.year){y["$$testDriveYear"]=x.year
}}FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions[z.mtxKey],y)
}}function t(D,x,y){try{switch(D){case"getupdates":switch(x){case"FormShown":var z="getUpdatesShowFormAction";
if(y&&y.formId){switch(y.formId){case"canvasgu":z="canvasGUShowFormAction";
break;
case"personaldriver":z="personalDriverShowFormAction";
break;
case"kmi":z="kmiShowFormAction";
break
}}FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions[z]);
break;
case"SubmissionSucceeded":s(y);
break
}break;
case"schedule":var C=u[(y&&y.formId)||"schedule"]||u.schedule;
switch(x){case"FormShown":var B=C&&C.FormShown||{};
n(B,y);
break;
case"RequestView":var B=C&&C.RequestView||{};
n(B,y);
break;
case"ResponseView":var B=C&&C.ResponseView||{};
n(B,y);
break;
case"SelectVehicleView":var B=C&&C.SelectVehicleView||{};
n(B,y);
break
}break
}}catch(A){console.log("Error occurred in the form event callback method "+A)
}}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Context,FD.Brand.User,FD.Brand.Util);
(function(f,e,c,g,b){c.extend(g.namespace("FD.Brand.Position",f),{items:{setup:d,update:a}});
function d(k,j,m){var l={},h=e(k),j=j||"fgx-positioned-slide-",m=m||".billboard-slide.item";
h.find(m).each(function(){var n=e(this),o=n.data("slideId")||"0",q=n.find("[data-position-element]"),p={};
q.each(function(t){var s=e(this),u=s.data("positionElement");
if(u&&u.styles&&!e.isEmptyObject(u.styles)){var v="fgx-"+u.itemType+"-"+t;
p[v]=u;
s.addClass(v);
if(b.currentBreakpoint()==="gux-bkpt-sm"){if(u.hasMobileOverride){s.css(u.styles.mobile)
}else{if(u.styles.desktop){s.css(u.styles.desktop)
}}}else{if(u.styles.desktop){s.css(u.styles.desktop)
}}}});
if(!e.isEmptyObject(p)){var r=j+o;
n.addClass(r);
l[r]=p
}});
return l
}function a(h,j){e.each(j,function(k,l){if(l&&!e.isEmptyObject(l)){e.each(l,function(n,m){if(m&&!e.isEmptyObject(m)){e.each(m,function(r,q){if((h==="mobile"&&!q.hasMobileOverride)||(q.styles[h]&&e.isEmptyObject(q.styles[h]))){return
}var o="."+r;
var p="."+k+" ."+n;
e(o,p).css(q.styles[h])
})
}})
}})
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Util);
(function(c,d,u,a,p){u.extend(FD.Brand.namespace("FD.Brand.External",c),{adChoices:{show:o},whosOn:{show:f},commentCard:{show:s},vrPlayer:{show:m},cafex:{load:b}});
var e=[];
var t={"US-Ford":{sync:"/chat/chatstart.htm?domain="+(p.settings.env==="prod"?"support.ford.com":"sync.ford.com")+"&AspxAutoDetectCookieSupport=1&SID=0",vehicle:"/chat/chatstart.htm?domain=owner.ford.com&AspxAutoDetectCookieSupport=1&SID=0"},"US-Lincoln":{concierge:"/chat/chatstart.htm?domain=www.lincoln.com&SID=1"},"CA-Lincoln":{concierge:"/chat/chatstart.htm?domain=www.lincolncanada.com&SID=1"}};
var h={};
var n={WL_PLAYER_ID:"wl_vr-player",initialized:false,options:{}};
d(r);
function r(){if(p.translationProvider==="motionpoint"){j()
}if(p.region==="US"){g()
}if(p.accessibility.accessibilityJSInclude==="wcag"){q()
}if(p.chatServiceProvider=="cafex"&&p.loadCafexOnPage){b()
}}function k(w){var x=d.Deferred();
var v=function(){if(w.length===0){x.resolve();
return
}var y=w.shift();
if(e[y]){v()
}else{var z=(p.settings.synBaseUrl&&y[0]==="/"&&y[1]!=="/")?p.settings.synBaseUrl:"";
a.url.loadAsScript(z+y).then(v,function(){a.log("external.lib: failed to load script "+y);
x.reject()
});
e[y]=1
}};
v();
return x.promise()
}function o(x){var w=201;
var z=1063;
var A=c.location.protocol;
var B=(A==="https:")?"https://a248.e.akamai.net/betterad.download.akamai.com/91609/pub/":"http://cdn.betrad.com/pub/";
var v=function(C){var D=new Image();
D.src=A+"//l.betrad.com/pub/p.gif?pid="+w+"&ocid="+z+"&i"+C+"=1&r="+Math.random()
};
var y=FD.Brand.Util.currentBreakpoint();
if(y==="gux-bkpt-sm"||y==="gux-bkpt-med"){c.open("//info.evidon.com/pub_info/"+w+"?v=1");
v("c")
}else{k([B+"pub2.js"]).done(function(){if(c.BAPW&&c.BAPW.i){c.BAPW.i(x,{pid:w,ocid:z})
}window.addEventListener("message",function(){d("#_bapw-notice").remove()
},false)
})
}}function f(y){var x=t[p.region+"-"+p.make][y];
if(x){var v=h[y];
if(v&&!v.closed){v.focus()
}else{var w=p.settings.whosOnUrl+x+"&lang="+p.language;
h[y]=c.open(w,y,"scrollbars=1,menubar=0,resizeable=1"+(a.currentBreakpoint()!=="gux-bkpt-sm"?",width=484,height=361":""))
}}}function g(){c.setTimeout(function(){k(["//ips-invite.iperceptions.com/invitations/invitationsJS/126/s126452/iPGCC_launcher.js"])
},10)
}function s(){if(c.ipeGCCards){c.ipeGCCards.loadScript()
}else{a.log("external.lib: iPerceptions comment card library not loaded")
}}function q(){c.setTimeout(function(){k(["/cmslibs/etc/designs/brand_ford/brand/vendor/accessibility/wcag.js"])
},5000)
}function j(){var w=document.createElement("script");
w.id="mpelid";
w.async=true;
w.src=p.settings["mpEasyLinkUrl"+p.make];
var v=document.getElementsByTagName("script")[0];
v.parentNode.insertBefore(w,v);
c.mp_var={UrlLang:"mp_js_current_lang",SrcUrl:decodeURIComponent("mp_js_orgin_url"),oSite:decodeURIComponent("mp_js_origin_baseUrl"),tSite:decodeURIComponent("mp_js_translated_baseUrl")}
}function m(v,w){var x=d.Deferred();
l().then(function(){var z={exitCallback:function(){var D=d("#"+n.WL_PLAYER_ID);
d("body").removeClass("no-scroll");
D.removeClass("shown");
D.empty();
if(w&&w.length>0){w.focus()
}}};
var y=u.extend(n.options,z);
var B=(v&&v.wl_appConfig)?v.wl_appConfig:"";
if(B!==""){var C=c&&c.RATTLER||{};
var A=C.createPlayer(B,document.getElementById(n.WL_PLAYER_ID),y);
d("#"+n.WL_PLAYER_ID).addClass("shown");
d("body").addClass("no-scroll");
x.resolve(A)
}else{x.resolve({})
}},function(){x.reject()
});
return x.promise()
}function l(){var v=d.Deferred();
if(n.initialized){v.resolve()
}else{d('<div id="'+n.WL_PLAYER_ID+'"></div>').appendTo(d("body"));
window.__webpack_public_path__="/cmslibs/etc/designs/brand_ford/brand/vendor/vrplayer/";
k(["/cmslibs/etc/designs/brand_ford/brand/vendor/vrplayer/static/js/fordcom360v0.3.1.js"]).then(function(){n.initialized=true;
v.resolve()
},function(){n.initialized=false;
d("#"+n.WL_PLAYER_ID).remove();
a.log("vr.lib: error loading VR Player JS file");
v.reject()
})
}return v.promise()
}function b(){var v=p&&p.settings.cafexUrl||"/cmslibs/etc/designs/common/vendor/cafex/cafex_PROD.js";
k([v])
}})(window,jQuery,FD.Brand.lodash,FD.Brand.Util,FD.Brand.Context);
(function(h,j,E,w,s,A,a,c){E.extend(FD.Brand.namespace("FD.Brand.Link",h),{baseUrl:b,secureUrl:v,processLink:t,switchLanguage:n,externalUrl:function(){return true
},getPageContext:D,setPageContext:p});
var C=w.settings;
var q={};
var o={NGB_Nameplate_URLKey:"ngbsNp",BPM_Settings_NameplateUrlKey:"bpNp",ST_SPC_Settings_NameplateUrlKey:"siNp",ST_SING_DerivedNameplateUrlKey:"siDerivedNp",NGB_Nameplate_Definers:"ngbsTrim",ST_Display_Trim_Names:"stTrim",IQQV2_ModelSlices:"iqqTrim",SI3_Trim_Definers:"siTrim"};
var x="lang";
var B={make:w.make,model:w.nameplate&&w.nameplate.ngpModelName,year:w.nameplate&&w.nameplate.ngpYear,trim:w.model&&w.model.ngpTrimName};
var l={car:"cars",crossover:"crossovers",suv:"suvs",hybrid:"cars",truck:"trucks","commercial-truck":"commercial-trucks"};
j(z);
j("body").on("click","a[href^='#$']",d);
j("body").on("keypress","[data-fgx-keypress]",k);
j("body").on("keydown","[data-fgx-keypress]",f);
function z(){if(w.translationProvider==="tdc"){var H=a.cookie.get(x);
if(H&&H!==w.language){var J=E.find(w.languages.languageLinks,{code:H});
if(J){location.assign(y(J.domain));
return
}}}var I=h.location.hash;
if(I&&I.substring(0,2)==="#$"){var G=g();
u(G).done(function(K){t(I,null,G,K)
}).fail(function(){a.log("Failed to open hash link "+I,G)
})
}if(C.deepLink){var F=j("#"+C.deepLink.substring(1));
h.setTimeout(function(){console.log("deep link to "+C.deepLink);
a.window.scrollTo(F,250)
},200)
}}function d(I){I.preventDefault();
var H=j(this);
var F=j(this).attr("href");
var J=j(this).attr("target");
var G=g(H.closest("[data-link-context]"));
u(G).done(function(K){t(F,J,G,K,H)
}).fail(function(){a.log("Failed to open link "+F,G)
})
}function k(F){var G=j(":focus");
var H=G.attr("role");
if(F.which===13&&(H==="radio"||H==="button"||H==="link"||H==="combobox"||H==="option")){F.preventDefault();
F.stopPropagation();
G.trigger("click")
}else{if(F.which===32&&(H==="radio"||H==="button"||H==="combobox")){F.preventDefault();
F.stopPropagation();
G.trigger("click")
}}}function f(F){var G=j(":focus");
var H=G.attr("role");
if(F.which===40&&(H==="option"||H==="combobox")){F.preventDefault();
F.stopPropagation();
if(H==="combobox"){$dropdownEl=j(".fgx-custom-select-dropdown",G);
if(!$dropdownEl.hasClass("shown")){G.trigger("click");
j("li:visible",$dropdownEl).first().focus()
}else{j("li:visible",$dropdownEl).first().focus()
}}else{G.next().focus()
}}else{if(F.which===38&&(H==="option"||H==="combobox")){F.preventDefault();
F.stopPropagation();
if(H==="combobox"){$dropdownEl=j(".fgx-custom-select-dropdown",G);
if(!$dropdownEl.hasClass("shown")){G.trigger("click");
j("li:visible",$dropdownEl).last().focus()
}else{j("li:visible",$dropdownEl).last().focus()
}}else{G.prev().focus()
}}else{if(F.which===27&&(H==="option")){F.preventDefault();
F.stopPropagation();
G.closest(".fgx-custom-select").trigger("click");
G.closest(".fgx-custom-select").focus()
}}}}function g(F){return E.assign({},B,F&&F.length&&j.parseJSON(F.attr("data-link-context"))||{})
}function e(G,F){FD.Brand.User.authentication.current().then(function(J){var I=F&&F.closest("[data-link-context]");
var H=E.assign((G==="quote"||G==="testdrive"||G==="testdrivev2")&&B.make==="Lincoln"&&J.authType==="user"?{lead:{leadSource:"Lincoln.com Concierge Lead"}}:(G==="bltestdrive"&&B.make==="Lincoln")?{configToken:w.pageConfigToken}:{},I&&I.length&&j.parseJSON(I.attr("data-link-context"))||{});
c[{quote:"request",testdrive:"schedule",bltestdrive:"blschedule",testdrivev2:"schedulev2",fleettestdrive:"fleetschedule"}[G]||G].show(H,null,null,null,F)
})
}function u(F){return j.Deferred(function(J){var I=E.values(F).join("-");
var H=q[I];
if(H){J.resolve(H)
}else{if(!(F.model&&F.year)){J.resolve(null);
return
}var G=E.keys(o).join(";");
var H={};
s.modelSlices(E.assign({},F,{modelSliceDefiners:"ST_Display_Trim_Names",modelAttributes:G,modelSliceAttributes:G,appContext:"T1"})).done(function(M){var L=s.attributeMap(M.Attribute);
H.vehicleType=M.VehicleType;
H.year=F.year;
if(F.trim){var K=F.trim.trim();
var N=null;
E.each(a.toArray(a.objPath(M,"ModelSlices.ModelSlice")||[]),function(O){var P=s.attributeMap(O.Attribute);
var Q=P.ST_Display_Trim_Names.trim();
if(Q===K){N=Q;
E.assign(L,P);
H.trim=O.ConfigToken;
H.config=O.ConfigToken;
return false
}});
if(!N){a.log("Trim not found "+F.trim);
J.reject();
return
}}E.each(L,function(P,O){if(o[O]){H[o[O]]=P
}});
q[I]=H;
J.resolve(H)
}).fail(function(){J.resolve(null)
})
}}).promise()
}function t(H,L,I,R,T){var O=/^#\$(\w*)(\/\w*)?(\?.*)?$/g.exec(H);
if(O){var G;
var N=O[1];
var S=O[2];
var M=a.url.queryString(O[3]||" ");
var F=(h.location.href.indexOf("commercial")>-1)?"comm":"";
switch(N){case"spc":if(R){R.type=F;
FD.Brand.Pricing.show(E.extend({},I,R));
return
}else{G=[b("shop"),"/showroom/"];
M.add("linktype","estimatepayment")
}break;
case"postalCode":A.instance.postalCodeOverlay.show(true,T,"input");
return;
case"languageSelector":A.instance.languageSelector.show(true,T,"a.btn");
return;
case"sendEmail":A.instance.emailOverlay.show(true,T,".email-subject-textfield");
return;
case"bp":G=[b("shop"),"/build/"];
if(R){G.push(R.bpNp,"/",I.year,"/");
if(I.trim){G.push("#/select/",R.config)
}}else{G=[b("shop"),"/showroom/"];
M.add("linktype","build")
}break;
case"si":G=[b("shop"),"/inventory/"];
if(R){G.push(R.siDerivedNp||R.siNp||I.model.replace(/\s/g,"").toLowerCase(),"/",I.year,"/");
if(I.trim){M.add("selectTrim",R.ngbsTrim)
}}else{G=[b("shop"),"/showroom/"];
M.add("linktype","inventory")
}break;
case"siresults":G=[b("shop"),"/inventory/"];
if(R){G.push(R.siDerivedNp||R.siNp||I.model.replace(/\s/g,"").toLowerCase(),"/results/");
if(I.year){M.add("year",I.year)
}if(I.trim){M.add("selectTrim",R.ngbsTrim)
}if(I.radius){M.add("Radius",I.radius)
}}else{G=[b("shop"),"/showroom/"];
M.add("linktype","inventoryresults")
}break;
case"incentives":if(R){G=[b("ngbs"),r(R),"/pricing-and-incentives/"]
}else{G=[b("shop"),"/showroom/"];
M.add("linktype","incentives")
}break;
case"nbs":G=[b("shop"),"/showroom/"];
break;
case"iqq":if(R){var K=I.model;
if(I.year==="2016"&&(K==="MKC"||K==="MKX"||K==="MKZ")){K+=" Base"
}G=[b("quote"),"/",I.year,"-",I.make,"-",K];
if(I.trim){M.add("select",R.iqqTrim)
}M.add("branding","1")
}else{G=[b("shop"),"/showroom/"];
M.add("linktype","quote")
}break;
case"compare":if(R){G=[b("ngbs"),r(R),"/compare/"]
}else{G=[b("shop"),"/showroom/"];
M.add("linktype","compare")
}break;
case"brochures":if(R){G=[b("ngbs"),r(R),"/brochures/"]
}else{G=[b("shop"),"/showroom/"];
M.add("linktype","brochures")
}break;
case"quote":case"testdrive":case"getupdates":case"bltestdrive":case"canvasgu":case"personaldriver":case"testdrivev2":case"fleettestdrive":case"kmi":e(N,T);
return;
case"userSignIn":G=[b("ngbsSecure"),"/account/sign-in/?CLWInitLoad=signin&CLWRedirectLogin=",encodeURIComponent(window.location.href),"&Continue=",encodeURIComponent(window.location.href)];
break;
case"userSignOut":FD.Brand.User.authentication.logout();
return;
case"opinionLab":case"commentCard":FD.Brand.External.commentCard.show();
break;
case"adChoices":FD.Brand.External.adChoices.show(T&&T[0]);
break;
case"chat":if(w&&w.chatServiceProvider=="cafex"){FD.Brand.External.cafex.load()
}else{FD.Brand.External.whosOn.show(S&&S.substring(1))
}break;
case"vrPlayer":var J=T.closest("[data-vr-config]");
var P=E.extend({},J&&J.length&&j.parseJSON(J.attr("data-vr-config"))||{});
FD.Brand.External.vrPlayer.show(P,T);
break;
case"browserBack":h.history.back();
break;
default:a.log("link.lib: Unknown link",O);
return
}if(G){G.push(M.asString())
}var Q=G&&G.join("");
if(Q){if(L==="_blank"){window.open(Q)
}else{window.location.assign(Q)
}}}}function v(F){return F.replace(/^http:\/\//i,"https://")
}function r(F){if(w.nameplatePath){return w.nameplatePath.substr(w.siteRootPath.length)||""
}else{var G=["",l[F.vehicleType],F.ngbsNp||F.bpNp,F.year].join("/");
return(G.slice(-1)==="/")?G.slice(0,G.length-1):G
}}function b(G){var F=G+"Url";
return C[F+w.make+w.languageKey]||C[F+w.languageKey]||C[F+w.make]||C[F]
}function n(H){var G=j(H);
if(G.hasClass("current-lang")){return true
}var J=H.getAttribute("data-lang");
var F=H.getAttribute("data-href");
switch(w.translationProvider){case"tdc":location.assign(y(F));
var I=w.settings["siteCookieDomain"+w.make];
a.cookie.set(x,J,{path:"/",domain:((I||"")==="")?null:I,expires:30});
return true;
default:return false
}}function y(F){var I=location.pathname;
if(I==="/"){I=""
}var J="";
if(I.indexOf("/content/")===0){var H=I.split("/");
for(var G=5;
G<H.length;
G++){J+="/";
J+=H[G]
}}else{J=I
}J=a.url.extension(J).removeSpecified(".html");
if(J.length>0&&J.substring(J.length-1)!=="/"){J+="/"
}return"//"+F+J+a.url.queryString().asString()
}function D(){return E.assign({},B)
}function p(F){F=F||{};
if(F.configToken){s.configDetail({configToken:F.configToken,partClass:"NONE",returnAttributes:"ST_Display_Trim_Names",appContext:"T1"}).done(function(H){if(H){var I={make:H.Make,model:H.Model,year:H.Year,trim:H.Attribute&&H.Attribute.Value,configToken:F.configToken};
E.assign(B,I);
m(I)
}})
}else{var G={make:F.make,model:F.model,year:F.year,trim:F.trim};
E.assign(B,G);
m(G)
}}function m(H){if(w){w.make=H.make;
var F={ngpModelName:H.model,ngpYear:H.year};
w.nameplate=E.extend({},w.nameplate||{},F);
if(H.trim){var G={ngpTrimName:H.trim};
w.model=E.extend({},w.model||{},G)
}if(H.configToken){w.pageConfigToken=H.configToken
}}}})(window,jQuery,FD.Brand.lodash,FD.Brand.Context,FD.Brand.NgpServices,FD.Brand.Overlay,FD.Brand.Util,FD.Brand.Form);
(function(d,e,t,g,p,u){t.extend(g.namespace("FD.Brand.Dealer",d),{sortPreferred:o,isFullStateName:j,updateDealer:b,updateSearchHints:f,appendT3QS:n});
var s=/[^A-Za-z0-9]/g;
function o(y){var x=[];
var w=[];
t.each(y,function v(z){if(z.isPreferred){x.push(z)
}else{w.push(z)
}});
return x.concat(w)
}var m=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];
var c=["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Newfoundland","Labrador","Nova Scotia","Nunavut","Northwest Territories","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"];
function j(x){if(p.region==="CA"){for(var v=0;
v<c.length;
v++){var w=c[v];
if(w.toLowerCase()===x.toLowerCase()){return true
}}}else{for(var v=0;
v<m.length;
v++){var w=m[v];
if(w.toLowerCase()===x.toLowerCase()){return true
}}}return false
}function b(G,E,D,v,x,C,A){var y=new Date();
var F=y.getDay();
var B=y.getHours();
if(G.SalesHours&&G.SalesHours.Day&&!G.SalesHoursDescription){t.each(G.SalesHours.Day,function(H,I){if(I===F&&H.open&&B<H.open.split(":")[0]){G.SalesHoursDescription=v+" "+h(H.open,A)
}else{if(I===F&&H.close&&B<H.close.split(":")[0]){G.SalesHoursDescription=D+" "+h(H.close,A)
}else{if(I===F&&H.close&&B>=H.close.split(":")[0]){G.SalesHoursDescription=v+" "+r(G.SalesHours.Day,(I+1),A)
}else{if(I===F&&H.closed){G.SalesHoursDescription=v+" "+r(G.SalesHours.Day,(I+1),A)
}}}}H.open=h(H.open,A);
H.close=h(H.close,A)
})
}if(G.ServiceHours&&G.ServiceHours.Day){t.each(G.ServiceHours.Day,function(H,I){H.open=h(H.open,A);
H.close=h(H.close,A)
})
}if(x!=null&&G.PACode&&G.PACode===x.PACode){G.isPreferred=true
}else{G.isPreferred=false
}if(C!=null){var w=(window.location.pathname.indexOf(".html")>0)?".html":"";
G.DeepLinkUrl=[C,G.urlKey,w].join("")
}if(G.PACode&&G.Address&&G.Address.PostalCode){var z=[G.Address.Street1];
if(G.Address.Street2){z.push(G.Address.Street2)
}if(G.Address.Street3){z.push(G.Address.Street3)
}G.AddressStreet=z.join(", ");
G.AddressCityStateZip=G.Address.City+", "+(G.Address.Province||G.Address.State)+" "+G.Address.PostalCode;
G.MobileMapUrl="http://maps.apple.com/?daddr="+G.AddressStreet+" "+G.AddressCityStateZip
}if(G.textnumber){G.TextUrl=G.textnumber.replace(/^\(/,"").replace(/\)\s?/," ").replace(/\s/g,"").replace("-","")
}if(p.make==="Lincoln"){if(G.l_cmb_rate_ct&&G.l_cmb_rate_ct>0){G.combinedRating=G.l_cmb_rate;
G.combinedRatingsPercentage=l(G.l_cmb_rate);
G.combinedRatingsCount=G.l_cmb_rate_ct
}if(G.l_sls_rate_ct&&G.l_sls_rate_ct>0){G.salesRating=G.l_sls_rate;
G.salesRatingsPercentage=l(G.l_sls_rate);
G.salesRatingsCount=G.l_sls_rate_ct
}if(G.l_svc_rate_ct&&G.l_svc_rate_ct>0){G.serviceRating=G.l_svc_rate;
G.serviceRatingsPercentage=l(G.l_svc_rate);
G.serviceRatingsCount=G.l_svc_rate_ct
}}else{if(G.f_cmb_rate_ct&&G.f_cmb_rate_ct>0){G.combinedRating=G.f_cmb_rate;
G.combinedRatingsPercentage=l(G.f_cmb_rate);
G.combinedRatingsCount=G.f_cmb_rate_ct
}if(G.f_sls_rate_ct&&G.f_sls_rate_ct>0){G.salesRating=G.f_sls_rate;
G.salesRatingsPercentage=l(G.f_sls_rate);
G.salesRatingsCount=G.f_sls_rate_ct
}if(G.f_svc_rate_ct&&G.f_svc_rate_ct>0){G.serviceRating=G.f_svc_rate;
G.serviceRatingsPercentage=l(G.f_svc_rate);
G.serviceRatingsCount=G.f_svc_rate_ct
}}G.index=E;
return G
}function l(v){var w=(v/5)*100;
return w+"%"
}function r(A,x,w){var z=undefined;
var y=0;
while(z===undefined){if(x>A.length){x=0
}var v=A[x];
if(v!=undefined&&v.open){if(v.open.indexOf("AM")>0||w=="24"){z=v.open+" "+v.name
}else{z=q(v.open)+" "+v.name
}break
}x++;
y++;
if(y>=7){break
}}return z
}function h(w,v){if(v=="12"){return q(w)
}else{return k(w)
}}function q(y){if(y&&y.indexOf("AM")<0&&y.indexOf("PM")<0){var v=y.split(":");
if(v.length==2){var w=parseInt(v[0],10);
var x="AM";
if(w===0||w>12){w=(w===0)?12:w-12;
x="PM"
}else{if(w===12){x="PM"
}}y=w+":"+v[1]+x
}}return y
}function k(w){if(w&&w.indexOf("h")<0){var v=w.split(":");
if(v.length<2){w=v[0]+"h00"
}else{w=v[0]+"h"+v[1]
}}return w
}function f(E,D,B,y){var v=E.find("ul");
var A=E.find(".search-suggestions-info");
var w=e.Deferred();
E.hide();
v.empty();
if(y||!/^[a-z]{2,}/i.test(D.val)){a([]);
return
}var x=FD.Brand&&FD.Brand.Util,z={};
if(x&&x.env.geoLocation()){z=u.location.coordinates()
}if(!D.isDealer){e.ajax({url:p.settings.mapSearch,dataType:"jsonp",data:{q:D.val,key:p.settings.mapKey},jsonp:"jsonp",cache:true}).done(function(I){var G,H=[];
if(I.statusCode===200&&I.resourceSets&&I.resourceSets.length&&(G=I.resourceSets[0])&&(G=G.resources)){G=t.filter(G,{address:{countryRegionIso2:p.region}});
t.each(G.slice(0,Math.min(G.length,5)),function(L){var J=(L.point&&L.point.coordinates&&L.point.coordinates.length),K={name:L.name||"",paCode:null,location:{lat:(J)?L.point.coordinates[0]:1,lon:(J)?L.point.coordinates[1]:1},distance:{}};
if(!t.isEmpty(z)){var M=x.distance.betweenCoords(z.lat,z.lon,K.location.lat,K.location.lon,true);
K.distance=t.extend(K.distance,M)
}H.push(K)
})
}w.resolve(H)
})
}else{var F="/search/JSONTypeAheadServlet.do";
var C=8398;
if(p.make==="Lincoln"&&p.region==="CA"){F="/search-lincolnfoc/JSONTypeAheadServlet.do";
C=8415
}else{if(p.make==="Lincoln"&&p.region==="US"){F="/search-lincoln/JSONTypeAheadServlet.do";
C=8383
}else{if(p.make==="Ford"&&p.region==="CA"){F="/search-fordfoc/JSONTypeAheadServlet.do";
C=8440
}}}e.ajax({url:p.settings.ngpServiceUrl+F,data:{N:0,Dk:10,Dx:"rel static(rank,descend)",Dn:0,Di:C,D:D.val+"*"},callback:"JSON_CALLBACK",method:"GET",responseType:"json",cache:true,timeout:5000}).done(function(I){var G,H=[];
if(I.DimensionSearch&&I.DimensionSearch.length&&(G=I.DimensionSearch[0].Locations)&&G.length){H=w.resolve(t.map(t.pluck(t.flatten(t.pluck(G.slice(0,Math.min(G.length,5)),"Location")),"DimValueName"),function(K){var J=K.split("+");
var L={paCode:(J[0])?J[0]:"",name:(J[1])?J[1]:"",location:{city:J[2],state:J[3],lat:(J[4])?parseFloat(J[4]):1,lon:(J[5])?parseFloat(J[5]):1},distance:{}};
console.log(K);
console.log(L);
if(!t.isEmpty(z)){var M=x.distance.betweenCoords(z.lat,z.lon,L.location.lat,L.location.lon,true);
L.distance=t.extend(L.distance,M)
}return L
}))
}w.resolve(H)
})
}w.promise().done(function(I){a(I);
v.empty();
var G=0;
var J=(p.region==="CA")?"km":"mi";
t.each(I,function(K){e('<li id="fgx-brand-dealerSearchSuggestion'+G+'" class="result" tabindex="-1" role="option" aria-selected="false" data-fgx-keypress="true" data-pacode="'+K.paCode+'"><span><span class="result-name">'+K.name+'</span><span class="result-meta-wrap"><span class="result-location">'+((K.location&&K.location.city)?" ("+K.location.city+", "+K.location.state+")":"")+'</span><span class="result-distance">'+((!t.isEmpty(K.distance))?K.distance[J]:"")+"</span></span></li>").appendTo(v);
G++
});
E.toggle(I.length>0);
B.attr("aria-expanded",(I.length>0));
if(I.length<=0){B.removeAttr("aria-activedescendant")
}if(typeof A!=="undefined"&&I.length>0){var H=A.data("label-template");
if(H){A.text(H.replace("{count}",I.length))
}}else{if(typeof A!=="undefined"&&I.length<=0){A.text("")
}}v.find(".result").on("focusin",function(){v.find(".result").attr("aria-selected","false");
e(this).attr("aria-selected","true");
B.attr("aria-activedescendant",e(this).attr("id"))
}).on("keydown",function(K){if(K.shiftKey&&K.which===9){B.focus();
return false
}else{if(K.which===27){B.focus();
E.hide();
A.text("");
B.attr("aria-expanded","false");
B.removeAttr("aria-activedescendant");
return false
}}})
})
}function a(v){if(FD.Brand.Util.currentBreakpoint()==="gux-bkpt-sm"&&e(".dealer-standard.expanded").length){e("p.advanced").toggle(!(v.length>0))
}}function n(x){var w=p.t3DealerQueryString||"";
if(!t.isEmpty(w)){if(w.indexOf("?")===-1){w="?"+w
}var v=FD.Brand.Util.url.queryString(w);
if(x&&!t.isEmpty(x)){x=v.addToUrl(x)
}}return x
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Context,FD.Brand.User);
(function(h,g,d,c,b){var e=c.settings;
d.extend(FD.Brand.namespace("FD.Brand.Inventory",h),{dealerLot:function(j){return f("/dealer-lot",j)
}});
function f(n,j,l,m,k){return g.Deferred(function(p){var o=(k)?n:"/aemservices/cache/inventory"+n;
g.getJSON(o,j).done(function(q){if(m||a(q)){p.resolve(l?l(q):q)
}else{p.reject()
}}).fail(function(q){b.log(n+" failed",q);
p.reject(q)
})
}).promise()
}function a(j){if(j){if(j.status==="success"){return true
}else{b.log("inventoryLib::Service call failed ["+j.status+"] "+j.errorMessage)
}}else{b.log("inventoryLib::Service call failed - No response")
}return false
}})(window,jQuery,FD.Brand.lodash,FD.Brand.Context,FD.Brand.Util);
(function(a,c){c.setInitHandler("[data-fgx-you-might-also-like]",b);
function b(l){var e=window.FD.Brand;
e.Dig.resolve(l);
var f=window.matchMedia("(max-width: 767px)"),k=window.matchMedia("(max-width: 992px)"),d=window.matchMedia("(max-width: 1440px)");
a(window).resize(function(){p()
});
p();
a(".two-column-carousel",l).each(function(){FD.Brand.Util.carousel.swipe(this,function(r,q){j(r,".two-column-carousel",q)
})
});
e.User.location.subscribe(function(){l.each(function(){var q=this;
e.Pricing.refresh(this,true).done(function(r){o(q);
h(q)
})
})
});
function o(q){a(".make-info.monthly-price",q).each(function(){var s=a(this),u=s.find(".pricing"),v=u.text(),r=s.find(".icon-info"),t=u.data("pricing");
if(t&&t.offerType){if((t.offerType==="lease"||t.offerType==="finance"||(t.offerType==="cash"&&typeof u.attr("data-pricing-template-cash")!=="undefined"))&&typeof v!=="undefined"&&v!==""){r.attr("href","#$spc").removeClass("hidden");
r.removeAttr("aria-hidden")
}}})
}function h(s){var q=a(".ymal-zipcode-txt",s);
var r=q.attr("data-fd-metrics-zip-click");
if(typeof r!=="undefined"){q.find("a").attr("data-fd-metrics-click",r)
}}function p(){a(".two-column-carousel",l).each(function(){a(this).carousel({interval:false})
});
if(f.matches){if(!a(".two-column-carousel",l).hasClass("slide")){a(".two-column-carousel",l).addClass("slide")
}}else{if(k.matches){if(a(".two-column-carousel",l).hasClass("slide")){a(".two-column-carousel",l).removeClass("slide")
}g(a(".two-column-carousel",l).closest(".you-might-also-like"))
}else{if(d.matches){if(a(".two-column-carousel",l).hasClass("slide")){a(".two-column-carousel",l).removeClass("slide")
}g(a(".two-column-carousel",l).closest(".you-might-also-like"))
}}}}function g(q){var r=q.find(".pagination-info");
r.attr("aria-hidden","true");
r.removeAttr("aria-live");
r.removeAttr("aria-atomic");
r.text("")
}function n(q,u,t){var s=q.find(".pagination-info");
var r=s.data("label-template");
s.attr("aria-hidden","false");
s.attr("aria-live","polite");
s.attr("aria-atomic","true");
if(r){s.text(r.replace("{current}",u).replace("{total}",t))
}}function j(t,r,q){if(f.matches){a(t).carousel(q);
a(t).siblings(r).carousel(q);
m(t);
var s=(q==="next")?"right":"left";
FD.Brand.Metrics.handler.direct(a(t).attr("data-fd-metrics-scroll"),{$$carouselScrollDirection:s})
}}function m(s){var r=a(s,l).find(".active").index();
a(s,l).siblings(".carousel-indicators").children().each(function(){a(this).removeClass("active");
if((a(this).data("slideTo")*1)!==r){a(this).addClass("active")
}});
r=a(s,l).find(".active").index();
var q=a(this).closest(".you-might-also-like");
n(q,(r+1),2)
}a(".carousel-indicators li",l).click(function(){var q=parseInt(a(this).data("slideTo"),10);
if(!a(this).hasClass("active")){FD.Brand.Metrics.handler.direct(a(this).attr("data-fd-metrics-scroll"))
}a(this).parent().siblings(".two-column-carousel").each(function(){a(this).carousel(q)
});
a(this).siblings().removeClass("active");
a(this).addClass("active");
var r=a(this).closest(".you-might-also-like");
n(r,(q+1),2)
})
}})(jQuery,FD.Brand);
(function(g,w,f,k,y,b){var n,d={},a,h,r,v,q,o,x,t,c,p,u,l,m;
k.setInitHandler("[data-fgx-recently-viewed]",s);
function s(M){if(M.length==0){return
}n=M;
if(!n.hasClass("bbLayout")){var H=window.matchMedia("(min-width: 768px)");
H.addListener(T);
T(H);
g(".recently-viewed-carousel",n).each(function(){FD.Brand.Util.carousel.swipe(this,Q)
})
}g("script[data-fgx-recently-viewed-template-id]").each(function(U,V){var W=g(V);
d[W.attr("data-fgx-recently-viewed-template-id")]=w.template(V.innerHTML)
});
var N=g(".rv-models-container",n);
h=(N.data("pricing-enabled")&&(N.data("pricing-enabled")==="true"||N.data("pricing-enabled")==true))?true:false;
var O=N.data("context-labels");
a={};
B(O,a);
var P=N.data("pricing-templates");
r={};
B(P,r);
var J=N.data("pricing-disclosures");
v={};
B(J,v);
var F=N.data("pricing-iball-toggles");
q={};
B(F,q);
var A=N.data("campaign-codes");
o={};
B(A,o);
var S=N.data("main-link-metrics");
x={};
B(S,x);
var R=N.data("image-link-metrics");
t={};
B(R,t);
var G=N.data("cta-one-labels");
c={};
B(G,c);
var L=N.data("cta-one-metrics");
p={};
B(L,p);
var z=N.data("cta-two-labels");
u={};
B(z,u);
var K=N.data("cta-two-links");
l={};
B(K,l);
var E=N.data("cta-two-metrics");
m={};
B(E,m);
y.fps.current().done(function(U){if(!U.loaded){console.log("FPS library not loaded");
return
}FPS.RVV.getAllByGroups({success:function(W){var X=W[0].RVVAllGrouped;
console.log("****************");
console.log(W[0]);
if(X!=undefined&&X.length>0){g(".model_0",n).addClass("hidden").removeClass("item");
g(".model_1",n).addClass("hidden").removeClass("item");
g(".model_2",n).addClass("hidden").removeClass("item");
g(".recently-viewed-carousel .carousel-indicators li",n).addClass("hidden");
if(X.length==1){g("ul.rv-models",n).addClass("list-one")
}else{if(X.length==2){g("ul.rv-models",n).addClass("list-two");
g(".fgx-indicator-1, .fgx-indicator-2",n).removeClass("hidden")
}else{g("ul.rv-models",n).addClass("list-three");
g(".recently-viewed-carousel .carousel-indicators li",n).removeClass("hidden")
}}for(var V=0;
V<X.length;
V++){console.log("setup - index : "+V);
if(V==3){break
}e(X[V],V)
}b.images.load(n);
g(".rv-title").removeAttr("aria-hidden");
n.show();
if(h){k.User.location.subscribe(function(){n.each(function(){var Y=this;
k.Pricing.refresh(this,true).done(function(Z){I(Y)
})
})
})
}}},error:function(){n.hide()
}})
});
function B(V,W){for(var U in V){if(U==="pricingIncentives"){W.IOFeatured=V[U];
W.IOModelOffers=V[U];
W.IOAdditionalOffer=V[U]
}else{W[U]=V[U]
}}}function I(U){g(".make-info.price",U).each(function(){var af=g(this),ad=af.find(".pricing"),Y=af.find(".icon-info"),Z=ad.data("pricing");
if(Z&&!Y.hasClass("hidden")){var aa=k.Pricing.formatPriceTipData(Z);
var ae={pricingData:aa};
var ab=g(d.priceDetailFlyout(ae)).data("pricingData",aa);
var X=af.closest(".recently-viewed");
var ac=af.closest("li");
var W="fgx-recentlyViewed-priceDetail-";
if(ac.hasClass("model_0")){W+="0"
}else{if(ac.hasClass("model_1")){W+="1"
}else{if(ac.hasClass("model_2")){W+="2"
}}}var V=af.find(".price-tip");
Y.attr("href","#price-tip="+W);
V.data("price-tip-content",ab.html())
}})
}function T(U){g(".recently-viewed-carousel",n).each(function(){g(this).carousel({interval:false})
});
if(U.matches){if(g(".recently-viewed-carousel",n).hasClass("slide")){g(".recently-viewed-carousel",n).removeClass("slide");
D(g(".recently-viewed-carousel",n).closest(".recently-viewed"))
}}else{if(!g(".recently-viewed-carousel",n).hasClass("slide")){g(".recently-viewed-carousel",n).addClass("slide")
}}}function D(U){var V=U.find(".pagination-info");
V.attr("aria-hidden","true");
V.removeAttr("aria-live");
V.removeAttr("aria-atomic");
V.text("")
}function C(U,Y,X){var W=U.find(".pagination-info");
var V=W.data("label-template");
W.attr("aria-hidden","false");
W.attr("aria-live","polite");
W.attr("aria-atomic","true");
if(V){W.text(V.replace("{current}",Y).replace("{total}",X))
}}function Q(ab,V,Z){if(!H.matches){var U=g(ab).find(".rv-models");
if(!U.hasClass("list-one")){g(ab).carousel(V);
var X=(V==="next")?"right":"left";
FD.Brand.Metrics.handler.direct(g(ab).attr("data-fd-metrics-scroll"),{$$carouselScrollDirection:X});
var W=g(ab).closest(".recently-viewed");
var aa=parseInt(g(".carousel-indicators li.active",W).attr("data-slide-to"));
var Y=g(".carousel-indicators li:visible",W).length;
C(W,(aa+1),Y)
}}}g(".recently-viewed-carousel .carousel-indicators li",n).click(function(){var W=g(this).data("slideTo");
if(!g(this).hasClass("active")){FD.Brand.Metrics.handler.direct(g(this).attr("data-fd-metrics-scroll"))
}var U=g(this).closest(".recently-viewed");
var V=g(this).parent();
var X=V.find("li").length;
g(this).closest(".recently-viewed-carousel").carousel(W);
C(U,(W+1),X)
})
}function j(A){var z=new Promise(function z(E,D){var C=new Image();
C.addEventListener("load",function B(){E(this)
});
C.addEventListener("error",function F(){D()
});
C.src=A
});
return z
}function e(an,X){var ai=g(".rv-bb-title",n);
if(X>0&&ai.length){return
}var A={year:an._year,model:an._nameplate};
var E={year:an._year,model:an._nameplate};
var F=an.returnURL;
var R=(an._nameplate==="StrippedChassis"||an._nameplate==="F-650-750")?"1":"4";
var z=FD.Brand.Context.settings.digUrl+"/"+encodeURIComponent(decodeURIComponent(an._brand))+"/"+encodeURIComponent(decodeURIComponent(an._nameplate))+"/"+encodeURIComponent(decodeURIComponent(an._year))+"/HD-TILE/Hero/EXT/"+R+"/vehicle.png";
var W='<span class="rv-model-name">'+an._year+" "+an._nameplate+" ";
var G=(an.suffix==="ViewPageBlackLabel"||an.suffix==="ViewModelDetailBlackLabel");
if(an._UID){if(an._UID.indexOf("Config[")>-1){var ak="/"+encodeURIComponent(decodeURIComponent(an._UID))+"/";
z=z.replace("/Hero/",ak);
A.configToken=an._UID
}else{var ak="/Vin["+encodeURIComponent(decodeURIComponent(an._UID))+"]/";
z=z.replace("/Hero/",ak);
A.vin=an._UID;
if(an._PAcode){A.dealerPACode=an._PAcode
}}if(an._trim){W+=an._trim;
E.trimId=an._trim
}}else{if(an._trim){W+=an._trim;
var aj=(G)?"Black Label":an._trim;
var ak="/Hero["+encodeURIComponent(decodeURIComponent(aj))+"]/";
z=z.replace("/Hero/",ak);
A.trimId=an._trim;
E.trimId=an._trim
}else{if(G){var ak="/Hero["+encodeURIComponent("Black Label")+"]/";
z=z.replace("/Hero/",ak)
}}}W+="</span>";
var M=".model_"+X;
var Z=g(M,n);
Z.attr("data-link-context",JSON.stringify(E));
if(h){Z.attr("data-pricing-context",JSON.stringify(A));
if(typeof A.vin!=="undefined"){var K=Z.find(".vin-container");
var U=K.find(".vin");
U.text(A.vin);
K.find(".prefix").removeClass("hidden");
g(".vin-container",n).removeClass("hidden")
}var ac=r[an.suffix];
var ao=v[an.suffix];
var N=q[an.suffix];
if(typeof ac!=="undefined"){var ah=Z.find(".make-info.price > .pricing");
ah.attr("data-pricing-template",ac);
if(typeof ao!=="undefined"){Z.find(".make-info.price > .disclosure").html(ao)
}if(typeof N!=="undefined"&&(N==true||N==="true")){Z.find(".make-info.price > a.icon-info").removeClass("hidden")
}}else{Z.find(".make-info.price").hide()
}}var H=Z.find("img");
H.attr("alt",an._year+" "+an._brand+" "+an._nameplate);
j(z).then(function I(ap){},function ae(){H.addClass("hidden");
Z.find(".image-loader-svg").addClass("hidden");
Z.find(".model-img").addClass("fgx-model-min-height");
Z.find(".image-error-wrap").removeClass("hidden")
});
H.attr("data-srcset",z);
H.removeAttr("aria-hidden");
var L=Z.find(".model-img");
var S=Z.find(".rv-model-title");
S.removeAttr("aria-hidden");
var V=S.find("a");
var ad=a[an.suffix];
if(ad===""||ad==undefined){ad=a.ViewPage
}var P="";
var C=ai.find("a");
if(ad!==""&&ad!=undefined){P=ad.replace("{rvname}",W);
V.html(P)
}else{P=W;
V.html(W)
}if(ai.length&&M===".model_0"){C.html(P);
ai.removeAttr("aria-hidden")
}if(F!==""&&typeof F!="undefined"&&F!=null){var am=F.indexOf("#");
var ag="";
if(am>=0){var ag=F.substring(am);
F=F.substring(0,am)
}var D=o[an.suffix];
if(D!==""&&typeof D!="undefined"&&D!=null){if(D.indexOf("{nameplate}")>=0){D=D.replace("{nameplate}",an._nameplate.toLowerCase())
}if(F.indexOf(encodeURI(D))<0){(F.indexOf("?")>=0)?F+="&":F+="?";
F+=encodeURI(D)
}}var T=Z.closest("[data-target-campaign-url-value]").attr("data-target-campaign-url-value");
if(T&&(F.indexOf(T)<0)){(F.indexOf("?")>=0)?F+="&":F+="?";
F+=T
}F+=ag;
L.attr("href",F);
V.attr("href",F);
var Y=x[an.suffix];
var aa=t[an.suffix];
if(typeof Y!=="undefined"){V.attr("data-fd-metrics-click",Y)
}if(typeof aa!=="undefined"){L.attr("data-fd-metrics-click",aa)
}L.removeAttr("aria-hidden");
V.removeAttr("aria-hidden");
if(C.length&&M===".model_0"){C.attr("href",F)
}var O=Z.find(".cta-one-container");
var ab=c[an.suffix];
var al=p[an.suffix];
if(typeof ab!=="undefined"){O.find("a").attr("href",F).attr("aria-hidden",false);
O.find(".cta-text").text(ab);
if(typeof al!=="undefined"){O.find("a").attr("data-fd-metrics-click",al)
}}else{O.hide()
}}var B=Z.find(".cta-two-container");
var Q=u[an.suffix];
var af=l[an.suffix];
var J=m[an.suffix];
if(typeof Q!=="undefined"&&typeof af!=="undefined"){B.find("a").attr("href",af).attr("aria-hidden",false);
B.find(".cta-text").text(Q);
if(typeof J!=="undefined"){B.find("a").attr("data-fd-metrics-click",J)
}}else{B.hide()
}Z.addClass("item").removeClass("hidden")
}})(jQuery,FD.Brand.lodash,window,FD.Brand,FD.Brand.User,FD.Brand.Util);
(function(a,c){c.setInitHandler("[data-fgx-multi-year-vehicle-tile]",b);
function b(e){var g=window.FD.Brand;
g.Dig.resolve(e);
e.each(function(){g.Pricing.refresh(this)
});
function d(h){var j=h.find(".pagination-info");
j.attr("aria-hidden","true");
j.removeAttr("aria-live");
j.removeAttr("aria-atomic");
j.text("")
}function f(h,m,l){var k=h.find(".pagination-info");
var j=k.data("label-template");
k.attr("aria-hidden","false");
k.attr("aria-live","polite");
k.attr("aria-atomic","true");
if(j){k.text(j.replace("{current}",m).replace("{total}",l))
}}a(".tabnav a.year-item",e).click(function(l){l.preventDefault();
l.stopPropagation();
var h=parseInt(a(this).data("slideTo"),10);
var j=a(this).closest(".myvt-inner-container");
var k=a(this).parent().find("a.year-item").length;
j.find("li.vehicle").each(function(){a(this).removeClass("active");
var m=parseInt(a(this).data("idx"),10);
if(m===h){a(this).addClass("active")
}});
if(!a(this).hasClass("active")){FD.Brand.Metrics.handler.direct(a(this).attr("data-fd-metrics-click"))
}a(this).siblings().removeClass("active");
a(this).addClass("active");
f(j,(h+1),k)
});
a(".tabnav",e).mouseover(function(j){var h=a(this).closest(".multiYearVehicleTile");
a(".tabnav",h).addClass("hover");
a(".primary",h).addClass("hover")
});
a(".primary",e).mouseover(function(j){var h=a(this).closest(".multiYearVehicleTile");
a(".tabnav",h).addClass("hover");
a(".primary",h).addClass("hover")
});
a(".tabnav",e).mouseout(function(j){var h=a(this).closest(".multiYearVehicleTile");
a(".tabnav",h).removeClass("hover");
a(".primary",h).removeClass("hover")
});
a(".primary",e).mouseout(function(j){var h=a(this).closest(".multiYearVehicleTile");
a(".tabnav",h).removeClass("hover");
a(".primary",h).removeClass("hover")
});
a(".secondary",e).click(function(h){if(h.target.className==="secondary"||h.target.className==="myvt-cta"){a(this).find("a:visible").trigger("click")
}})
}})(jQuery,FD.Brand);
(function(t,N,z){var H,D,x,b,e,c,m,M,r,s,g,p=null,d,F,B,v,C,A;
z.setInitHandler("[data-fgx-models-display]",E);
function E(P){H=t(".cq-frame").length>0?t(".cq-frame").contents().find(".model-display"):t(".model-display");
D=H.children(".md-compare-models");
b=H.children(".md-content-wrapper");
x=b.children(".md-models-container");
e=x.children(".md-models");
c=e.children(".md-model-model");
m=b.children(".carousel-arrows");
M=b.children(".carousel-arrows.carousel-left");
r=b.children(".carousel-arrows.carousel-right");
s=H.children(".meatballs");
g=t(window);
d=N.debounce(k,50);
F=N.debounce(a,200);
B=new Array();
v=window.FD.Brand.Util.currentBreakpoint();
A=t(P).data("meatballPrefix");
if(!A){A=""
}C=window.FD.Brand.Util.env.touch();
if((H.length>0)&&(e.length>0)){FD.Brand.Util.carousel.swipe(H[0],function(R,Q){if(v==="gux-bkpt-sm"||C){((Q==="next")?f:y).call(R)
}})
}if(t("html").hasClass("fgx-brand-Ford")){var O=t("a.btn-secondary",P);
window.FD.Brand.Util.ctaHover(O)
}g.resize(d);
L();
P.each(function(){var Q=this;
z.User.location.subscribe(function(){FD.Brand.Pricing.refresh(Q,true).done(function(R){t(Q).find(".md-model-price").each(function(){var S=t(this),V=S.find(".monthly-price-val"),U=V.data("pricing"),T=!!(U&&U.offerType&&(U.offerType==="lease"||U.offerType==="finance"));
S.find(".match-price-display").toggleClass("hidden",!T)
})
})
})
})
}function L(){window.FD.Brand.Dig.resolve(t(".model-display .md-models-container .md-models .md-model-model .model-img"));
c.each(function(){var O=t(this);
B.unshift(O.width()+o(O,"marginLeft")+o(O,"marginRight"));
O.on("click",l)
});
D.on("click",l);
m.children(".carousel-next").on("click",{metrics:"click arrow next"},f);
m.children(".carousel-previous").on("click",{metrics:"click arrow previous"},y);
H.on("focusin",function(){r.css("right","0px");
M.css("left","0px")
}).on("focusout",function(){r.css("right","");
M.css("left","")
});
H.addClass("loaded");
g.resize()
}function o(P,O){return Number(P.css(O).replace("px",""))
}function u(O){e.css("left",O+"px")
}function w(P,O){P.append(O);
return P.children().last()
}function l(){}function G(){var O=s.find("a.active");
var Q=e.width()/c.length;
var W=Math.round(x.width()/Q);
var U=(O&&O.length>0)?(O.data("idx")*W):0;
var V=U+1;
var P=0;
t("[tabindex]",c).each(function(){t(this).attr("tabindex","-1")
});
while(P<W){if(U<c.length){var T=c[U];
t("[tabindex]",T).each(function(){t(this).attr("tabindex","0")
});
P++;
U++
}else{break
}}var R=s.find("a");
var S=(R&&R.length>0)?R.length:1;
q(H,V,S,W)
}function q(P,T,S,O){var R=P.find(".pagination-info");
var Q=R.data("label-template");
R.attr("aria-hidden","false");
R.attr("aria-live","polite");
R.attr("aria-atomic","true");
if(Q){R.text(Q.replace("{current}",T).replace("{total}",S).replace("{itemsPerPage}",O))
}}function I(O){s.find("a.active").removeClass("active");
u(-1*O.attr("data-position"));
O.children("a").addClass("active");
G()
}function f(){var O=s.find("a.active").parent().next();
if(O.length){I(O)
}else{I(s.children().first())
}n.call(this)
}function y(){var O=s.find("a.active").parent().prev();
if(O.length){I(O)
}else{I(s.children().last())
}n.call(this)
}function J(){I(t(this));
n.call(this)
}function K(Q,S){var R=N.keys(S),P,O=Q.children("li");
while((P=R.shift())){t(O[P]).attr("data-position",S[P].total)
}}function j(P,R){var Q=N.keys(R),O,S,T;
while((O=Q.shift())){S=w(P,h(O,R[O].total));
if(R[O].total<=Number(e.css("left").replace("px","")*-1)){T=S.children("a")
}S.on("click",{metrics:"click meatball"+O},J)
}if(T){T.addClass("active")
}}function h(P,Q){var O=A+" "+P;
return String.prototype.concat.call('<li class="meatball" data-position="',Q,'"><a href="javascript:void(0);" data-idx="',P,'" tabindex="0" role="button" data-fgx-keypress="true" aria-label="',O,'">',P,"</a></li>\n")
}function a(R,T){var U=0,Q=N.filter(T,function(V){if(V.combined>=U){U=V.combined+x.width();
return true
}return false
}),P=R.children("li").length,S=Q.length;
function O(){return R.children("li").last().attr("data-position")!==Q[S-1].total
}if(S>1){if(P!==S){R.empty();
j(R,Q)
}else{if(O()){K(R,Q);
u(-1*Number(R.find("a.active").parent().attr("data-position")))
}}m.addClass("scrollable");
s.addClass("scrollable")
}else{m.removeClass("scrollable");
s.removeClass("scrollable");
u(0)
}G()
}function k(){v=window.FD.Brand.Util.currentBreakpoint();
var S=0,P=0,U=N.chain(B).map(function(W){P+=Number(W);
var V={width:Number(W),total:S,combined:S+Number(W)};
S+=W;
return V
}).value();
if(v!=="gux-bkpt-sm"&&U[0]&&U[0].width){P=P-U[0].width
}e.css("width",P*1.1+"px");
var O=U.length,T=0;
if(v!=="gux-bkpt-sm"){U.pop();
O=U.length;
for(var R=0;
R<O;
R++){var Q=U[R].combined;
if(H.width()>=Q){T=Q
}}x.width(T)
}else{x.width(290)
}F(s,U)
}function n(){FD.Brand.Metrics.handler.direct(t(this).closest("[data-fgx-models-display]").attr("data-fd-metrics-scroll"))
}})(jQuery,FD.Brand.lodash,FD.Brand);
(function(a,c){c.setInitHandler("[data-fgx-compare-vehicles]",b);
function b(h){var d=window.matchMedia("(min-width: 768px)");
a(".toggle-collapse a",h).click(function(){var j=a(this);
var k=j.closest(".compare-vehicles");
k.toggleClass("expanded");
if(k.hasClass("expanded")){c.Metrics.handler.direct(j.attr("data-fd-metrics-expand"))
}});
a(".carousel",h).each(function(){a(this).carousel({interval:false})
});
a(".carousel",h).each(function(){FD.Brand.Util.carousel.swipe(this,g)
});
function f(){a(".carousel .carousel-indicators li",h).each(function(){var j=a(this);
j.attr("aria-pressed",j.hasClass("active"))
})
}function g(l,j,k){if(!d.matches){a(l).carousel(j);
setTimeout(f,250);
e.call(l)
}}a(".carousel .carousel-indicators li",h).click(function(){var j=a(this).data("slideTo");
a(this).parent().parent(".carousel").carousel(j);
f();
e.call(this)
});
window.FD.Brand.Dig.resolve(a(".vehicles.list-inline"));
h.each(function(){FD.Brand.Pricing.refresh(this)
});
function e(){c.Metrics.handler.direct(a(this).closest("[data-fgx-compare-vehicles]").attr("data-fd-metrics-scroll"))
}}})(jQuery,FD.Brand);
(function(c,e,h,a,k,g,d,b){a.setInitHandler("[data-fgx-brochures-and-guides]",j);
function j(t){if(t.length==0){return
}var p=false;
var s=true;
var o=null;
var r=null;
var n=c(t).attr("data-fd-brochure-success-email");
var w=c(t).attr("data-fd-brochure-success-mail");
var q=c(t).attr("data-fd-brochure-success-both");
window.FD.Brand.Dig.resolve(t);
if(e.FD.Pantry&&e.FD.Pantry.Golf){FD.Pantry.Golf.initialized().done(function(){r=FD.Pantry.Golf.getForm("getUpdatesBrochures")
})
}c(".custom-dropdown .selection-dropdown li").each(function(){if(k.nameplate&&(k.nameplate.ngpModelName==c(this).find(".np-name")[0].innerHTML)&&(k.nameplate.ngpYear==c(this).find(".np-year")[0].innerHTML)){var x=this
}if(x){setTimeout(function(){x.click()
},250)
}});
if(e.addEventListener){e.addEventListener("hashchange",m)
}else{e.onhashchange=m
}m();
var u=function(y,A){switch(y){case"SubmissionSucceeded":var E=A&&A.request;
if(E){var D=E.email,z=E.mail,x=d.str.firstInstance(E.mtxName,";"),C=d.str.firstInstance(E.year,";"),B;
if(typeof(D)=="undefined"||!D){D=0
}if(typeof(z)=="undefined"||!z){z=0
}if(k.region==="CA"||(D==1&&z==0)){B=n
}else{if(D==1&&z==1){B=q
}else{B=w
}}if(B&&typeof(B)!="undefined"){FD.Brand.Metrics.handler.direct(B,{$$getUpdatesNameplate:x,$$getUpdatesYear:C})
}}break
}};
c(".tab-label",t).click(function(){l.call(this)
});
c(".brochure-model-select .fgx-custom-select",t).click(function(){var x=c(this).closest(".brochure-content");
var y=c(this).find(".custom-dropdown");
var A=c(this).find(".fgx-custom-select-dropdown");
var z=y.find("ul");
if(x.hasClass("has-error")){x.removeClass("has-error")
}y.toggleClass("open");
A.toggleClass("shown");
c(this).attr("aria-expanded",y.hasClass("open"));
z.attr("aria-hidden",!y.hasClass("open"))
});
c(".brochure-model-select .selection-options",t).on("click","li",function(F){F.stopPropagation();
var G=c(this),B=G.closest(".custom-dropdown"),E=G.closest(".fgx-custom-select-dropdown"),z=G.closest(".fgx-custom-select"),A=B.find("ul"),x=B.find(".selected-option"),H=G.closest(".brochure-content"),y=G.data("modelName"),D=G.data("modelYear"),C=G.data("modelDisplayName");
if(H.hasClass("has-error")){H.removeClass("has-error")
}x.html(G.html());
x.data({modelName:y,modelYear:D,modelDisplayName:C});
B.removeClass("open");
E.removeClass("shown");
z.attr("aria-expanded",B.hasClass("open"));
z.attr("aria-activedescendant",G.attr("id"));
A.attr("aria-hidden",!B.hasClass("open"));
c("li",A).attr("aria-selected","false");
G.attr("aria-selected","true");
if(!s){z.focus()
}else{s=false
}});
c(".brochure-method",t).click(function(F){F.preventDefault();
var J=c(this);
d.swapColors.call(J);
J.toggleClass("selected");
var H=c("#getUpdatesBrochures",t);
var A=c(".other-methods",t);
var C=c(".brochures-form-wrapper",t);
var y=c(".brochure-method.mail",t).hasClass("selected");
var G=c(".brochure-method.email",t).hasClass("selected");
var B=J.closest(".brochure-content");
var x=B.find(".custom-dropdown").find(".selected-option");
var E=x.data("modelYear");
var D=x.data("modelDisplayName");
if(r!=null&&r!=undefined){var z={model:(D)?D:(k.nameplate&&k.nameplate.ngpModelName),year:(E)?E:(k.nameplate&&k.nameplate.ngpYear),postalCode:b.location.current().postalCode,options:{showEmailOnlyGU:true,emailChecked:G,mailChecked:y}};
var I=FD.Brand.Form.formEventCallback(r,r.formType,u);
r.setConfig(z,I);
A.hide();
if(y||G){C.removeClass("hidden")
}else{C.addClass("hidden")
}}});
c(".download-btn",t).click(function(E){E.preventDefault();
var F=c(this),G=F.closest(".brochure-content"),z=G.find(".custom-dropdown .selected-option"),D=G.find(".zip-input"),A={make:k.make,model:z.data("modelName"),year:z.data("modelYear")},C=d.url.queryString(),x="";
G.removeClass("has-error");
if(typeof(A.make)==="undefined"||typeof(A.model)==="undefined"||typeof(A.year)==="undefined"){G.addClass("has-error");
return
}if(D.length&&D.val()!=="undefined"){var B=(k.region&&k.region==="CA")?"^[ABCEGHJKLMNPRSTVXY]{1}\\d{1}[A-Z]{1} *\\d{1}[A-Z]{1}\\d{1}$":"^\\d{5}$",y=D.val();
if(f(y,B)){A=h.extend(A,{postalCode:y})
}}C.add(A);
x=[g.baseUrl("ngbs"),"/services/assets/Brochure",C.asString()].join("");
if(x){e.open(x)
}});
function m(){var y=e.location.hash;
var x=null;
if(y){var z=y.substr(1);
if(o===z){return
}var A='[data-view="'+z+'"]';
x=c(A,t)
}if(x){l.call(x);
p=true
}}function l(){var x=c(this).attr("data-view");
if(x){if(!c(this).hasClass("selected")){c(".tab-label",t).removeClass("selected");
c(".tab-label",t).attr("aria-pressed","false");
c(this).addClass("selected");
c(this).attr("aria-pressed","true");
c(".content-section",t).removeClass("active");
c(".content-section."+x,t).addClass("active")
}v(x)
}}function v(x){if(x&&((o&&(x!==o))||!o)){e.location.hash=x;
o=x
}}}function f(n,m){if(m){var l=new RegExp(m,"i");
return l.test(n)
}else{return false
}}})(jQuery,window,FD.Brand.lodash,FD.Brand,FD.Brand.Context,FD.Brand.Link,FD.Brand.Util,FD.Brand.User);
(function(b,d,a){d.setInitHandler("[data-fgx-table-container]",c);
function c(g){if(g.length==0){return
}var e=window.matchMedia("(min-width: 768px)");
e.addListener(h);
h(e);
b(".accordion-heading",g).on("click",function(){var j=a.currentBreakpoint();
if(j==="gux-bkpt-sm"){a.accordion.update(b(this),g,".accordion-heading",".accordion-content",false,f)
}});
function f(){var j=b(this);
if(j.hasClass("open")){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-open"),j)
}}function h(j){if(j.matches){b(".accordion-heading",g).attr("tabindex","-1").attr("role","");
b(".accordion-content",g).removeClass("hidden")
}else{b(".accordion-heading",g).attr("tabindex","0").attr("role","button").attr("data-fgx-keypress","true");
b(".accordion-content",g).each(function(){var k=b(this);
k.toggleClass("hidden",!(k.hasClass("open")))
});
b(".accordion-heading",g).each(function(){var k=b(this);
k.attr("aria-pressed",k.hasClass("open")?"true":"false")
})
}}}})(jQuery,FD.Brand,FD.Brand.Util);
(function(a,c){c.setInitHandler("[data-fgx-four-column-grid]",b);
function b(d){if(d.length==0){return
}a(".col-text .inner table",d).each(function(){a(this).attr("role","presentation")
})
}})(jQuery,FD.Brand);
(function(d,e,w,g,o,s,a){var b;
var k;
var l;
var c=false;
var v=".fgx-share-item, .current-url, .share-close";
var n=e("body");
var t="";
var r={"fgx-share-facebook":{baseUrl:"http://www.facebook.com/sharer/sharer.php?u="},"fgx-share-twitter":{baseUrl:"https://twitter.com/intent/tweet?url="},"fgx-share-pinterest":{baseUrl:"https://www.pinterest.com/pin/create/button/?url="}};
g.setInitHandler("[data-fgx-share-overlay]",p);
function p(x){if(x.length==0){return
}k=x;
l=e(".share-items",k);
b={$el:k,hide:function(){e(".share-close",k).trigger("click")
},lastFocus:undefined,shareItemConfig:{}};
t=o&&o.fbAppId;
var y=o&&o.shareConfig,z=y&&y.shareItems;
w.each(z,function(A){m(A)
});
n.on("click","[data-share-overlay-trigger]",h);
n.on("click",".fgx-share-item",function(){var D=e(this),C=D.attr("data-fd-share-start");
if(typeof(C)!="undefined"&&C!=""){FD.Brand.Metrics.handler.direct(C)
}if(D.hasClass("fgx-share-facebook-messenger")){d.open("fb-messenger://share?link="+encodeURIComponent(b.shareItemConfig.itemUrl)+"&app_id="+encodeURIComponent(t))
}if(D.hasClass("fgx-share-sms")){var B=navigator.userAgent.toLowerCase();
var A;
if(B.indexOf("iphone")>-1||B.indexOf("ipad")>-1){A="sms:&body="+encodeURIComponent(b.shareItemConfig.itemUrl)
}else{A="sms:?body="+encodeURIComponent(b.shareItemConfig.itemUrl)
}location.href=A
}});
k.on("click",".share-close",u)
}function m(B){if(!B||B.length==0){return
}var y="fgx-share-item";
var x="javascript:void(0)";
var A="";
if(B.shareType==="fgx-share-pinterest"){A='data-pin-do="buttonPin" data-pin-custom="true"'
}var z="<a href='"+x+"' class='"+y+" "+B.shareType+" "+B.displayClass+"' data-fd-share-start='"+B.shareStartClickAction_ma+"' data-fd-share-complete='"+B.shareCompleteAction_ma+"' target='_blank' data-share-type='"+B.shareType+"'"+A+"><span class='fgx-brand-sr-text'>"+B.iconAriaLabel+"</span></a>";
l.append(z)
}function h(y){y.preventDefault();
var x=e(this);
q(x)
}function q(G){var x=a.currentBreakpoint();
var B=100;
c=false;
var I=j(G);
b.shareItemConfig=I;
b.lastFocus=G;
var H=G.offset();
var D=H.top+G.outerHeight();
var A=e(window).height()+e(window).scrollTop();
k.addClass("fgx-brand-size-calc");
var C=k.find(".share-container");
var F=((D+C.outerHeight())>A);
var z=H.left+G.outerWidth()-C.outerWidth();
C.find(".current-url").val(I.itemUrl);
var y=encodeURIComponent(I.itemUrl);
e(".fgx-share-item",C).each(function(){var L=e(this),J=L.attr("data-share-type"),K=r[J]||null;
if(K&&K.baseUrl){L.attr("href",K.baseUrl+y)
}});
if(x==="gux-bkpt-sm"){if(F){var E=(D+C.outerHeight())-A;
D=H.top-E
}if(D<0){D=25;
C.css({position:"fixed"});
c=true
}else{if(D<e(window).scrollTop()){D=e(window).scrollTop()
}}if(z<0){z=20
}}else{if(F){D=H.top-C.outerHeight()+B
}if(z<0){z=H.left
}if(D<0){D=25
}else{if(D<e(window).scrollTop()){D=e(window).scrollTop()
}}}C.css({top:D,left:z});
k.removeClass("fgx-brand-size-calc");
k.fadeIn(250,function(){s.trapFocus(b,v,".fgx-share-item",b.lastFocus)
});
n.on("click",f)
}function f(x){var y=e(x.target);
if(y.hasClass("fgx-share-item")){u(x)
}else{if(!y.hasClass("current-url")&&!y.closest(".share-container").length){u(x)
}}}function u(x,y){n.off("click",f);
if(k.is(":visible")){k.fadeOut(100,function(){FD.Brand.Overlay.releaseFocus(b);
if(typeof y!="undefined"){y()
}});
if(c){k.find(".share-container").css({position:""});
c=false
}n.removeClass("no-scroll-sm")
}else{if(y){y()
}}}function j(y){if(y.length===0){return{}
}var z=null;
var x=y.attr("data-share-overlay-data");
if(x){try{z=JSON.parse(x)
}catch(A){}}return e.extend(true,j(y.parent("[data-share-overlay-data]")),z||{})
}})(window,$,FD.Brand.lodash,FD.Brand,FD.Brand.Context,FD.Brand.Overlay,FD.Brand.Util);
(function(e,f,n){var k=false,a=e(".scroll-indicator"),g=e(".scroll-indicator-admin").length,b,d=e(f);
e(m);
function m(){l();
var o=function(){if(d.scrollTop()>199){k=true;
l();
d.off("scroll",o)
}};
var r=n&&n.mtxActions;
var q=r&&r.scrollIndicatorClickAction||null;
d.on("scroll",o);
d.resize(function(){if(!k){l()
}});
a.click(function(){var s=d.height();
e("html, body").animate({scrollTop:(s-60)});
k=true;
l();
if(q){FD.Brand.Metrics.handler.direct(q)
}});
var p=0;
b=setInterval(function(){var t=e(".billboard-container .carousel-indicators");
p++;
if(t.length&&p<5){if(t.hasClass("shown")){if(h()){var s=t.offset().top;
c(s)
}clearInterval(b)
}}else{clearInterval(b)
}},1000)
}function l(){if(g){e(".scroll-indicator-admin .scroll-indicator").show();
return false
}if(j()){a.fadeIn("slow")
}else{a.fadeOut("slow")
}}function j(){var p=d.height(),o=d.width();
if(k){return false
}if(d.scrollTop()>(p/2)){return false
}if(p>900||o<992){return false
}if(h()){return false
}if(g){return false
}return true
}function h(v){var t=false,s,p,r,o;
var q=y1=b1=r1=x2=y2=b2=r2=0;
if(!a.is(":visible")){a.addClass("invisible");
a.show()
}if(a.length){s=a.outerHeight(true);
p=a.outerWidth(true);
q=a.offset().left;
y1=a.offset().top;
b1=y1+s;
r1=q+p
}var u=e(".billboard-container .carousel-indicators.shown");
if(u.length){x2=u.offset().left;
y2=u.offset().top;
r=u.outerHeight(true);
o=u.outerWidth(true);
b2=y2+r;
r2=x2+o;
t=(b1<y2||y1>b2||r1<x2||q>r2)?false:true
}if(a.hasClass("invisible")){a.removeClass("invisible");
a.hide()
}if(v){t=u.offset().top
}return t
}function c(o){if(!o){return
}a.animate({top:o-a.outerHeight(true)-d.scrollTop()-10})
}})(jQuery,window,FD.Brand.Context);
(function(d,e,g,q,u,w,l){var c;
var k;
var p;
var t;
var m;
var o;
var a;
var s;
g.setInitHandler("[data-fgx-postal-code-overlay]",r);
function r(y){var x=q&&q.mtxActions;
a=x&&x.zipCodeChangeAction||null;
s=x&&x.zipCodeOverlayOpenAction||null;
c=u.register("postalCodeOverlay",y,{show:function(){var z=w.location.current().postalCode;
if(z){f(z)
}h(g.Util.env.geoLocation(),y);
if(s){FD.Brand.Metrics.handler.direct(s)
}}});
k=e("#txt_zipCode",y);
p=e(".zipcode-msg",y);
t=e(".alert-icon",y);
m=e(".postal-code-cta",y);
t.hide();
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig&&FD.Brand.Component.locateDealerConfig.validationZipCode){o=new RegExp(FD.Brand.Component.locateDealerConfig.validationZipCode)
}e(".icon-search",y).add(m).click(b);
k.click(function(){k.val("").addClass("postal-code-textfield-context")
}).focus(function(){k.select()
}).keypress(function(z){if(z.which===13){b();
return false
}});
e(".icon-close",y).click(function(){c.hide()
});
if(e("#txt_zipCode")[0].value.length){e(".center-rightside-content .postal-code-cta").addClass("text-entered")
}e("#txt_zipCode").bind("input propertychange click",function(){if(this.value.length){e(".center-rightside-content .postal-code-cta").addClass("text-entered")
}else{e(".center-rightside-content .postal-code-cta").removeClass("text-entered")
}})
}function h(y,x){e(".ico-geolocation",x).toggle(y).click(j)
}function j(){if(d.navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(function(x){l.dealers({make:q.make,latitude:x.coords.latitude,longitude:x.coords.longitude}).done(function(y){if(y.length>0){f(y[0].Address.PostalCode)
}})
},function(){g.Util.log("Postal Code Overlay - error retrieving the current position")
})
}}function f(x){k.css({color:"#000"}).val(x)
}function n(x){return !o||o.test(x)
}function v(x){return e.Deferred(function(y){if(!n(x)){y.reject("invalid")
}else{l.location(x).then(function(){w.location.setPostalCode(x);
y.resolve(x)
},function(z){y.reject(z.status===400?"invalid":"error")
})
}}).promise()
}function b(){t.hide();
p.text("");
p.removeClass("postalcode-error");
v(k.val()).then(function(){c.hide()
},function(x){p.text(p.attr("data-msg-"+x));
p.addClass("postalcode-error");
t.show()
});
if(a){FD.Brand.Metrics.handler.direct(a)
}}})(window,$,FD.Brand,FD.Brand.Context,FD.Brand.Overlay,FD.Brand.User,FD.Brand.NgpServices);
(function(ac,O,at,ab,al,g,k,v){at.extend(FD.Brand.namespace("FD.Brand.MediaOverlay",ac),{link:x});
var ao={};
var A;
var ae;
var P;
var X;
var U;
var E;
var p;
var am;
var L;
var e;
var an={};
var w=null;
var F=[];
var t={"ratio15-16":1.06,"ratio1-1":1,"ratio4-3":0.75,"ratio16-9":0.5625,"ratio3-2":0.6666,"ratio7-3":0.4285,"ratio2-1":0.5};
var M={};
var W="";
function aa(av){var au=null;
if(av&&av.primaryImage){au=[{breakpoint:0,src:k.images.renditionUrl(av.primaryImage,"cq5dam.web.1280.1280.jpeg")}]
}return au
}ab.setInitHandler("[data-fgx-media-overlay]",ai);
function ai(au){if(v.settings.deepLink&&(v.settings.deepLink.indexOf("/image")==0||v.settings.deepLink.indexOf("/video")==0)){U=v.settings.deepLink.split("/")[2];
ac.location.hash=U
}A=al.register("mediaOverlay",au,{show:function(){var ay=A.$el.find(".carousel");
var ax=ay.find(".active");
var aw=ax.data("config");
if(!(ay.hasClass("fgx-brand-youtube-carousel")||ay.hasClass("fgx-brand-brightcove-carousel"))&&!aw.image){O(".carousel-details-toggle").hide()
}aj()
},hide:function(){ar(null);
a()
}});
var av=k.env.touch();
O(".icon-close",au).on("click",function(){A.hide();
var aw=A.$el.find(".carousel");
ak(aw)
});
am=at.template(O("script[data-fgx-media-overlay-brightcove-item]").html());
e=at.template(O("script[data-fgx-media-overlay-filmstrip-item]").html());
p=at.template(O("script[data-fgx-media-overlay-item]").html());
L=at.template(O("script[data-fgx-media-overlay-youtube-item]").html());
ae=O(".carousel-arrows.global-arrows",au);
P=O(".carousel-arrows.global-arrows.carousel-left",au);
X=O(".carousel-arrows.global-arrows.carousel-right",au);
O("div",ae).click(function(aw){aw.preventDefault();
z(O(this).is(".carousel-next")?"next":"prev")
});
O(au).on("mouseenter",".has-list .image-wrapper, .has-list .video-wrapper",function(){X.animate({right:"0px"},"fast");
P.animate({left:"0px"},"fast")
}).on("mouseenter",".carousel-caption-media-overlay, .bcc-carousel-content",function(){X.animate({right:"-70px"},"fast");
P.animate({left:"-70px"},"fast")
});
ae.on("focusin",function(){X.css("right","0px");
P.css("left","0px")
}).on("focusout",function(){X.css("right","");
P.css("left","")
});
O(au).on("click",".details-toggle",function(ax){ax.preventDefault();
O(".carousel-details-toggle").toggleClass("details-show");
O(".content",au).slideToggle(500);
aj();
if(O(this).hasClass("is-show")){O(".carousel-details-toggle .is-hide").focus();
var aw=(O(this).closest(".fgx-brand-youtube-carousel").length>0)?"videoViewDetails":"imageViewDetails";
u(aw)
}else{O(".carousel-details-toggle .is-show").focus()
}});
O(au).on("click",".img-expand",function(ay){var ax=A.$el.find(".carousel");
var aA=ax.find(".active");
var aw=aA.data("config");
var az={$el:O(".img-expanded"),hide:function(){O(".imgExpand-close").trigger("click")
}};
O(".img-expanded-container").empty().append(k.images.renderPicture(aw.image,"FullScreen",aa(aw.image)));
O(".img-expanded-footer-content").html(aw.headline);
az.$el.fadeIn(400,function(){al.trapFocus(az,".imgExpand-close",".imgExpand-close",ay.target)
});
O("body").addClass("no-scroll");
u("imageExpand")
});
au.each(function(){FD.Brand.Util.carousel.swipe(this,function(ax,aw){var ay=k.currentBreakpoint();
if(ay==="gux-bkpt-sm"||ay==="gux-bkpt-med"||av){z(aw)
}})
});
O(".imgExpand-close").click(function(){O(".img-expanded").fadeOut();
O("body").removeClass("no-scroll");
var aw={$el:O(".img-expanded"),lastFocus:O(".img-expand",au)};
al.releaseFocus(aw)
});
if(ac.addEventListener){ac.addEventListener("hashchange",af)
}else{ac.onhashchange=af
}O(au).on("slid.bs.carousel",".carousel",function(){m();
var ay=A.$el.find(".carousel");
if(ay&&(ay.hasClass("fgx-brand-youtube-carousel")||ay.hasClass("fgx-brand-brightcove-carousel"))){var az=ay.find(".active");
var aw=az.data("config");
var ax=(aw&&aw.player)?aw.player:null;
if(ax){ax.playVideo()
}}});
O(window).resize(function(){aj()
});
O("body").on("fgx-video-change",function(ay,ax){var aw=null;
at.each(an,function(aA,az){var aB=aA[5];
if(aB&&(aB===ax.id||aB.substring(4)===ax.reference_id)){aw=az;
return false
}});
ar(aw)
})
}function J(ax,au,ay){var av=ax.attr("data-overlay-item");
var aw=at.extend({},ao,ay&&JSON.parse(ay)||{},av&&JSON.parse(av)||{},au);
aw.headline=aw.headline||"&nbsp;";
return aw
}function x(au){O("[data-overlay-item]",O(au)).each(function(){var av=O(this);
if(!at.isArray(av.data("overlay-idx"))){c(av)
}});
af()
}function c(aD,ay){var az=[];
var aw=[];
var aB=[];
var av=aD.closest("[data-dynamic-disclosure-enable]").find(".dynamic-disclosures");
var ax=aD.closest("[data-overlay-group]");
var aC=ax.attr("data-overlay-group");
var au=v&&v.shareConfig;
var aA=v&&v.externalizedUrl||"";
((ax.length>0)?ax.find("[data-overlay-item]"):aD).each(function(aF,aI){var aH=O(aI);
var aK=J(aH,ay,aC);
aK.canShare=(au&&au.enabled)||false;
var aG="video";
aK.shareUrl="";
aK.dynamicDisc={display:false,content:""};
if(av.length){aK.dynamicDisc.display=true;
aK.dynamicDisc.content=av.html()
}if(aK.ytVideoId){aH.data("overlay-idx",["y",aB.length]);
aK.videoId=aK.ytVideoId;
if(aK.anchorId){aK.shareUrl=aA+aG+"/"+aK.anchorId
}aB.push(aK)
}else{if(aK.videoId){var aJ=aw.length;
aH.data("overlay-idx",["v",aJ]);
if(aK.anchorId){aK.shareUrl=aA+aG+"/"+aK.anchorId
}aw.push({videoId:aK.videoId,videoTitle:aK.headline,titleStyle:aK.headlineStyle,videoDescription:aK.description,videoThumbnail:aK.videoThumbnail,disclaimerText:aK.disclosures,anchorId:aK.anchorId,actions:aK.actions,ctas:aK.ctas,expandDetails:aK.expandDetails||false,index:aJ,dynamicDisc:aK.dynamicDisc,canShare:aK.canShare,shareUrl:aK.shareUrl,canSave:false,canDownload:false,encodedTitle:k.htmlString.encode(aK.headline)})
}else{aH.data("overlay-idx",["i",az.length]);
aG="image";
if(aK.anchorId){aK.shareUrl=aA+aG+"/"+aK.anchorId
}az.push(aK)
}}var aE=aH.find("[data-overlay-item-trigger]");
if(aE.length>0){var aL=aE.attr("data-overlay-item-trigger");
if(aL){aE=O(aL,aH)
}}else{aE=aH
}if(aK.anchorId){an[aK.anchorId]=[O(this),az,aw,aB,aK.anchorId,aK.videoId]
}aE.off("click.fgxMediaOverlay").on("click.fgxMediaOverlay",function(aM){aM.preventDefault();
o(O(this),az,aw,aB,aK.anchorId)
})
})
}function o(aF,az,av,aA){var aD=aF.data("overlay-idx");
switch(aD[0]){case"v":ar(av[aD[1]].anchorId);
var aB=A.$el;
var aw=aB.find(".carousel");
var aC=aw.find(".carousel-inner");
var ax=aw.find(".video-carousel-inner");
aC.empty();
ax.removeClass("hidden");
aw.addClass("fgx-brand-brightcove-carousel");
aB.addClass("fgx-brand-brightcove-modal");
var au={template:am,slideContainer:ax,index:aD[1],count:av.length,currentVideo:av[aD[1]],videos:av};
g.brightcove.create(au).then(function(aG){if(aG){M=at.extend({},M,aG);
Z();
m();
B(av,M.slideItem,M.currentVideo);
d();
M.slideItem.on("keydown.fgxBcPlayer",q);
M.player.on("loadedmetadata",ah);
M.player.on("timeupdate",ag)
}});
aB.data("actions",av[aD[1]].actions);
aw.toggleClass("has-list",av.length>1);
k.images.load(ax);
A.show(true,aF,".close-overlay");
break;
case"i":var aB=A.$el;
var aw=aB.find(".carousel");
var ay=aw.find(".carousel-inner");
ay.empty();
at.each(az,function(aI,aH){var aG=O(p({index:aH,count:az.length,item:aI,picture:FD.Brand.Util.images.renderPicture(aI.image,"Overlay",aa(aI.image)).html()}));
aG.data("config",aI);
if(aH===aD[1]){aG.addClass("active")
}aG.appendTo(ay)
});
aB.data("actions",az[aD[1]].actions);
aw.toggleClass("has-list",az.length>1);
aw.carousel({interval:false});
aw.carousel(aD[1]);
m();
d();
k.images.load(ay);
j();
A.show(true,aF,".close-overlay");
break;
case"y":var aB=A.$el;
var aw=aB.find(".carousel");
var ay=aw.find(".carousel-inner");
ay.empty();
aw.addClass("fgx-brand-youtube-carousel");
var aE=[];
at.each(aA,function(aJ,aI){var aL="fgx-youtube-embed-"+aI;
aJ.playerId=aL;
var aH={id:aL,index:aI,count:aA.length,item:aJ,events:{onStateChange:R,onReady:T},autoPlay:0};
var aG=O(L(aH));
if(aI===aD[1]){aG.addClass("active");
aH.autoPlay=1
}aG.appendTo(ay);
var aK=g.youtube.create(aH,aF);
aK.then(function(aM){aJ.player=aM;
aG.data("config",aJ)
});
aE.push(aK)
});
O.when.apply(O,aE).done(function(){m()
});
aB.data("actions",aA[aD[1]].actions);
aw.toggleClass("has-list",aA.length>1);
aw.carousel({interval:false});
aw.carousel(aD[1]);
d();
k.images.load(ay);
A.show(true,aF,".close-overlay");
break
}if(typeof FD.Brand.Disclosures!="undefined"){FD.Brand.Disclosures.updateDisclosures(A.$el)
}}function j(au){$toarrows=O(".text-only-arrows",au);
O("div",$toarrows).click(function(av){av.preventDefault();
z(O(this).is(".carousel-next")?"next":"prev")
})
}function z(aw){var au=A.$el.find(".carousel");
var av="imageCarouselScroll";
if(au.length>0&&(au.hasClass("fgx-brand-youtube-carousel")||(au.hasClass("fgx-brand-brightcove-carousel")))){ap(au);
av="videoCarouselScroll"
}if(au.hasClass("fgx-brand-brightcove-carousel")){N(aw)
}else{au.carousel(aw)
}u(av)
}function V(au,ay,ax){var aw=au.find(".pagination-info");
var av=aw.data("label-template");
aw.attr("aria-hidden","false");
aw.attr("aria-live","polite");
aw.attr("aria-atomic","true");
if(av){aw.text(av.replace("{current}",ay).replace("{total}",ax))
}}function ak(au){var av=au.find(".pagination-info");
av.attr("aria-hidden","true");
av.removeAttr("aria-live");
av.removeAttr("aria-atomic");
av.text("")
}function m(){var ax=A.$el.find(".carousel");
var aw=ax.find(".active");
var av=aw.data("config");
ar(av.anchorId);
aj();
if(!ax.hasClass("fgx-brand-brightcove-carousel")){V(ax,aw.data("current-item"),aw.data("total-items"))
}if(ax.hasClass("fgx-brand-youtube-carousel")||ax.hasClass("fgx-brand-brightcove-carousel")){if(O(".carousel-details-toggle").hasClass("details-show")==true){O(".carousel-details-toggle").toggleClass("details-show");
O(".media-overlay .content").slideToggle(500)
}O(".carousel-details-toggle").show();
O(".media-overlay .carousel-arrows.global-arrows").show()
}else{if(av.image){var au=av.image.altTag||"";
if(O(".carousel-details-toggle").hasClass("details-show")==true){O(".carousel-details-toggle").toggleClass("details-show");
O(".media-overlay .content").slideToggle(500)
}O(".carousel-details-toggle").show();
O(".media-overlay .carousel-arrows.global-arrows").show();
O(".media-overlay .img-expand").show()
}else{if(O(".carousel-details-toggle").hasClass("details-show")!=true){O(".carousel-details-toggle").toggleClass("details-show");
O(".media-overlay .content").slideToggle(500)
}O(".carousel-details-toggle").hide();
O(".media-overlay .carousel-arrows.global-arrows").hide();
O(".media-overlay .img-expand").hide()
}}}function d(){var au=O(".carousel-details-toggle");
if(au.hasClass("default-expand")&&!au.hasClass("details-show")){au.toggleClass("details-show");
O(".media-overlay .content").slideToggle(500)
}au.show()
}function Y(av){var aw=(av*0.88);
var au=(av*0.41);
O(".media-overlay .img-expand").css("top",aw);
O(".media-overlay .carousel-arrows.global-arrows").css("top",au)
}function aj(){var ay=Math.max(450,(450+O(ac).height()-625))+"px";
var au=A.$el.find(".active");
if(au.length){var az,ax,aw=0;
if(au.hasClass("fgx-media-overlay-youtube-item")||au.hasClass("fgx-media-overlay-brightcove-item")){az=au.find(".video-wrapper");
var aA=az.width();
var av=t[(az.data("fdAspectRatio"))]||t["ratio16-9"];
aw=(aA*av);
if(aw>0){Y(aw)
}}else{az=au.find(".image-wrapper");
ax=az.find("img");
az.css({maxHeight:ay});
if(ax.complete){aw=az.height();
if(aw>0){Y(aw)
}}else{ax.on("load",function(){aw=az.height();
if(aw>0){Y(aw)
}})
}}}n()
}function n(){var av=Math.max(0,(O(ac).height()-768)/2);
var au="150,"+av;
A.$el.attr("data-overlay-scroll-offset",au)
}function af(){var au=ac.location.hash;
if(au){au=au.substr(1);
if(w===au){return
}var av=an[au];
if(av){w=au;
ac.setTimeout(function(){ac.scrollTo(0,Math.max(av[0].offset().top-150,0));
o.apply(null,av)
},0)
}}}function ar(av){w=av;
if(ac.history.replaceState){var au=ac.location.href;
au=au.substr(0,au.length-ac.location.hash.length)+((av)?"#"+av:"");
ac.history.replaceState({},document.title,au)
}}function T(ax){var av=ax.target;
var au=av.getDuration();
var aw=G(au);
var ay=O(av.getIframe()).closest(".fgx-media-overlay-youtube-item");
ay.data("fgxMtxData",JSON.stringify(aw));
aj()
}function ah(aw){if(M.playerApi){M.playerApi.autoplay()
}var au=M.player.duration(),av=G(au);
M.slideItem.data("fgxMtxData",JSON.stringify(av));
aj()
}function ag(au){if(M.playerApi){f(M.playerApi,M.slideItem)
}}function N(av){if(M){var aw=M.index,au=aw;
if(typeof(av)==="number"){au=av
}else{switch(av){case"next":au=((aw+1)<M.count)?(aw+1):0;
break;
case"prev":au=((aw-1)>=0)?(aw-1):(M.count-1);
break
}}if(au!==aw){M.index=au;
M.currentVideo=M.videos[au];
if(M.playerApi){M.playerApi.setCurrentVideo(M.currentVideo)
}Z();
h(au);
m()
}}}function Z(){if(M&&M.currentVideo){var au=M.currentVideo;
var av=M.slideItem;
if(au&&M.playerApi){au.player=M.playerApi
}av.data("config",au);
av.toggleClass("active",true);
var aw=(au.videoTitle)?au.videoTitle:"",ax=(au.titleStyle)?au.titleStyle:"";
b(aw,ax,M.count);
if(au.expandDetails){av.find(".carousel-details-toggle").addClass("default-expand")
}aq((au.videoDescription)?au.videoDescription:"");
H((au.disclaimerText)?au.disclaimerText:"");
s(au);
S(au);
y(au);
M.player.catalog.getVideo(au.videoId,function(ay,az){if(au.videoFirstFrameImage){az.poster=au.videoFirstFrameImage
}au.poster=az.poster;
M.player.catalog.load(az)
})
}}function I(){if(M){l();
M.player.off("loadedmetadata",ah);
M.player.off("timeupdate",ag);
var au=M.slideItem;
au.off("keydown.fgxBcPlayer",q);
b("","",0);
au.find(".carousel-details-toggle").removeClass("default-expand");
aq("");
H("");
s(null);
S(null);
y(null);
au.data("fgxMtxData",null)
}}function q(ay){var ax=false;
if(ay.keyCode==32||(ay.keyCode==80&&ay.altKey)){var aw=M.slideItem.find(".vjs-play-control");
aw.click();
ax=true
}else{if(ay.keyCode==77&&ay.altKey){var az=M.slideItem.find(".vjs-mute-control");
az.trigger("click");
ax=true
}else{if(ay.keyCode==81&&ay.altKey){var av=ab.Context.language||"en";
var au=M.player.textTracks().tracks_.filter(function(aA){return aA.language.substring(0,2).toLowerCase()===av
});
if(au.length){if(au[0].mode!=="showing"){au[0].mode="showing"
}else{au[0].mode="disabled"
}}ax=true
}}}if(ax){ay.preventDefault();
ay.stopImmediatePropagation()
}}function b(ax,ay,av){var aw=Q(av),au=ax+" "+aw;
C(ax,ay,au)
}function C(aw,ax,au){var av=M.slideItem.find(".carousel-content-header");
av.html(aw);
if(W!==""){av.removeClass(W)
}W=ax||"";
av.addClass(W);
av.attr("aria-label",au)
}function Q(aw){var au=M.slideItem.find(".carousel-page-count"),av=au.find(".page-count-media-overlay"),az=A.$el.data("fgxPaginationLabel"),ay="",ax=A.$el.find(".carousel");
if(aw>1){if(az&&typeof(az)!="undefined"){ay=(M.index+1)+" "+az+" "+M.count;
V(ax,(M.index+1),M.count)
}av.html(ay);
au.removeClass("hidden")
}else{av.html("");
au.addClass("hidden");
ak(ax)
}return ay
}function aq(aw){var au=M.slideItem,av=au.find(".fgx-item-description");
if(aw&&aw!==""){av.html(aw).removeClass("hidden")
}else{av.html("").addClass("hidden")
}}function H(aw){var av=M.slideItem,ax=av.find(".disclaimer-container"),au=ax.find(".disclaimer-content");
if(aw&&aw!==""){au.html(aw);
ax.removeClass("hidden")
}else{au.html("");
ax.addClass("hidden")
}}function s(aw){var av=M.slideItem,au=av.find(".dynamic-disclosure-wrapper");
if(aw&&aw.dynamicDisc&&aw.dynamicDisc.display){au.html(aw.dynamicDisc.content);
au.removeClass("hidden");
av.attr("data-dynamic-disclosure-enable","")
}else{au.html("");
au.addClass("hidden");
av.attr("data-dynamic-disclosure-enable",null)
}}function S(aw){var au=M.slideItem,av=au.find(".fgx-cta-wrap");
av.empty();
if(aw&&aw.ctas&&aw.ctas.length>0){at.each(aw.ctas,function(ax){if(ax.url&&ax.text){O("<a></a>").attr("href",ax.url).attr("class",ax.cssClass).attr("target",ax.target).html(ax.text).appendTo(av)
}});
av.removeClass("hidden")
}else{av.addClass("hidden")
}}function y(au){var ax=M.slideItem,aB=ax.find(".content .actions"),aA=aB.find(".action.save"),aD=aB.find(".action.share"),av=aB.find(".action.download"),aC=(au&&au.canSave)?true:false,ay=(au&&au.canDownload)?true:false,aw=(au&&au.canShare)?true:false;
aA.toggleClass("hidden",aC!==true);
av.toggleClass("hidden",ay!==true);
if(aw){var az={itemUrl:au.shareUrl};
aD.attr("data-share-overlay-data",JSON.stringify(az));
aD.removeClass("hidden")
}else{aD.addClass("hidden");
aD.attr("data-share-overlay-data",null)
}}function B(au,aB,aC){var az=aB.find(".bcc-carousel-content"),av=aB.find(".bcc-filmstrip");
av.empty();
at.each(au,function(aE,aD){$filmStripItem=O(e(aE));
$filmStripItem.data("config",aE);
$filmStripItem.appendTo(av);
if(aE.videoId===aC.videoId&&aE.index===aC.index){$filmStripItem.addClass("highlight")
}$filmStripItem.on("click",function(aF){var aG=O(aF.target)[0];
if(aG&&aG.hasAttribute("data-vdm-disc")){return
}z(aD)
})
});
var aw=au.length*220;
av.css("width",aw+"px");
if(M&&M.filmStrip){M.filmStrip.totalWidth=aw
}else{M.filmStrip={container:az,carousel:av,totalWidth:aw,toggleInitialized:false};
r();
var ax=O(".media-overlay .bcc-carousel-arrow"),ay=O(".media-overlay .bcc-carousel-arrow.carousel-right"),aA=O(".media-overlay .bcc-carousel-arrow.carousel-left");
az.hover(function(){ay.animate({right:"0px"},"fast");
aA.animate({left:"0px"},"fast")
},function(){ay.animate({right:"-55px"},"fast");
aA.animate({left:"-55px"},"fast")
});
O(".carousel-btn",ax).on("click",function(){var aD=av.css("left");
aD=aD.replace("px");
if(O(this).hasClass("carousel-previous")){aD=(parseInt(aD)+220);
if(aD<=0){av.css("left",aD+"px")
}}else{aD=(parseInt(aD)-220);
if(aD>=(-Math.abs(aw)+220)){av.css("left",aD+"px")
}}})
}}function h(av){var au=M.filmStrip.carousel,aw=".fgx-brand-fs-item-"+av;
au.find(".highlight").removeClass("highlight");
au.find(aw).addClass("highlight")
}function ad(){var av=M.slideItem,au;
if(av.hasClass("bcc-filmstrip-opened")){av.removeClass("bcc-filmstrip-opened");
av.find(".bcc-filmstrip-control").attr("aria-expanded","false");
au=false
}else{av.addClass("bcc-filmstrip-opened");
av.find(".bcc-filmstrip-control").attr("aria-expanded","true");
au=true
}M.filmStrip.container.slideToggle(400,function(){if(M.filmStrip&&M.filmStrip.overlay){switch(au){case true:al.trapFocus(M.filmStrip.overlay,".bcc-carousel-item",undefined,M.filmStrip.overlay.lastFocus,true);
break;
case false:al.releaseFocus(M.filmStrip.overlay);
break
}}})
}function K(au){if(!au){return
}if(M&&M.filmStrip&&!M.filmStrip.overlay){M.filmStrip.overlay={$el:O(".media-overlay .fgx-media-overlay-brightcove-item .bcc-carousel-content"),hide:ad,lastFocus:O(au.el)}
}}function r(){if(M.filmStrip&&!M.filmStrip.toggleInitialized){M.playerApi.createButton(M.player,"bcc-filmstrip-control fgx-hidden-xs",ad,K)
}}function l(){if(M.slideItem.hasClass("bcc-filmstrip-opened")){ad()
}}function ap(ax){if(ax){var aw=ax.find(".active");
var au=aw.data("config");
var av=(au&&au.player)?au.player:null;
if(av){av.pauseVideo()
}}}function a(){var au=A.$el.find(".carousel");
if(au.length>0){if(au.hasClass("fgx-brand-youtube-carousel")){var av=au.find(".fgx-media-overlay-youtube-item");
av.each(function(){var aw=O(this).data("config");
var ay=(aw&&aw.playerId)?aw.playerId:"fgx-youtube-embed-0";
var ax=(aw&&aw.player)?aw.player:null;
if(F[ay]){clearInterval(F[ay].setInterval)
}if(ax){if(O(this).hasClass("active")){ax.pauseVideo()
}ax.destroy()
}});
au.removeClass("fgx-brand-youtube-carousel");
F=[]
}else{if(au.hasClass("fgx-brand-brightcove-carousel")){if(M&&M.playerApi){M.playerApi.pauseVideo()
}M.slideContainer.addClass("hidden");
au.removeClass("fgx-brand-brightcove-carousel");
A.$el.removeClass("fgx-brand-brightcove-modal");
I();
F=[]
}}}}function R(au){var aB=au.target;
var ay,ax,aA,aw,aC;
if(au&&typeof(au.data)!="undefined"){ay=O(aB.getIframe()).closest(".fgx-media-overlay-youtube-item");
ax=aB.getDuration();
aA=au.data;
aw=ay.data("config");
aC=(aw&&aw.playerId)?aw.playerId:"fgx-youtube-embed-0"
}switch(aA){case"ended":case 0:if(F[aC]){clearInterval(F[aC].setInterval)
}f(aB,ay);
break;
case"play":case 1:if(!F[aC]){var az=(Math.ceil(ax/4)*1000)+1000;
var av=setInterval(function(){f(aB,ay)
},az);
F[aC]={setInterval:av,delay:az,container:ay,player:aB};
f(aB,ay)
}else{D(aC);
f(aB,ay)
}break;
case"pause":case 2:if(F[aC]){clearInterval(F[aC].setInterval)
}break
}}function f(aC,ax){var ay=aC.getCurrentTime();
var az=(typeof aC.getVideoData==="function")?aC.getVideoData():ax.data("config");
var aw=(az.title)?az.title:az.videoTitle;
var au=(ax.data("fgxMtxData"))?JSON.parse(ax.data("fgxMtxData")):{};
var av=au.trackedSegments;
var aA=[];
at.each(au.segments,function(aD){if(!av[aD.id]&&ay>=aD.seg){av[aD.id]=1;
aA.push(aD)
}});
if(aA.length>0){var aB=aA[aA.length-1];
u(aB.id,{video:{videoName:aw,segmentTime:aB.seg,videoNamePercentageWatched:aB.per}})
}au.trackedSegments=av;
ax.data("fgxMtxData",JSON.stringify(au))
}function D(av){if(av&&F[av]){clearInterval(F[av].setInterval);
var au=setInterval(function(){f(F[av].player,F[av].container)
},F[av].delay);
F[av].setInterval=au
}}function G(au){au=Math.floor(au-1);
var aA=Math.floor(au/4);
var az=Math.floor(au/2);
var ax=Math.floor((au/4)*3);
var aw=Math.floor(au);
var av=[{id:"videoStart",seg:0},{id:"videoSegment25",seg:aA,per:"25% complete"},{id:"videoSegment50",seg:az,per:"50% complete"},{id:"videoSegment75",seg:ax,per:"75% complete"},{id:"videoComplete",seg:aw,per:"video complete"}];
var ay={segments:av,trackedSegments:{}};
return ay
}function u(aw,au){var av=A.$el.data("actions");
if(!au){au={}
}if(av&&av[aw]){FD.Brand.Metrics.handler.direct(av[aw],au)
}}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Overlay,FD.Brand.Video,FD.Brand.Util,FD.Brand.Context);
(function(e,f,d,h,b,a,c){h.setInitHandler("[data-fgx-golf-form-container]",g);
function g(m){if(m.length==0){return
}m.each(function(){var A=e(this),x=A.attr("data-fd-golf-form-id")||"",u=A.attr("data-fd-golf-form-type")||"",z=A.attr("data-fd-golf-form-title")||"",s=A.attr("data-fd-golf-form-cta-label")||"",w=A.attr("data-fd-golf-form-skin-version")||"",t=null,v={};
v.startAction=A.attr("data-fd-start-action");
v.selectVehiclePageAction=A.attr("data-fd-select-vehicle-page-action");
v.contactPageAction=A.attr("data-fd-contact-page-action");
v.completeAction=A.attr("data-fd-complete-action");
v.completeTdAltLocAction=A.attr("data-fd-complete-td-alt-loc-action");
v.completeEmailAction=A.attr("data-fd-complete-email-action");
v.completeMailAction=A.attr("data-fd-complete-mail-action");
v.completeBothAction=A.attr("data-fd-complete-both-action");
v.completeAltLocAndEmailAction=A.attr("data-fd-complete-alt-loc-and-email-action");
v.printSummaryAction=A.attr("data-fd-print-summary-action");
if(x!==""&&u!==""){var y={id:x,formType:u,presentation:"embed",make:a.make,region:a.region.toLowerCase(),skinVersion:w};
if(z!=""){y.formTitle=z
}if(s!=""){y.ctaLabel=s
}var r=A.find(".sub-component-wrap");
var q=h&&h.Form;
if(q){q.load(u,y,r).done(function(B){if(f.FD.Pantry&&f.FD.Pantry.Golf){FD.Pantry.Golf.initialized().done(function(){t=FD.Pantry.Golf.getForm(x);
var F={formType:t.formType,mtxActions:v};
if(t){var D={postalCode:c.location.current().postalCode},C=a&&a.nameplate;
if(C){if(C.ngpModelName){D.model=C.ngpModelName
}if(C.ngpYear){D.year=C.ngpYear
}}var E=d.extend({},y,D);
t.setConfig(E,k(t,F,j))
}})
}})
}}});
function k(r,q,s){return function(){var t=[].slice.call(arguments);
t.unshift(q);
if(s){try{s.apply(r,t)
}catch(u){}}}
}function j(r,x,s){var w=r&&r.formType||"",y=r&&r.mtxActions||{};
try{if(x==="FormShown"){l(y,"startAction")
}else{switch(w){case"getupdates":switch(x){case"SubmissionSucceeded":o(s,y);
p(this.$form);
break
}break;
case"schedule":switch(x){case"ResponseView":l(y,"completeAction");
p(this.$form);
break;
case"SelectVehicleView":l(y,"selectVehiclePageAction");
break
}break;
case"partsservice":switch(x){case"SubmissionSucceeded":var z=s&&s.request,v=(z&&z.dealerFollowup)?"completeEmailAction":"completeAction",q=d.extend({},n(s,false));
l(y,v,q);
p(this.$form);
break;
case"SelectVehicleView":l(y,"selectVehiclePageAction");
break
}break;
case"catestdrive":switch(x){case"SubmissionSucceeded":var z=s&&s.request,u=s&&s.response,v="completeAction",q=d.extend({},n(s,true));
if(z&&z.dealerFollowup&&u&&u.homeWorkTestDrive){v="completeAltLocAndEmailAction"
}else{if(z&&z.dealerFollowup){v="completeEmailAction"
}else{if(u&&u.homeWorkTestDrive){v="completeTdAltLocAction"
}}}l(y,v,q);
p(this.$form);
break;
case"PageTwoLoad":var v="contactPageAction",q=d.extend({},n(s,true));
l(y,v,q);
break;
case"print":case"printSummary":var q=d.extend({},n(s,true));
l(y,"printSummaryAction",q);
break
}break;
case"catradein":switch(x){case"SubmissionSucceeded":var v="completeAction",q=d.extend({},n(s,true));
l(y,v,q);
p(this.$form);
break;
case"PageTwoLoad":var v="contactPageAction",q=d.extend({},n(s,true));
l(y,v,q);
break
}break;
case"cacontactus":case"casponsorship":case"caroadside":switch(x){case"SubmissionSucceeded":l(y,"completeAction");
p(this.$form);
break
}break
}}}catch(t){console.log("Error occurred in the form event callback method "+t)
}}function p(r){if(!r||r.length==0){return
}var t=e(".navbar-static-top"),s=r.offset().top,q=(t.length)?(s-t.height()):s;
e("html,body").animate({scrollTop:q},200)
}function l(r,t,q){var s=(q&&q.length>0)?q:{};
if(t&&r&&typeof(r[t])!="undefined"){FD.Brand.Metrics.handler.direct(r[t],s)
}}function n(q,r){var s={};
if(q){if(q.model){s["$$formNameplate"]=q.model;
if(r){s["$nameplate"]=q.model;
s.vehicle_nameplate=q.model
}}if(q.year){s["$$formYear"]=q.year;
if(r){s["$modelYear"]=q.year;
s.vehicle_modelYear=q.year
}}}return s
}function o(r,s){var u=r&&r.skinVersion||"";
var y="";
var q={};
switch(u){case"canvasv1":case"personaldriverv1":y="completeAction";
break;
default:var x=r&&r.request;
if(x){var t=x.email,z=x.mail,w=b.str.firstInstance(x.mtxName,";"),v=b.str.firstInstance(x.year,";");
if(typeof(t)=="undefined"||!t){t=0
}if(typeof(z)=="undefined"||!z){z=0
}if(a.region==="CA"||(t==1&&z==0)){y="completeEmailAction"
}else{if(t==1&&z==1){y="completeBothAction"
}else{y="completeMailAction"
}}q["$$formNameplate"]=w;
q["$nameplate"]=w;
q.vehicle_nameplate=w;
q["$$formYear"]=v;
q["$modelYear"]=v;
q.vehicle_modelYear=v
}break
}if(y!=""){l(s,y,q)
}}}})(jQuery,window,FD.Brand.lodash,FD.Brand,FD.Brand.Util,FD.Brand.Context,FD.Brand.User);
(function(h,j,p,s,v,b,z){var c=(s.make==="Ford")?s.settings.mailSendUrlFord:s.settings.mailSendUrlLincoln;
var g;
var r;
var o;
var u;
var a;
var m;
var q;
var e;
var y="anonymous";
p.setInitHandler("[data-fgx-email-overlay]",t);
function t(A){g=v.register("emailOverlay",A,{show:function(){x();
j(".success-msg",A).hide();
j("body").addClass("no-scroll")
},hide:function(){j("body").removeClass("no-scroll")
}});
e=A;
r=j("#txt_emailSubject",A);
o=j("#txt_emailBody",A);
q=j(".email-cta",A);
m=j("#txt_fromEmail",A).val();
u=r.val();
a=o.val();
r.focus(function(B){l(r,u)
});
o.focus(function(B){l(o,a)
});
r.focusout(function(B){d(r,u)
});
o.focusout(function(B){d(o,a)
});
j(".icon-close",A).click(function(){g.hide()
});
q.click(f);
z.authentication.subscribe(w,false)
}function w(A){if(A.consumerId){y=A.consumerId
}}function l(A,B){if(A.val()===B){A.val("");
A.addClass("active")
}}function d(A,B){if(A.val()===""){A.removeClass("active");
A.val(B)
}}function f(){var A=r.val();
var B=o.val();
if(A!==u&&B!==a){j(".validation-error",e).hide();
r.removeClass("error");
o.removeClass("error");
k(A,B)
}else{j(".validation-error",e).show();
if(A===u){r.addClass("error")
}if(B===a){o.addClass("error")
}}}function n(A){return j.Deferred(function(B){j.ajax({url:c+"/core-services/mail/send",method:"jsonp",data:A,xhrFields:{withCredentials:true}}).done(function(C){if(C){B.resolve(C)
}else{B.resolve(null)
}}).fail(function(C){b.log("Send email failed",C);
B.reject(C)
})
}).promise()
}function x(){r.val(u);
r.removeClass("active");
o.val(a);
o.removeClass("active");
j(".validation-error",e).hide();
j(".submission-error",e).hide();
r.removeClass("error");
o.removeClass("error")
}function k(B,A){j(".success-msg",e).hide();
var C={from:m,subject:B,message:A,posttext:y};
n(C).then(function(){x();
j(".success-msg",e).show()
},function(D){j(".submission-error",e).show()
})
}})(window,$,FD.Brand,FD.Brand.Context,FD.Brand.Overlay,FD.Brand.Util,FD.Brand.User);
(function(c,f,b,a){var e="fgx-brand-cookie-notice";
f.setInitHandler("[data-fgx-cookie-notice-overlay]",d);
function d(j){if(j.length===0){return
}var h=j.attr("data-fd-metrics-on-show");
if(!b.cookie.get(e)){j.removeClass("hidden");
g("0");
if(typeof(h)!="undefined"){FD.Brand.Metrics.handler.direct(h)
}}c(".icon-close",j).on("click",function(){j.addClass("hidden");
b.cookie.set(e,1,{path:"/",expires:365,domain:a.settings["siteCookieDomain"+a.make]})
});
function g(k){j.find("a").each(function(){c(this).attr("tabindex",k)
})
}}})(jQuery,FD.Brand,FD.Brand.Util,FD.Brand.Context);
(function(e,h,a,b,c){var g="browser-alert";
var d;
h.setInitHandler("[data-fgx-browser-alert]",f);
function f(l){if(l.length===0){return
}d=b.register("browserAlert",l);
e(".icon-close",l).on("click",function(){d.hide()
});
var j=a.currentBreakpoint()==="gux-bkpt-sm";
var m={msie:j?10:9,chrome:j?38:27,firefox:j?0:35,safari:j?7:5,android:j?3:0};
var n=a.env.browser();
var k=l.attr("data-fd-metrics-on-show");
if(!a.cookie.get(g)&&m[n.name]>=n.version){d.show(true,undefined,".browser-item");
a.cookie.set(g,1,{path:"/",domain:c.settings["siteCookieDomain"+c.make]});
FD.Brand.Metrics.handler.direct(k)
}if(m[n.name]>=n.version){}}})(jQuery,FD.Brand,FD.Brand.Util,FD.Brand.Overlay,FD.Brand.Context);
(function(c,s,m){var o=c(window);
var t=c(".btt-arrow");
var e=m&&m.mtxActions;
var g=e&&e.backToTopClickAction||null;
var l,j,n,a,q;
o.on("scroll",s.throttle(f,200));
t.on("mouseover",function(){a=true
});
t.on("mouseout",function(){a=false
});
t.on("click",function(){k();
if(g){FD.Brand.Metrics.handler.direct(g)
}});
function f(){h();
if((o.scrollTop()+o.height())>1599){if((j==="up")){if(!n){p()
}r();
return
}}else{if(n){return
}}b()
}function b(u){if(u||!a){clearInterval(q);
j=null;
d()
}}function r(){clearInterval(q);
q=setInterval(function(){b()
},2500)
}function h(){var u=l?l:o.scrollTop();
l=o.scrollTop();
var v=j;
j=(l<u)?"up":"down"
}function p(){t.animate({right:"-15px"},0);
t.stop(true,true).fadeIn({queue:false,duration:"fast"});
t.animate({right:"+15px"},"fast");
n=true
}function d(){t.fadeOut("fast");
n=false
}function k(){c("html, body").animate({scrollTop:0},400,"swing",function(){b(true)
})
}})(jQuery,FD.Brand.lodash,FD.Brand.Context);
(function(d,c,q,r,f){var e,p,k,b,j,m,n,g,h,a=[],l='<div class="chip"><span class="text">{TEXT}</span><span class="icon icon-plus-25px"></span></div>';
chipAriaLabelPrefix="";
c.setInitHandler("[data-fgx-search-from-inventory-bar]",o);
function o(x){if(x.length==0){return
}j=d(".search-suggestions.popular",x);
m=d(".search-suggestions.predictive",x);
n=null;
g=d(".search-suggestions-info",x);
h=d(".chip-container",x);
k=d(".search-bar-input",x);
b=d(".input-txt-mirror",x);
e=d("form",x).attr("data-fd-metrics-filter-click-action");
p=d("form",x).attr("data-fd-metrics-chip-click-action");
d("form",x).on("submit",function(z){z.preventDefault();
var y=d(this).attr("action");
var C={q:d(".search-bar-input",x).val()+" "+a.join(" ")};
var B=y+"?"+f.parameters.encode(C);
var A=d(this).attr("data-fd-metrics-submit-action");
if(typeof A!="undefined"){FD.Brand.Metrics.handler.direct(A,{$$searchTerm:d(".search-bar-input",x).val(),$$chipList:a.join(" ")})
}window.location=B
});
k.on("focus",function(){if(d(this).val().length===0){if(j.length>=1){j.show();
n=j;
d(this).attr("aria-expanded","true");
if(typeof g!=="undefined"){var y=g.data("label-template");
if(y){g.text(y.replace("{count}",j.find("li.sfi-item:visible").length))
}}}if(d(this).hasClass("initial")){d(this).removeClass("initial");
d(this).addClass("clicked");
d(".search-bar-submit",x).removeClass("hidden");
d(".search-glass-initial",x).addClass("hidden")
}}});
k.on("input",function(){if(d(this).hasClass("initial")){d(this).removeClass("initial");
d(this).addClass("clicked");
d(".search-bar-submit",x).removeClass("hidden");
d(".search-glass-initial",x).addClass("hidden")
}if(d(this).val().length===0){m.hide();
if(j.length>=1){j.show();
n=j;
d(this).attr("aria-expanded","true");
if(typeof g!=="undefined"){var y=g.data("label-template");
if(y){g.text(y.replace("{count}",j.find("li.sfi-item:visible").length))
}}}else{g.text("");
d(this).attr("aria-expanded","false");
n=null
}}else{j.hide();
n=m;
r.sfiTypeAheadResults(d(this).val(),m,d(this),a,s,g,5)
}b.text(d(this).val().replace(/\s/g,"\xa0"));
if(d(this).hasClass("with-chips")){u()
}});
k.on("keydown",function(y){if(y.which===40&&(d(this).attr("aria-expanded")==="true"||d(this).attr("aria-expanded")===true)){if(n!=null&&n.find("li.sfi-item").length>0){var z=n.find("li.sfi-item").first();
z.focus()
}}});
k.on("blur",function(){setTimeout(function(){var y=d(document.activeElement);
if(!y.hasClass("sfi-item")){m.hide();
j.hide();
g.text("");
k.attr("aria-expanded","false");
k.removeAttr("aria-activedescendant");
d(".search-res-item",x).attr("aria-selected","false")
}else{d(".sfi-item",x).on("focusout",function(){setTimeout(function(){var z=d(document.activeElement);
if(!z.hasClass("sfi-item")&&!z.hasClass("search-bar-input")){m.hide();
j.hide();
g.text("");
k.attr("aria-expanded","false");
d(".sfi-item",x).off("focusout")
}},100)
})
}},100)
});
d(".sfi-item",x).on("click",function(){var y=d(this).find(".icon.select");
if(y.is(":visible")){y.trigger("click")
}});
d(".sfi-item",j).on("focusin",function(){j.find(".sfi-item").attr("aria-selected","false");
d(this).attr("aria-selected","true");
k.attr("aria-activedescendant",d(this).attr("id"))
}).on("keydown",function(y){if(y.shiftKey&&y.which===9){k.focus();
k.removeAttr("aria-activedescendant");
j.find(".sfi-item").attr("aria-selected","false");
return false
}else{if(y.which===27){k.focus();
k.removeAttr("aria-activedescendant");
j.find(".sfi-item").attr("aria-selected","false");
return false
}}});
d(".sfi-item .icon.select",x).on("click",s);
d(".search-bar-submit",x).on("click",function(){d(this).closest("form").submit()
});
function s(){var A=d(this).closest("li");
d(".icon.selected",A).show();
d(".icon.select",A).hide();
var y=A.attr("data-chip-text");
var z=d(l.replace("{TEXT}",y));
z.attr("tabindex","0");
z.attr("role","button");
z.attr("data-fgx-keypress","true");
z.attr("aria-label",chipAriaLabelPrefix+" "+y);
z.on("click",w);
h.append(z);
if(a.length==0){h.parents(".chip-wrapper").removeClass("hidden");
k.removeClass("clicked");
k.addClass("with-chips");
k.attr("placeholder","");
u()
}a.push(y);
v(y);
if(typeof e!="undefined"){FD.Brand.Metrics.handler.direct(e,{$$chipName:y})
}}function w(){var A=d(this);
var y=d(".text",A).text();
var z=a.indexOf(y);
if(z!=-1){a.splice(z,1)
}A.remove();
t(y);
if(a.length==0){k.addClass("clicked");
k.removeClass("with-chips");
k.css("width","98%");
h.parents(".chip-wrapper").addClass("hidden")
}if(typeof p!="undefined"){FD.Brand.Metrics.handler.direct(p,{$$chipName:y})
}}function v(y){d(".sfi-item",x).each(function(){$li=d(this);
var z=$li.attr("data-chip-text");
if(y===z){d(".icon.selected",$li).show();
d(".icon.select",$li).hide()
}})
}function t(y){d(".sfi-item",x).each(function(){$li=d(this);
var z=$li.attr("data-chip-text");
if(y===z){d(".icon.selected",$li).hide();
d(".icon.select",$li).show()
}})
}function u(){var B=d(".chip",h).first();
var z=d(".form-wrapper",x).width();
var D=(z-80)*0.6;
var A=b.width()+2;
var C=z-B.width()-80;
if(a.length>1){C-=25
}if(C<D){C=D
}if(A>C){A=C
}var y=z-A-80;
h.parents(".chip-wrapper").width(y);
k.width(A)
}d(window).resize(function(){if(a.length>0){u()
}})
}})(jQuery,FD.Brand,FD.Brand.Context,FD.Brand.Search,FD.Brand.Util);
(function(d,h,b,c,a){var g;
var e;
h.setInitHandler("[data-fgx-search-bar]",f);
function f(m){if(m.length==0){return
}var k=m.attr("data-exit-overlay-id");
var n="astuteSearchUrl"+b.make;
var l="astuteSearchUrl"+b.make+b.languageKey;
var j=b.settings[l];
if(typeof j==="undefined"){j=b.settings[n]
}g=d(".search-suggestions",m);
e=d(".search-suggestions-info",m);
d("form",m).attr("action",j);
d("form",m).on("submit",function(o){if(typeof k!="undefined"&&(h.Link&&h.Link.exitOverlays&&typeof(h.Link.exitOverlays[k])!="undefined")){var q={q:d(".search-bar-input",m).val()};
hrefValue=j+"?"+a.parameters.encode(q);
d("form",m).attr("href",hrefValue);
d(this).attr("target","_blank");
FD.Brand.Link.exitOverlays[k].externalUrl.call(this,o,true)
}var p=d(this).attr("data-fd-metrics-submit-action");
if(typeof p!="undefined"){FD.Brand.Metrics.handler.direct(p)
}});
d(".search-bar-input",m).on("input",function(){if(d(this).val().length===0){g.hide();
e.text("");
d(this).attr("aria-expanded","false")
}else{c.typeAheadResults(d(this).val(),g,d(this),e)
}});
d(".search-bar-input",m).on("keydown",function(o){if(o.which===40&&(d(this).attr("aria-expanded")==="true"||d(this).attr("aria-expanded")===true)){var p=g.find("li").first();
p.focus()
}});
d(".search-bar-input",m).on("blur",function(){setTimeout(function(){var o=d(document.activeElement);
if(!o.hasClass("search-res-item")&&!g.hasClass("fgx-is-scrolling")){g.hide();
e.text("");
d(".search-bar-input",m).attr("aria-expanded","false");
d(".search-bar-input",m).removeAttr("aria-activedescendant");
d(".search-res-item",m).attr("aria-selected","false")
}else{if(o.hasClass("search-res-item")){d(".search-res-item",m).on("focusout",function(){setTimeout(function(){var p=d(document.activeElement);
if(!p.hasClass("search-res-item")&&!p.hasClass("search-bar-input")){g.hide();
e.text("");
d(".search-bar-input",m).attr("aria-expanded","false");
d(".search-res-item",m).off("focusout")
}},100)
})
}}},100)
});
g.on("mousedown",function(o){g.addClass("fgx-is-scrolling")
});
g.on("mouseup",function(o){d(".search-bar-input",m).focus();
g.removeClass("fgx-is-scrolling")
});
d(".search-bar-submit",m).on("click",function(){d(this).closest("form").submit()
});
d(".accordion-heading",m).on("click",function(){var p=d(this);
var q=d(this).attr("data-fd-metrics-open");
if(p.hasClass("open")){p.toggleClass("open");
p.attr("aria-pressed","false");
p.next(".accordion-content").toggleClass("open").hide()
}else{d(".accordion-heading.open",m).removeClass("open");
d(".accordion-heading.open",m).attr("aria-pressed","false");
d(".accordion-content.open",m).removeClass("open").hide();
p.toggleClass("open");
p.attr("aria-pressed","true");
var o="animationend webkitAnimationEnd MSAnimationEnd transitionend webkitTransitionEnd";
p.next(".accordion-content").show().toggleClass("open").one(o,function(){d("html, body").animate({scrollTop:p.offset().top-d(".navbar-static-top").height()},200)
});
if(typeof q!="undefined"){FD.Brand.Metrics.handler.direct(p.attr("data-fd-metrics-open"))
}}})
}})(jQuery,FD.Brand,FD.Brand.Context,FD.Brand.Search,FD.Brand.Util);
(function(b,a,d){d.setInitHandler("[data-fgx-secondary-navigation]",c);
function c(x){if(x.length==0){return
}var k=b(window),B=null,m=x,N=m.find(".nav-secondary_wrapper"),z=N.find(".nav-secondary_bar"),t=z.find(".nav-secondary"),J=t.find(".nav-secondary_main_hamburger"),h=L(t.find(".nav-secondary_menu1_top"),"padding"),I=a.debounce(o,50),A,r,s=window.FD.Brand.Util.currentBreakpoint();
if(b(".mainNavigation .navbar.navbar-default").length>0){B=b(".mainNavigation .navbar.navbar-default")
}else{if(b(".mainNavigationLincoln .navbar.navbar-default").length>0){B=b(".mainNavigationLincoln .navbar.navbar-default")
}else{}}k.resize(I);
k.scroll(a.throttle(v,125));
f(t,H);
function H(){A=N.offset().top+3;
k.resize();
k.scroll();
var Q=N.find(".nav-secondary_menu1 .nav-mask .subnav");
var T=N.find(".nav-secondary_menu1_dropdown");
var Z=N.find("li.nav-secondary_submenu.nav-secondary_menu.first");
var aa=N.find("li.nav-secondary_submenu.nav-secondary_menu.second");
var U=Q.find("li.selected");
var X=Q.find("li.nav-secondary_menu3.selected");
var Y=Q.find("li.nav-secondary_menu3.nav-secondary_menu.selected");
var S=false;
var W=Q.find("li.nav-secondary_menu2.nav-secondary_menu");
if(Y.length>0){U=Y.parent().parent().parent();
S=true
}else{if(X.length>0){U=X.parent().parent().parent()
}}if(U.length>0){if(b(U[0]).find("ul.grandchildren li").length>0){var O=b(U[0]);
O.children().clone().appendTo(Z);
O.children().clone().appendTo(aa);
var R=Z.find(".nav-mask");
var ad=aa.find(".nav-mask");
var V=Z.find("ul.grandchildren").detach().appendTo(R);
Z.find("ul.great-grandchildren").detach();
var P=aa.find("ul.great-grandchildren.active").detach().appendTo(ad);
aa.find("ul.grandchildren").detach();
V.removeClass().addClass("dropdown subnav");
Z.find("span.nav-secondary_menu2_top").removeClass("nav-secondary_menu2_top").addClass("nav-secondary_menu3_top");
var ab=Z.find("span.nav-secondary_menu3_top").first();
ab.append(ab.find("a").first().html());
ab.find("a").first().remove();
Z.removeClass("hidden");
if(S&&P!=null){P.removeClass().addClass("dropdown subnav");
aa.find("span.nav-secondary_menu2_top").removeClass("nav-secondary_menu2_top").addClass("nav-secondary_menu3_top");
var ac=aa.find("span.nav-secondary_menu3_top").first();
ac.find("a").first().remove();
ac.append(Y.find("a").first().html());
aa.removeClass("hidden")
}}}N.find(b("a")).each(function(){var af=b(this);
var ae=af.attr("href");
if(ae&&ae.indexOf("#")===0){af.on("click",y)
}});
N.find(b("li.nav-secondary_menu")).each(function(){var af=b(this),ag=af.children(".nav-mask"),ae=ag.children(".subnav");
if(af.find("span.has-children").length>0){af.on("click",K)
}if(af.hasClass("nav-secondary_submenu")&&af.find(".nav-title a").length>0){af.find(".nav-title a").first().addClass("hidden");
af.find(".nav-title").first().append(af.find(".nav-title a").first().html())
}if(af.hasClass("nav-secondary_next-steps")){}else{ag.width(af.width());
ae.css("width",af.width())
}});
b(document).click(function(ae){if(!b(ae.target).closest(".nav-secondary_wrapper").length&&!b(ae.target).is(".nav-secondary_wrapper")){y()
}});
N.on("focusout",w);
if(B&&B.length>0&&!B.hasClass("nonsticky")){B.addClass("nonsticky")
}J.click(function(ae){m.toggleClass("open");
if(B&&B.length>0){B.toggleClass("open")
}});
b(".next-steps").children(".fgx-on-mobile").clone().addClass("next-steps-append").appendTo(".subnav-wrapper");
if(s==="gux-bkpt-med"||s==="gux-bkpt-sm"){N.find(".next-steps").hide()
}if(s==="gux-bkpt-sm"){b("span.nav-secondary_menu2_top.has-children[tabindex]",N).attr("tabindex","0").attr("role","button");
b("span.nav-secondary_menu3_top.has-children[tabindex]",N).attr("tabindex","0").attr("role","button");
b("span.has-grandchildren[tabindex]",N).attr("tabindex","0").attr("role","button")
}else{b("span.nav-secondary_menu2_top.has-children[tabindex]",N).attr("tabindex","-1").attr("role","");
b("span.nav-secondary_menu3_top.has-children[tabindex]",N).attr("tabindex","-1").attr("role","");
b("span.has-grandchildren[tabindex]",N).attr("tabindex","-1").attr("role","")
}N.find(".no-viz").removeClass("no-viz");
N.removeClass("no-viz");
b(".nav-secondary").addClass("loaded")
}function w(O){setTimeout(function(){var P=b(document.activeElement);
var T=N.find("li.nav-secondary_menu1");
var S=N.find("li.nav-secondary_submenu.nav-secondary_menu.first");
var R=N.find("li.nav-secondary_submenu.nav-secondary_menu.second");
if(T.hasClass("open")){var Q=T.find(P);
if(!P.is(T)&&(!Q.length||Q.length<=0)){C(T)
}}if(S.hasClass("open")){var Q=S.find(P);
if(!P.is(S)&&(!Q.length||Q.length<=0)){C(S)
}}if(R.hasClass("open")){var Q=R.find(P);
if(!P.is(R)&&(!Q.length||Q.length<=0)){C(R)
}}},150)
}function M(){b("#navbar").remove();
var O=B.find(".navbar-collapse .navbar-nav .open .dropdown-menu"),Q=Number(O.height()),P=Number(B.height());
b("<style>").prop("id","navbar").prop("type","text/css").html("    .mainNavigation .navbar-default.fixed {        top: -"+P+"px;    }    .secondaryNavigation.section.fixed.open {        top: "+P+"px;    }    .secondaryNavigation.section {        padding-top: "+(Q===0?0:Q)+"px;    }").appendTo("head")
}function L(P,O){var Q=P.css(O);
return(Q)?Number(Q.replace("px","")):0
}function q(){var O=N.find(".has-children:not(.nav-secondary_menu4_top)");
O.each(function(){var P=b(this);
if(!P.hasClass("nav-secondary_top")){P.children("span").addClass("nav-secondary_top");
P=P.children(".nav-secondary_top")
}P.prepend('<i class="icon-action-chevron-down-25px chevron-down"></i>')
})
}function E(){b(".subnav").each(function(){var P=b(this),O=P.parent(".nav-mask");
if(O.length===0){P.wrap('<div class="nav-mask"></div>');
O=P.parent(".nav-mask")
}O.height(0)
})
}function j(){var O=setInterval(function(){var P=true,R,S,Q;
b(".subnav:hidden").each(function(){var U=b(this),T=U.parent(".nav-mask");
U.removeAttr("mask-height");
U.removeAttr("style");
T.height(0)
});
b(".subnav:visible").each(function(){var U=b(this),T=U.parent(".nav-mask");
R=Number(U.outerHeight());
Q=R+L(U,"marginTop");
S=Number(T.height());
if(S!==Q){U.css("marginTop",R*-1);
U.attr("mask-height",Q);
P=false
}T.height(Q)
});
if(P){if(!N.hasClass("loaded")){N.addClass("loaded")
}if(t.children(".nav-secondary_menu1").children(".nav-mask").hasClass("force-overflow")){e(t.children(".nav-secondary_menu1").children(".nav-mask"),"force-overflow",false)
}clearInterval(O)
}},30)
}function K(O){var Q=b(O.target).closest(".nav-secondary_menu").attr("class"),P=b(this).closest(".nav-secondary_menu").attr("class");
if(Q===P){D(b(O.currentTarget))
}}function y(O){D(b(".nav-secondary_menu1"),true)
}function D(Q,P){var O=P||false;
var S=false;
if(Q.hasClass("open")){C(Q);
F(Q);
if(Q.hasClass("nav-secondary_submenu")){if(b(".nav-secondary_menu2.selected.open").length>0){C(b(".nav-secondary_menu2.selected"))
}}else{if(Q.hasClass("nav-secondary_menu2")&&Q.hasClass("selected")){if(b(".nav-secondary_submenu.open").length>0){C(b(".nav-secondary_submenu"))
}}else{if(Q.hasClass("nav-secondary_menu3")&&Q.hasClass("selected")){if(b(".nav-secondary_submenu.open").length>0){F(b(".nav-secondary_submenu"))
}}else{if(Q.hasClass("nav-secondary_menu1")){g()
}}}}}else{if(Q.hasClass("nav-secondary_menu1")){C(b(".nav-secondary_submenu.first"));
C(b(".nav-secondary_submenu.second"));
C(b(".nav-secondary_next-steps"));
S=true
}else{if(Q.hasClass("nav-secondary_submenu")){C(b(".nav-secondary_menu1"));
C(b(".nav-secondary_next-steps"));
if(b(".nav-secondary_menu2.selected.open").length>0){l(b(".nav-secondary_menu2.selected"))
}if(b(".nav-secondary_menu3.selected.open").length>0){p(b(".nav-secondary_menu3.selected"))
}}else{if(Q.hasClass("nav-secondary_menu2")){b.each(b(".nav-secondary_menu2"),function(T,U){C(b(U))
});
if(Q.hasClass("selected")&&b(".nav-secondary_submenu").length>0){l(b(".nav-secondary_submenu"))
}}else{if(Q.hasClass("nav-secondary_next-steps")){C(b(".nav-secondary_submenu"));
C(b(".nav-secondary_menu1"));
F(b(".nav-secondary_submenu"))
}}}}if(!O){l(Q);
p(Q);
var R=Q.attr("data-fd-metrics-open");
if(R){d.Metrics.handler.direct(R,Q)
}if(Q.hasClass("nav-secondary_menu1")){g()
}}}}function l(O){var P=O.children(".nav-mask"),Q=P.children(".subnav");
if(P.hasClass("closed")){P.removeClass("closed")
}Q.addClass("open").show();
O.addClass("open")
}function C(O){var P=O.children(".nav-mask"),Q=P.children(".subnav");
if(!P.hasClass("closed")){P.addClass("closed")
}Q.removeClass("open");
if(!Q.hasClass("next-steps")||(Q.hasClass("next-steps")&&(s==="gux-bkpt-med"||s==="gux-bkpt-sm"))){Q.hide()
}O.removeClass("open")
}function p(P){var Q=P.children(".sub-nav-mask"),S=Q.children(".subnav"),O=b(".mw-wrapper.model-compare .content-wrap .comparison.mobile-change-model"),R=b(".mw-wrapper.model-compare .content-wrap .comparison.mobile-titles");
if(Q.hasClass("closed")){Q.removeClass("closed")
}S.addClass("open").show();
P.addClass("open");
O.addClass("hidden");
R.addClass("hidden")
}function F(P){var Q=P.children(".sub-nav-mask"),S=Q.children(".subnav"),O=b(".mw-wrapper.model-compare .content-wrap .comparison.mobile-change-model"),R=b(".mw-wrapper.model-compare .content-wrap .comparison.mobile-titles");
if(!Q.hasClass("closed")){Q.addClass("closed")
}S.removeClass("open");
if(!S.hasClass("next-steps")||(S.hasClass("next-steps")&&(s==="gux-bkpt-med"||s==="gux-bkpt-sm"))){S.hide()
}P.removeClass("open");
O.removeClass("hidden");
R.removeClass("hidden")
}function e(O,P,Q){if(Q){O.addClass(P)
}else{O.removeClass(P)
}}function g(){var Q=b("body"),P=N.find(".nav-secondary_menu1"),O=P.hasClass("open");
if(O&&m.hasClass("fixed")){if(!Q.hasClass("secondaryNavFixed")){Q.addClass("secondaryNavFixed")
}}else{if(Q.hasClass("secondaryNavFixed")){Q.removeClass("secondaryNavFixed")
}}}function n(O){}function f(O,P){O.find("[data-parent]").each(function(){var Q=b(this);
Q.detach().appendTo(N.find("[data-level='"+Q.attr("data-parent")+"']"));
Q.removeAttr("data-parent")
});
O.find("[data-href]").each(function(){var Q=b(this);
Q.on("click",{href:Q.attr("data-href"),metrics:Q.attr("data-metrics")},n)
});
P?P():null
}function G(Q){var P=m.hasClass("fixed");
if(!P){m.removeAttr("style");
return
}m.removeClass("fixed");
if(Q){m.removeAttr("style")
}var O=m.width();
m.addClass("fixed");
var R=m.attr("style");
if(typeof R===typeof undefined||R===false||Number(m.attr("lastwidth"))!==O){m.width(O);
m.attr("lastwidth",O)
}}function o(){N.removeClass("loaded");
s=window.FD.Brand.Util.currentBreakpoint();
if(s!=="gux-bkpt-med"&&s!=="gux-bkpt-sm"){N.find(".next-steps").show()
}else{N.find(".next-steps").hide()
}if(s==="gux-bkpt-sm"){b("span.nav-secondary_menu2_top.has-children[tabindex]",N).attr("tabindex","0").attr("role","button");
b("span.nav-secondary_menu3_top.has-children[tabindex]",N).attr("tabindex","0").attr("role","button");
b("span.has-grandchildren[tabindex]",N).attr("tabindex","0").attr("role","button")
}else{b("span.nav-secondary_menu2_top.has-children[tabindex]",N).attr("tabindex","-1").attr("role","");
b("span.nav-secondary_menu3_top.has-children[tabindex]",N).attr("tabindex","-1").attr("role","");
b("span.has-grandchildren[tabindex]",N).attr("tabindex","-1").attr("role","")
}}function v(){if(k.scrollTop()>=A){if(!m.hasClass("fixed")){m.addClass("fixed");
g()
}}else{if(m.hasClass("fixed")){m.removeClass("fixed");
m.removeClass("open");
if(B&&B.length>0){B.removeClass("open")
}g()
}}}(function u(){var R=b(b(".secondaryNavigation .nav-secondary .dropdown-font .model-year")[0]).text(),S=R.substring(0,R.indexOf(" ")),Q=R.substring(R.indexOf(" ")),P=b(".secondaryNavigation .nav-secondary .dropdown-font .model-year")[0],O=b(".secondaryNavigation .nav-secondary .dropdown-font .model-name")[0];
b(P).text(S);
b(O).text(Q)
})()
}})(jQuery,FD.Brand.lodash,FD.Brand);
(function(f,d,b,c,k,j){var a,g,e;
b.setInitHandler("[data-fgx-search-overlay]",h);
function h(p){var r=d("[data-fgx-search-overlay-trigger]"),n=(j.make==="Ford")?"//www.ford.com/search/":"//www.lincoln.com/search/",m=j.settings["ngbsSearchUrl"+j.make+j.languageKey]||j.settings["ngbsSearchUrl"+j.make]||n,o=j&&j.mtxActions,l=o&&o.searchSubmitAction||null,q=o&&o.searchOverlayOpenAction||null;
a=c.register("searchOverlay",p);
g=d(".search-suggestions",p);
e=d(".search-suggestions-info",p);
d("form",p).attr("action",m);
k.setReferrerApp(d(".form-wrapper",p));
r.each(function(){d(this).on("click","a",function(s){d(".navbar-static-top .drop-parent .dropdown-menu").hide();
s.preventDefault();
d(window).scrollTop(0);
a.show(true,d(this),".search-overlay-input");
if(q){FD.Brand.Metrics.handler.direct(q)
}})
});
d("form",p).on("submit",function(){if(l){FD.Brand.Metrics.handler.direct(l)
}});
d(".icon-close",p).on("click",function(){a.hide();
setTimeout(function(){d(".navbar-static-top .drop-parent .dropdown-menu").show()
},350)
});
d(".search-overlay-input",p).on("input",function(){if(d(this).val().length===0){g.hide();
e.text("");
d(this).attr("aria-expanded","false")
}else{k.typeAheadResults(d(this).val(),g,d(this),e)
}});
d(".search-overlay-input",p).on("keydown",function(s){if(s.which===40&&(d(this).attr("aria-expanded")==="true"||d(this).attr("aria-expanded")===true)){var t=g.find("li").first();
t.focus()
}});
d(".search-overlay-input",p).on("blur",function(){setTimeout(function(){var s=d(document.activeElement);
if(!s.hasClass("search-res-item")&&!g.hasClass("fgx-is-scrolling")){g.hide();
e.text("");
d(".search-overlay-input",p).attr("aria-expanded","false");
d(".search-overlay-input",p).removeAttr("aria-activedescendant");
d(".search-res-item",p).attr("aria-selected","false")
}else{if(s.hasClass("search-res-item")){d(".search-res-item",p).on("focusout",function(){setTimeout(function(){var t=d(document.activeElement);
if(!t.hasClass("search-res-item")&&!t.hasClass("search-overlay-input")){g.hide();
e.text("");
d(".search-overlay-input",p).attr("aria-expanded","false");
d(".search-res-item",p).off("focusout")
}},100)
})
}}},100)
});
g.on("mousedown",function(s){g.addClass("fgx-is-scrolling")
});
g.on("mouseup",function(s){d(".search-overlay-input",p).focus();
g.removeClass("fgx-is-scrolling")
});
d(".search-overlay-submit",p).on("click",function(){d(this).closest("form").submit()
});
d(document).click(function(s){if(d(".search-overlay.template").is(":visible")&&!d(s.target).closest(".search-overlay.template").length){setTimeout(function(){d(".navbar-static-top .drop-parent .dropdown-menu").show()
},350)
}})
}})(window,jQuery,FD.Brand,FD.Brand.Overlay,FD.Brand.Search,FD.Brand.Context);
(function(c,e,b,a){e.setInitHandler("[data-fgx-main-navigation-lincoln]",d);
function d(h){if(h.length==0){return
}if(a&&a.hideGlobalHeader){c(h).addClass("fgx-brand-hidden")
}var k=a&&a.mtxActions,g=k&&k.languageSelectorOverlayOpenAction||null;
c(".tertiary_menu",h).hide();
c(".tertiary_menu",h).first().show();
c(".tertiary-lists-items",h).first().addClass("selected");
window.FD.Brand.Dig.resolve(h);
c(".vehicle-groups li a, .vehicle-groups-mobile li a",h).on("click",function(s){s.preventDefault();
s.stopPropagation();
var q="."+c(this).parent().data("tertiary-link");
var r=q+" a";
c(".tertiary-lists-items",h).removeClass("selected");
c(this).parent().addClass("selected");
c(".tertiary_menu",h).hide();
c(q,h).show()
});
c(".mobile-menu.main",h).hide();
c(".navbar-toggle",h).on("click",function(q){q.preventDefault();
if(window.FD.Brand.Util.currentBreakpoint()=="gux-bkpt-sm"){c(".mobile-menu.main").toggle();
c(".navbar-toggle.collapsed").toggleClass("opened");
if(c(".mobile-menu.main").is(":visible")){c("body").addClass("no-scroll-sm");
c("html").css({overflow:"hidden",position:"relative",height:"100%"})
}else{c("body").removeClass("no-scroll-sm");
c("html").css({overflow:"",position:"",height:""});
c(".mobile-search-input",h).val("")
}if(c(".secondaryNavigation").length>0){if(c(".mobile-menu").is(":visible")){c(".mainNavigationLincoln .navbar-static-top").removeClass("nonsticky")
}else{c(".mainNavigationLincoln .navbar-static-top").addClass("nonsticky")
}}}});
var f="/"+window.location.href.replace(/^(?:\/\/|[^\/]+)*\//,"");
c("ul.nav li",h).each(function(){var q=c("a",this).attr("href");
if(q===f||q===window.location.href){c(this).addClass("open")
}});
c(".language",h).on("click",".dropdown",function(){var q=c(this).closest(".language");
if(!q.hasClass("open")){if(g){FD.Brand.Metrics.handler.direct(g)
}}});
c(".fgx-lang-link",h).on("click",function(q){if(FD.Brand.Link.switchLanguage(this)){q.preventDefault()
}});
var j=(a.make==="Ford")?"//www.ford.com/search/":"//www.lincoln.com/search/",p=a.settings["ngbsSearchUrl"+a.make+a.languageKey]||a.settings["ngbsSearchUrl"+a.make]||j;
$resultsContainer=c(".search-suggestions",h);
c("form",h).attr("action",p);
b.setReferrerApp(c(".form-wrapper",h));
c(".mobile-search-input",h).on("input",function(){if(c(this).val().length===0){$resultsContainer.hide()
}else{b.typeAheadResults(c(this).val(),$resultsContainer,c(this))
}});
c(".mobile-search-input",h).on("blur",function(){$resultsContainer.hide()
});
c(".mobile-search-submit",h).on("click",function(){c(this).closest("form").submit()
});
e.User.authentication.subscribe(o);
function o(r){c(".user [data-auth]",h).hide();
var q=c('.user [data-auth~="'+r.authType+'"]',h);
q.show();
if(r&&r.authType=="user"){e.User.profile.current().then(function(s){if(s&&s.firstName){q.each(function(){var t=c(this),u=(t.data("fgxItemTemplate")||t.text()).trim(),v=u.replace("{firstName}",s.firstName);
t.html(v)
})
}})
}}e.User.dealer.subscribe(m);
function m(r){var q=c(h);
var u=q.data("noDealerGnav")||"";
var s=q.data("savedDealerGnav")||"";
var t=(r.preferred)?s:u;
c(".dealer-gnav-update",q).each(function(){var v=c(this).attr("href");
if(v){v=n(v,t);
c(this).attr("href",v)
}})
}function n(t,x){var s="";
if(t&&typeof(t)!=="undefined"){var w=t.indexOf("?");
if(w>=0){var v=t.substring(w);
var r=t.substring(0,w);
var q=e.Util.url.queryString(v);
var u=e.Util.parameters.decode(x);
q=q.add(u);
s=r+q.asString()
}else{s=t+"?"+x
}}return s
}function l(){var q=window.FD.Brand.Util.currentBreakpoint();
if(q!=="gux-bkpt-sm"){c(".navbar-collapse.collapse",h).show()
}else{c(".navbar-collapse.collapse",h).hide()
}}l();
c(window).resize(function(){l()
})
}})(jQuery,FD.Brand,FD.Brand.Search,FD.Brand.Context);
(function(e,g,c,d,f,k,j,a,b){c.setInitHandler("[data-fgx-main-navigation]",h);
function h(q){if(q.length==0){return
}if(j&&j.hideGlobalHeader){e(q).addClass("fgx-brand-hidden")
}var s=j&&j.mtxActions,o=s&&s.languageSelectorOverlayOpenAction||null;
e(".tertiary_menu",q).hide();
e(".tertiary_menu",q).first().show();
e(".tertiary-lists-items",q).first().addClass("selected");
e("#colorfix").css("height",parseInt(e(".mainNavigation").css("height"),10)-1+"px");
window.FD.Brand.Dig.resolve(q);
q.each(function(){f.refresh(this)
});
e(".main-nav-items > li > a.dropdown",q).on("keydown",function(C){var D=e(this).parent("li");
if(C.which===32&&D.hasClass("open")){e(".mainNavOverlay").removeClass("open");
D.removeClass("open");
e(this).attr("aria-expanded","false");
C.preventDefault();
C.stopPropagation()
}});
e("li.tertiary-lists-items > a",q).on("keydown",function(C){if(C.which===32){e(this).trigger("click")
}});
var t=e("a.btn-secondary",q);
window.FD.Brand.Util.ctaHover(t);
var p=d.pricing.current(),v=(p&&p.planType)?p.planType.toLowerCase():"msrp",z="fgx-brand-pricing-"+v;
q.addClass(z);
e(".vehicle-groups li a, .vehicle-groups-mobile >li >a",q).on("click",function(F){F.preventDefault();
F.stopPropagation();
var C="."+e(this).parent().data("tertiary-link");
var E=C+" a";
var D=e("#"+e(this).attr("aria-controls"),q);
e(".tertiary-lists-items",q).removeClass("selected");
e(".tertiary-lists-items > a",q).attr("aria-expanded","false");
e(this).parent().addClass("selected");
if(!(window.FD.Brand.Util.currentBreakpoint()=="gux-bkpt-sm")){e(".tertiary_menu",q).hide();
e(this).attr("aria-expanded","true")
}else{if(D.attr("aria-hidden")===false||D.attr("aria-hidden")==="false"){e(this).attr("aria-expanded","false")
}else{e(this).attr("aria-expanded","true")
}}e(C,q).show()
});
e(".mobile-menu.main",q).hide();
e(".mobile-menu.main > .navbar",q).hide();
e(".navbar-toggle",q).on("click",function(C){C.preventDefault();
if(window.FD.Brand.Util.currentBreakpoint()=="gux-bkpt-sm"){e(".mobile-menu.main").toggle();
e(".mobile-menu.main > .navbar",q).toggle();
if(e(".secondaryNavigation").length>0){if(!e(".mainNavigation.toggled").length){e(".mainNavigation .navbar-static-top").removeClass("nonsticky")
}else{e(".mainNavigation .navbar-static-top").addClass("nonsticky")
}}if(!e(".mainNavigation.toggled").length){e(this).addClass("x-icon");
e(".mainNavigation").addClass("toggled");
e("body").addClass("no-scroll-sm");
e("html").css({overflow:"hidden",position:"relative",height:"100%"})
}else{e(this).removeClass("x-icon");
e(".mainNavigation").removeClass("toggled");
e("body").removeClass("no-scroll-sm");
e("html").css({overflow:"",position:"",height:""});
e(".mobile-search-input",q).val("")
}}});
e(".mobile-menu .secondary",q).hide();
e(".mobile-menu ul.mobile-main li a, .mobile-menu .secondary .icons ul li.drop-parent a",q).on("click",function(D){if(e(this).data("trigger-subnav")){D.preventDefault();
var E=".mobile-menu .secondary .icons ul li."+e(this).data("trigger-subnav");
e(".mobile-menu .secondary .icons ul li").removeClass("current");
e(E,q).addClass("current");
var C=".mobile-menu .secondary .items.item-"+e(this).data("trigger-subnav");
e(".mobile-menu .secondary .items",q).hide();
e(C,q).show();
e(".mobile-menu .secondary").show();
e(".mobile-menu ul.mobile-main").hide();
g.each(e(this).closest(".mobile-menu.main").find(".secondary").find(".navbar-nav"),function(F){e(F).show()
})
}});
e(".mobile-menu .secondary li.back a",q).on("click",function(C){C.preventDefault();
e(".mobile-menu .secondary").hide();
e(".mobile-menu ul.mobile-main").show()
});
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>a",q).on("click",function(C){C.preventDefault();
if(!e(this).next().hasClass("toggle-minheight")){e(this).find("span.icon").addClass("open");
e(this).find("span.text").addClass("active");
g.each(e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul"),function(D){g.each(e(D).find("li"),function(E){e(E).css("top","")
})
});
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul.toggle-minheight").prev().find(e(".text.active")).removeClass("active");
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul.toggle-minheight").prev().find(e("span.icon")).removeClass("open");
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul",q).removeClass("toggle-minheight");
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul",q).attr("aria-hidden","true")
}else{e(this).find("span.icon").removeClass("open");
e(this).find("span.active").removeClass("active");
g.each(e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul"),function(E){var F=200,D=1;
g.each(e(E).find("li"),function(G){e(G).css("top",(D*F));
D+=1
})
})
}e(this).next().toggleClass("toggle-minheight");
if(e(this).next().hasClass("toggle-minheight")){e(this).next().attr("aria-hidden","false")
}else{e(this).next().attr("aria-hidden","true")
}});
var r=(j.make==="Ford")?"//www.ford.com/search/":"//www.lincoln.com/search/",B=j.settings["ngbsSearchUrl"+j.make+j.languageKey]||j.settings["ngbsSearchUrl"+j.make]||r;
$resultsContainer=e(".search-suggestions",q);
e("form",q).attr("action",B);
k.setReferrerApp(e(".form-wrapper",q));
e(".mobile-search-input",q).on("input",function(){if(e(this).val().length===0){$resultsContainer.hide()
}else{k.typeAheadResults(e(this).val(),$resultsContainer,e(this))
}});
e(".mobile-search-input",q).on("blur",function(){$resultsContainer.hide()
});
e(".mobile-search-submit",q).on("click",function(){e(this).closest("form").submit()
});
e(".mobile-menu .saved-dealer .address .phone",q).on("click","a",function(){var C=q.attr("data-fd-metrics-call-dealer");
if(C&&typeof(C)!="undefined"){if(FD&&FD.Brand&&FD.Brand.Metrics&&FD.Brand.Metrics.handler){FD.Brand.Metrics.handler.direct(C)
}}});
e(".language.drop-item",q).on("click",".dropdown-item",function(){var C=e(this).closest(".language.drop-item");
if(!C.hasClass("open")){if(o){FD.Brand.Metrics.handler.direct(o)
}}});
e(".fgx-lang-link",q).on("click",function(C){if(FD.Brand.Link.switchLanguage(this)){C.preventDefault()
}});
e('[data-toggle="dropdown"]',q).on("click",function(C){C.preventDefault()
});
e(window).load(function(){g.each(e(".mobile-menu>.navbar>.secondary>.items>.nav.navbar-nav>.tertiary-lists-items"),function(E){var D=200,C=1;
g.each(e(E).find(".tertiary_menu > li"),function(F){e(F).css("top",(C*D));
C+=1
})
})
});
var y=null;
e(".dropdown-item",q).on("click",function(C){if(e(".main-nav-items .drop-item.open").length&&y!=this.innerHTML){e(this).closest(".nav.main-nav-items").addClass("no-transition")
}else{e(this).closest(".nav.main-nav-items").removeClass("no-transition")
}if((e(this).closest(".user.drop-item").length||e(this).closest(".language.drop-item").length)&&e(".main-nav-items .drop-item.open").length){e(".main-nav-items").removeClass("no-transition")
}if(y==this.innerHTML||y===null){e(".mainNavOverlay").toggleClass("open")
}if(y!=this.innerHTML&&!e(".mainNavOverlay").hasClass("open")){e(".mainNavOverlay").toggleClass("open")
}y=this.innerHTML
});
e("body").on("click",function(D){if(!e(D.target).closest(".mainNavigation").length||(!e(D.target).hasClass("dropdown-item")&&!e(D.target).closest(".dropdown-item").length)){if(e(D.target).hasClass("fgx-tooltip-close")){return
}var C=e(".mainNavOverlay")[0];
e(C).removeClass("open");
e(".main-nav-items .drop-item").closest(".nav.main-nav-items").removeClass("no-transition")
}});
e(".saved-dealer",q).on("click",function(C){if(!C.target.classList.contains("smsbutton")){C.stopPropagation();
var D=e(C.target).parent("a");
if(typeof D.attr("data-fd-metrics-click")!="undefined"){FD.Brand.Metrics.handler.direct(D.attr("data-fd-metrics-click"))
}}});
d.authentication.subscribe(A);
function A(D){e(".user [data-auth]",q).hide();
var C=e('.user [data-auth~="'+D.authType+'"]',q);
C.show();
if(D&&D.authType=="user"){d.profile.current().then(function(E){if(E&&E.firstName){C.each(function(){var F=e(this),G=(F.data("fgxItemTemplate")||F.text()).trim(),H=G.replace("{firstName}",E.firstName);
F.html(H)
})
}})
}}d.dealer.subscribe(w);
function w(D){var L=e(".lad [data-nodealer]",q),S=e(".lad .dealer-wrap",q),H=e(".lad [data-dealer]",q),V=e(".lad [data-dealer-distance]",q),Q=e(".lad .show-saved-dealer",q);
var W=V.data("distance-label");
var R=e(".mainNavigation");
var N=R.data("noDealerGnav")||"";
var K=R.data("savedDealerGnav")||"";
var M=R.data("dealerAppContext")||"";
if(D.preferred){if(Q.length){L.hide();
if(typeof q.attr("data-fd-metrics-saved-dealer-expand")!="undefined"){e(".lad > a",q).attr("data-fd-metrics-click",q.attr("data-fd-metrics-saved-dealer-expand"))
}}else{var X=R.data("moredealershref");
X=x(X,N);
e(".lad > a",q).attr("href",X);
e(".navbar-collapse .navbar-right .lad > a",q).removeAttr("data-toggle");
e(".mobile-menu .lad",q).removeClass("drop-parent");
e(".mobile-menu .lad > a",q).removeClass("lad-trigger");
e(".mobile-menu .lad > a",q).removeAttr("data-trigger-subnav");
e(".mobile-menu .lad > a .icon-action-chevron-large",q).hide();
return
}var F=(D.preferred.Distance)?D.preferred.Distance+" "+W:"";
S.css("display","inline-block");
H.css("display","inline").text(D.preferred.Name);
V.css("display","block").text(F);
var I=R.data("sales-open-until");
var J=R.data("sales-open-again");
var E=R.data("dealerdetailhref");
var X=R.data("moredealershref");
var C=R.data("hours-displaytype");
var E=(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig)?FD.Brand.Component.locateDealerConfig.dealerDetailPageUrl:"";
var T=(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig)?FD.Brand.Component.locateDealerConfig.hideDealerRatings:"";
if(E==null||E==undefined){E=X
}var P=a.updateDealer(D.preferred,0,I,J,null,E,C);
if(P!=null){var U;
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig){U=FD.Brand.Component.locateDealerConfig
}e(".lad > a",q).attr("href","#");
e(".navbar-collapse .navbar-right .lad > a",q).attr("data-toggle","dropdown");
e(".mobile-menu .lad",q).attr("class","drop-parent lad");
e(".mobile-menu .lad > a",q).attr("class","lad-trigger");
e(".mobile-menu .lad > a",q).attr("data-trigger-subnav","lad");
e(".mobile-menu .lad > a .icon-action-chevron-large",q).show();
e(".saved-dealer .name p",q).text(P.Name);
if(P.combinedRatingsPercentage&&!T){e(".saved-dealer .dealer-no-ratings",q).hide();
e(".saved-dealer .dealer-rating .decimal-rating",q).text(P.combinedRating||"");
e(".saved-dealer .dealer-rating .star-ratings .star-ratings-top",q).css("width",P.combinedRatingsPercentage);
e(".saved-dealer .dealer-rating .ratings-count .count",q).text(P.combinedRatingsCount);
e(".saved-dealer .dealer-rating .ratings-count .icon").on("click",function(Y){Y.preventDefault();
Y.stopImmediatePropagation();
if(FD.Brand.Overlay){FD.Brand.Overlay.show("dealerRatingsInfo",true,e(this))
}})
}else{if(T){e(".saved-dealer .dealer-no-ratings",q).hide();
e(".saved-dealer .dealer-rating",q).hide()
}else{e(".saved-dealer .dealer-rating",q).hide()
}}if(F!==""){e(".saved-dealer .distance-hours .distance",q).text(F+" | ")
}else{e(".saved-dealer .distance-hours .distance",q).text("")
}if(P.SalesHoursDescription!==""){e(".saved-dealer .distance-hours .hours",q).text(P.SalesHoursDescription)
}else{e(".saved-dealer .distance-hours .hours",q).text("")
}e(".saved-dealer .address .street",q).text(P.AddressStreet);
e(".saved-dealer .address .city-state-zip",q).text(P.AddressCityStateZip);
var G=P.Phone;
if(P.dlrcalltrk_lad&&P.dlrcalltrk_lad!==""){G=P.dlrcalltrk_lad
}else{if(P.ldlrcalltrk_lad&&P.ldlrcalltrk_lad!==""){G=P.ldlrcalltrk_lad
}}e(".saved-dealer .address .phone",q).text(G);
e(".mobile-menu .saved-dealer .address .phone",q).html('<a href="tel:'+G+'">'+G+"</a>");
var O=x(P.DeepLinkUrl,K);
O=l(O,M);
e(".saved-dealer .dealer-detail-link",q).attr("href",O);
e(".saved-dealer .actions .dealer-directions a",q).attr("href",P.MapURL);
e(".mobile-menu .saved-dealer .actions .dealer-directions a",q).attr("href",P.MobileMapUrl);
if(j.region!=="CA"){b.dealerChatStatus({dealerPACode:P.PACode,make:j.make}).done(function(Z){if(Z&&Z.url){var Y=Z.url;
e(".saved-dealer .actions .dealer-chat a",q).on("click",function(aa){aa.preventDefault();
aa.stopImmediatePropagation();
FD.Brand.Metrics.handler.direct(e(this).attr("data-fd-metrics-click"));
window.open(Y,"_blank","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,width=350,height=620")
})
}else{e(".saved-dealer .actions .dealer-chat",q).hide()
}})
}else{e(".saved-dealer .actions .dealer-chat",q).hide()
}if(FD.Brand.Context.showTextDealer&&P.lctextoptin>0&&P.TextUrl){e(".navbar-collapse .navbar-right .saved-dealer .actions .text-dealer a",q).attr("data-numbers","sales=sms://+1"+P.TextUrl);
e(".navbar-collapse .navbar-right .saved-dealer .actions .text-dealer a",q).attr("data-title",P.Name);
e(".mobile-menu .saved-dealer .actions .text-dealer a",q).attr("href","sms://+1"+P.TextUrl)
}else{e(".saved-dealer .actions .text-dealer",q).hide()
}e(".dealer-gnav-update",q).each(function(){var Y=e(this).attr("href");
if(Y){Y=x(Y,K);
e(this).attr("href",Y)
}})
}}else{L.show();
S.hide();
H.hide().text("");
V.hide().text("");
var X=R.data("moredealershref");
X=x(X,N);
e(".lad > a",q).attr("href",X);
e(".navbar-collapse .navbar-right .lad > a",q).removeAttr("data-toggle");
e(".mobile-menu .lad",q).removeClass("drop-parent");
e(".mobile-menu .lad > a",q).removeClass("lad-trigger");
e(".mobile-menu .lad > a",q).removeAttr("data-trigger-subnav");
e(".mobile-menu .lad > a .icon-action-chevron-large",q).hide()
}}function x(D,G){var C="";
if(D&&typeof(D)!=="undefined"){if(typeof(G)!="undefined"&&G!==""){var E=c.Util.url.urlObject(D),F=c.Util.parameters.decode(G);
E.qs.add(F);
C=E.url()
}else{C=D
}}return C
}function l(D,F){var C="";
if(D&&typeof(D)!=="undefined"){if(F&&typeof(F)!=="undefined"&&F!==""){var E=c.Util.url.urlObject(D),G="/context/"+F;
E.setHash(G,true);
C=E.url()
}else{C=D
}}return C
}var m=e(".navbar.navbar-default.navbar-static-top").find(e(".tertiary-lists-items"));
for(i=0;
i<m.length;
i++){e(m[i]).addClass("segmentHover")
}function n(){var H=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,G=e("nav.navbar-default",q).height(),D=e("nav.navbar ul.main-nav-items li.vehicles .dropdown-menu nav.navbar",q).height(),F=H-(G+D)-50,C="nav.navbar ul.main-nav-items li.vehicles .dropdown-menu div.tertiary .container",E="nav.navbar ul.main-nav-items li.dropdown.drop-parent .dropdown-menu";
e(C,q).css("max-height",F+"px");
e(E,q).css("max-height",F+"px")
}function u(){var C=window.FD.Brand.Util.currentBreakpoint();
if(C!=="gux-bkpt-sm"){e(".navbar-collapse.collapse",q).show()
}else{e(".navbar-collapse.collapse",q).hide()
}n()
}u();
e(window).resize(function(){u()
})
}})(jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.User,FD.Brand.Pricing,FD.Brand.Search,FD.Brand.Context,FD.Brand.Dealer,FD.Brand.NgpServices);
(function(e,f,h,b,a){var d;
var c=null;
h.setInitHandler("[data-fgx-language-selector]",g);
function g(m){var l=a&&a.mtxActions,j=l&&l.languageSelectorOverlayOpenAction||null,n=l&&l.changeLanguageAction||null;
d=b.register("languageSelector",m,{show:function(){if(j){FD.Brand.Metrics.handler.direct(j)
}}});
e(".icon-close",m).on("click",function(){d.hide()
});
e(".continue-lang-btn",m).on("click",function(){d.hide()
});
e(".fgx-lang-link",m).on("click",function(o){if(FD.Brand.Link.switchLanguage(this)){o.preventDefault()
}if(n){FD.Brand.Metrics.handler.direct(n)
}d.hide()
});
if(e("html").hasClass("fgx-brand-Ford")){var k=e("a.btn-primary.cta, a.btn-secondary.cta, a.btn-secondary-alt.cta",m);
window.FD.Brand.Util.ctaHover(k)
}if(f.mp_langLink){e(".mplangLink").each(function(o,p){p.onclick=null
});
f.mp_langLink()
}if(window.location.hash=="#$languageSelector"){setTimeout(function(){window.location.hash=""
},50)
}}})(jQuery,window,FD.Brand,FD.Brand.Overlay,FD.Brand.Context);
(function(c,f,b,a){f.setInitHandler("[data-fgx-global-footer]",d);
var e;
function d(l){var h=(a.make==="Ford")?"//www.ford.com/search/":"//www.lincoln.com/search/";
var g=a.settings["ngbsSearchUrl"+a.make+a.languageKey]||a.settings["ngbsSearchUrl"+a.make]||h;
e=c(".search-suggestions",l);
$resultsAlert=c(".search-suggestions-info",l);
if(l.length==0){return
}if(a&&a.hideGlobalFooter){c(l).addClass("fgx-brand-hidden")
}c(".navbar-form",l).attr("action",g);
b.setReferrerApp(c(".navbar-form .form-group",l));
function j(){var o=window.FD.Brand.Util.currentBreakpoint();
var n=[];
if(o==="gux-bkpt-sm"){n=[".shop",".finance",".owner",".experience"]
}else{if(o==="gux-bkpt-med"){n=[".finance",".owner",".experience"]
}else{}}return n
}function k(n){var o=j();
c.each(o,function(p,r){var q=c(".globalFooter li"+r).children("ul")[0].parentElement;
if(q!=n[0].parentElement){c(".globalFooter li"+r).children("ul").hide();
c(".globalFooter li"+r).attr("aria-pressed","false")
}});
n.toggle()
}function m(n){c(".globalFooter li").children("ul").show();
c(".globalFooter li[tabindex]").each(function(){c(this).removeAttr("tabindex role data-fgx-keypress aria-pressed")
});
c(".globalFooter li").off();
c.each(n,function(o,p){c(".globalFooter li"+p).attr("tabindex","0").attr("role","button").attr("data-fgx-keypress","true").attr("aria-pressed","false");
c(".globalFooter li"+p).children("ul").hide();
c(".globalFooter li"+p).on("click",function(){k(c(this).children("ul"));
if(c(this).children("ul").is(":visible")){c(this).attr("aria-pressed","true");
FD.Brand.Metrics.handler.direct(c(this).attr("data-fd-metrics-open"))
}})
})
}c(".search-input",l).on("input",function(){if(c(this).val().length===0){e.hide();
$resultsAlert.text("");
c(this).attr("aria-expanded","false")
}else{b.typeAheadResults(c(this).val(),e,c(this),$resultsAlert)
}});
c(".search-input",l).on("keydown",function(n){if(n.which===40&&(c(this).attr("aria-expanded")==="true"||c(this).attr("aria-expanded")===true)){var o=e.find("li").first();
o.focus()
}});
c(".search-input",l).on("blur",function(){setTimeout(function(){var n=c(document.activeElement);
if(!n.hasClass("search-res-item")&&!e.hasClass("fgx-is-scrolling")){e.hide();
$resultsAlert.text("");
c(".search-input",l).attr("aria-expanded","false");
c(".search-input",l).removeAttr("aria-activedescendant");
c(".search-res-item",l).attr("aria-selected","false")
}else{if(n.hasClass("search-res-item")){c(".search-res-item",l).on("focusout",function(){setTimeout(function(){var o=c(document.activeElement);
if(!o.hasClass("search-res-item")&&!o.hasClass("search-input")){e.hide();
$resultsAlert.text("");
c(".search-input",l).attr("aria-expanded","false");
c(".search-res-item",l).off("focusout")
}},100)
})
}}},100)
});
e.on("mousedown",function(n){e.addClass("fgx-is-scrolling")
});
e.on("mouseup",function(n){c(".search-input",l).focus();
e.removeClass("fgx-is-scrolling")
});
c(".search-submit",l).on("click",function(){c(this).closest("form").submit()
});
c(window).resize(function(){m(j())
});
m(j())
}})(jQuery,FD.Brand,FD.Brand.Search,FD.Brand.Context);
(function(d,g,k,a,b,c){a.setInitHandler("[data-fgx-simple-choice]",l);
a.setInitHandler("[data-fgx-simple-choice-overlay-list]",j);
var e={};
var h={none:{description:"None",fn:function(){return false
}},pageLoad:{description:"Page Load",fn:function(){return true
}},pageLoadOnce:{description:"Page Load (once per session)",fn:function(n){return f(n)
}},pricePlanAZ:{description:"A/Z Plan Participant",fn:function(n){return c.pricing.current().pricePlan==="AZPLAN"&&f(n)
}},pricePlanX:{description:"X Plan Participant",fn:function(n){return c.pricing.current().pricePlan==="XPLAN"&&f(n)
}},externalUrl:{description:"External Url Click",fn:function(o,n){m(o,n);
return false
}}};
function f(o){var n="fgx-simple-choice-trigger-"+o;
if(g.sessionStorage.getItem(n)){return false
}g.sessionStorage.setItem(n,1);
return true
}function l(n){n.each(function(){var p=d(this);
var r=p.data("fgx-overlay-id");
var o=p.data("fgx-overlay-trigger");
var q=b.register(r,p);
d(".icon-close",p).on("click",function(){q.hide()
});
if(o&&h[o]&&h[o].fn(r,q)){q.show(true,undefined,"a")
}})
}function j(n){if(a.Ext){a.Ext.simpleChoice={triggerOptions:function(){return k.map(h,function(p,o){return{value:o,text:p.description}
})
}}
}}function m(s,q){var n="#!"+s;
var p="a[href$='"+n+"']";
var o=function(){var u=d(this);
var t=u.attr("href");
t=t.substring(0,t.length-n.length);
u.attr("href",t).on("click.fgxBrandExternal",r);
u.attr("data-set-external-click-handler",true)
};
var r=function(x,u){var t=d.extend(true,{},x);
x.preventDefault();
var w=d(this);
var v=w.attr("href");
var y=w.attr("target");
q.$el.off("click.cta");
q.$el.one("click.cta",".cta-one a",function(){q.hide();
FD.Brand.Metrics.handler.direct(d(this).attr("data-fd-metrics-click"));
w.off("click.fgxBrandExternal");
if(!u){w.trigger("click")
}var z=w.attr("data-set-external-click-handler");
if(z==="true"){w.on("click.fgxBrandExternal",r)
}if(y==="_blank"){window.open(v)
}else{window.location.assign(v)
}return false
});
q.$el.one("click.cta",".cta-two a",function(){q.hide();
FD.Brand.Metrics.handler.direct(d(this).attr("data-fd-metrics-click"));
return false
});
q.show(true,w,"a.btn");
return false
};
d(p).each(o);
d("body").on("click",p,function(t){o.call(this);
r.call(this,t)
}).on("click","[data-external-url]",r);
if(g.angular){g.angular.module("fgx.directives").directive("fgxExternalUrl",[function(){return{restrict:"A",link:function(u,t){t.on("click",function(v){return r.call(t,v)
})
}}
}])
}e[s]={externalUrl:r};
k.extend(FD.Brand.namespace("FD.Brand.Link",g),{exitOverlays:e,externalUrl:r})
}})(jQuery,window,FD.Brand.lodash,FD.Brand,FD.Brand.Overlay,FD.Brand.User);
(function(b,c,e,a){e.setInitHandler("[data-fgx-link-dropdown]",d);
function d(f){if(f.length===0){return
}b(".fgx-custom-select",f).on("click",function(){var h=b(this),k=h.find(".fgx-custom-select-dropdown"),j=h.find(".fgx-custom-select-container"),g=j.closest(".fgx-custom-select"),l=k.find("ul");
if(a.currentBreakpoint()==="gux-bkpt-sm"&&h.closest(".table-container").length===1){if(!k.hasClass("shown")){g.addClass("fgx-custom-margin-btm")
}else{g.removeClass("fgx-custom-margin-btm")
}}k.toggleClass("shown");
j.toggleClass("shown");
h.attr("aria-expanded",k.hasClass("shown"));
l.attr("aria-hidden",!k.hasClass("shown"))
});
b(".fgx-custom-select",f).on("click","li",function(k){var j=b(this),g=b(k.target),l=j.find("a").first();
$dropdown=j.closest(".fgx-custom-select-dropdown"),$combobox=j.closest(".fgx-custom-select"),$listbox=$dropdown.find("ul");
$dropdown.removeClass("shown");
$combobox.attr("aria-expanded",$dropdown.hasClass("shown"));
$combobox.attr("aria-activedescendant",j.attr("id"));
$listbox.attr("aria-hidden",!$dropdown.hasClass("shown"));
b("li",$listbox).attr("aria-selected","false");
j.attr("aria-selected","true");
if(g.is("li")){var n=l.attr("target");
var h=l.attr("href");
if(n==="_blank"){var m=window.open(h,"_blank");
m.focus()
}else{location.href=h
}}})
}})(jQuery,window,FD.Brand,FD.Brand.Util);
(function(d,e,h){var c=null;
h.setInitHandler("[data-fgx-glossary-page]",g);
function g(j){d(".mobile-dropdown-display",j).click(function(){d(this).parent(".custom-dropdown").toggleClass("open")
});
d(j).on("click",".tabbed-list li",function(){var k=d(this);
if(!k.hasClass("disabled")){k.addClass("selected").siblings().removeClass("selected");
k.attr("aria-pressed","true").siblings().attr("aria-pressed","false");
d(".selected-option",j).text(k.text());
a(k.attr("data-section"))
}});
if(e.addEventListener){e.addEventListener("hashchange",f)
}else{e.onhashchange=f
}if(!f()){d(".tabbed-list li").not(".disabled").first().click()
}}function a(j){if(j){d(".glossary-section-content[data-section='"+j+"']").show().siblings().hide()
}else{d(".glossary-section-content").show()
}b(j)
}function f(){var j=e.location.hash;
if(j){j=j.substr(1);
if(j==="*"){j=""
}if(c===j){return
}d(".tabbed-list li[data-section='"+j+"']").click();
c=j;
return true
}}function b(k){k=k||"*";
c=k;
if(e.history.replaceState){var j=e.location.href;
j=j.substr(0,j.length-e.location.hash.length)+((k)?"#"+k:"");
e.history.replaceState({},document.title,j)
}}})(jQuery,window,FD.Brand);
(function(c,d,f,a){var b=null;
f.setInitHandler("[data-fgx-anchor-link-bar]",e);
function e(k){if(k.length===0){return
}k.each(function(n){var r=c(this);
if(r.hasClass("m-link-dropdown")){var q=r.find(".fgx-custom-select"),s=q.find(".fgx-custom-select-current"),p=q.find(".fgx-anchorLinkBar-link-item.first-item"),m=p.attr("data-fgx-link-text"),t=p.attr("data-fgx-icon-class"),o=q.attr("aria-owns").replace("{{compIdx}}",n);
q.attr("aria-owns",o);
q.find("[data-fgx-id-template]").each(function(){var u=c(this).attr("data-fgx-id-template").replace("{{compIdx}}",n);
c(this).attr("id",u)
});
if(s){j(s,m,t)
}}});
c(".anchors",k).on("click","li",function(m){g.call(this)
});
c(".fgx-custom-select",k).on("click",function(){var m=c(this),o=m.find(".fgx-custom-select-dropdown"),n=m.find(".fgx-custom-select-container"),p=o.find("ul");
o.toggleClass("shown");
n.toggleClass("shown");
m.attr("aria-expanded",o.hasClass("shown"));
p.attr("aria-hidden",!o.hasClass("shown"))
});
c(".fgx-custom-select",k).on("click","li",function(t){var w=c(this),v=c(t.target),o=w.find("a").first();
$dropdown=w.closest(".fgx-custom-select-dropdown"),$combobox=w.closest(".fgx-custom-select"),$listbox=$dropdown.find("ul"),$current=$combobox.find(".fgx-custom-select-current"),linkText=w.attr("data-fgx-link-text"),iconClass=w.attr("data-fgx-icon-class"),activeId=w.attr("data-fgx-anchor-id");
$combobox.attr("aria-activedescendant",w.attr("id"));
c("li",$listbox).attr("aria-selected","false");
w.attr("aria-selected","true");
if($current){var q=j($current,linkText,iconClass);
if(q){var s=$combobox.closest(".anchor-link-bar").find(".anchors");
s.find(".navbar-nav").each(function(){var y=c(this),x=y.attr("data-fgx-anchor-id");
y.toggleClass("active-link",(x===activeId))
})
}}if(v.is("li")){var m=o.attr("href"),u=c(m),n=c(".navbar-static-top"),p=(u&&u.length>0)?u.offset().top:55,r=(n.length)?p-n.height():p;
h(m.substr(1));
c("html").animate({scrollTop:r},0)
}b=activeId
});
if(d.addEventListener){d.addEventListener("hashchange",l)
}else{d.onhashchange=l
}l();
function g(){var u=c(this);
if(u.hasClass("active-link")){return
}var r=u.closest(".anchors"),o=r.closest(".anchor-link-bar"),q=u.attr("data-fgx-anchor-id");
r.find(".active-link").removeClass("active-link");
u.addClass("active-link");
if(o.hasClass("m-link-dropdown")){var n=u.attr("data-fgx-link-text"),t=u.attr("data-fgx-icon-class"),p=o.find(".fgx-custom-select"),s=p.find(".fgx-custom-select-dropdown ul"),m="";
s.find(".fgx-anchorLinkBar-link-item").each(function(){var v=c(this),w=v.attr("data-fgx-anchor-id");
if(w===q){v.attr("aria-selected","true");
m=v.attr("id")
}else{v.attr("aria-selected","false")
}});
if(m!=""){p.attr("aria-activedescendant",m)
}j(o.find(".fgx-custom-select .fgx-custom-select-current"),n,t)
}b=q
}function l(){var n=d.location.hash;
var m=null;
if(n){var o=n.substr(1);
if(b===o){return
}var p='.navbar-nav[data-fgx-anchor-id="'+o+'"]';
m=c(p,k)
}if(m){g.call(m);
b=n.substr(1)
}}function j(s,r,m){if(!s||(s&&s.length==0)){return false
}var p="",o=false;
if(m){var n='<i class="fgx-icon '+m+'" aria-hidden="true"></i>';
p+=n
}if(r){var q='<span class="link-text">'+r+"</span>";
p+=q
}if(p!=""){s.html(p);
o=true
}return o
}function h(m){if(m&&(m!==b)){d.location.hash=m;
b=m
}}}})(jQuery,window,FD.Brand,FD.Brand.Util);
(function(e,c,b){c.setInitHandler("[data-fgx-gallery-trigger-reveal]",k);
var g=8,d=9,a="gux-bkpt-med",h="gux-bkpt-med";
function k(l){l.each(function(){var q=e(this).find(".content-section"),p=e(this).find(".view-more");
q.each(function(){var w=e(this).find(".fgx-brand-gallery-items-wrap .gallery-tile"),s=w.length,v=e(this).hasClass("active"),t=1,u=g;
if(a==="gux-bkpt-med"){u=d
}w.each(function(){if(t>u){e(this).addClass("hidden")
}t++
});
if(v&&(s>u)){p.removeClass("hidden")
}});
var m=e(this).find(".section-tab");
m.each(function(){if(e(this).hasClass("active")){e(this).attr("aria-pressed","true")
}else{e(this).attr("aria-pressed","false")
}});
var r=e(this).find(".moreDesc");
var n=e(this).find(".lessDesc");
var o=e(this).find(".description-more");
r.click(function(){o.toggle();
e(this).hide();
n.focus()
});
n.click(function(){o.toggle();
r.show();
r.focus()
})
});
e(".view-more",l).click(function(n){n.preventDefault();
var o=e(this).parent(".content-sections").find(".content-section.active"),q=o.find(".fgx-brand-gallery-items-wrap .gallery-tile.hidden"),p=q.length,m=1;
CURR_MIN_DISPLAY=g;
if(a==="gux-bkpt-med"){CURR_MIN_DISPLAY=d
}q.each(function(){if(m<=CURR_MIN_DISPLAY){e(this).removeClass("hidden");
if(m==1){e(this).focus()
}}else{return false
}m++
});
if(p<=CURR_MIN_DISPLAY){e(this).addClass("hidden")
}});
e(".section-tab",l).click(function(){if(e(this).hasClass("active")){return
}var n=e(this),m=n.closest(".btn-wrapper"),p=m.closest(".header-wrapper"),t=p.siblings(".content-sections"),r=t.find(".content-section"),q=t.find(".view-more"),o=n.data("tabId"),s=0;
r.each(function(){var u=e(this).data("tabId");
if(u===o){e(this).addClass("active");
s=e(this).find(".fgx-brand-gallery-items-wrap .gallery-tile.hidden").length
}else{e(this).removeClass("active")
}});
m.find(".section-tab").each(function(){e(this).removeClass("active");
e(this).attr("aria-pressed","false")
});
n.addClass("active");
n.attr("aria-pressed","true");
if(s>0){q.removeClass("hidden")
}else{q.addClass("hidden")
}});
e(window).resize(function(){f(l)
});
f(l);
b.link(l)
}function f(l){a=c.Util.currentBreakpoint();
if(a!==h){j(l);
h=a
}}function j(l){l.each(function(){var n=e(this).find(".content-section"),m=e(this).find(".view-more");
n.each(function(){var r=e(this).find(".fgx-brand-gallery-items-wrap .gallery-tile"),o=r.length,q=e(this).hasClass("active"),p=1;
CURR_MIN_DISPLAY=g;
if(a==="gux-bkpt-med"){CURR_MIN_DISPLAY=d
}r.each(function(){if(p>CURR_MIN_DISPLAY){e(this).addClass("hidden")
}else{e(this).removeClass("hidden")
}p++
});
if(q&&(o>CURR_MIN_DISPLAY)){m.removeClass("hidden")
}})
})
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
(function(a,d,b){d.setInitHandler("[data-fgx-gallery-trigger]",c);
function c(e){e.each(function(){if(a(this).hasClass("hide-cta")){return true
}var g=a(this).data("ctaText");
var f=a(this).data("ctaAriaLabel");
var o=a(this).data("ctaLink");
var l=a(this).data("ctaTarget");
var h=(a(this).data("ctaBgcolor"))?a(this).data("ctaBgcolor"):"";
var k=a(this).find(".gallery-items-wrap .gallery-tile");
var n=k.eq(7);
var m=k.slice(8);
if(h&&h!=""&&!a(this).hasClass("cta-bg-opaque")){h+="opacity:0.8;"
}a("a.gallery-link",n).prop("href",o);
a("a.gallery-link",n).attr("aria-label",f);
a("a.gallery-link",n).prop("target",l);
a("a.gallery-link",n).attr("style",h);
a("a.gallery-link .gallery-text",n).html(g);
var j=a("a.gallery-link .gallery-text",n).find("span").css("color");
if(j!=""){a("a.gallery-link .icon-action-chevron-right-25px",n).css("color",j)
}n.attr("role","none").attr("tabindex",null).attr("data-overlay-item",null).attr("data-overlay-item-trigger",null).attr("data-fgx-keypress",null).attr("data-fd-metrics-click",null).addClass("gallery-link-tile");
m.attr("role","none").attr("tabindex",null).attr("data-overlay-item",null).attr("data-overlay-item-trigger",null).attr("data-fgx-keypress",null).attr("data-fd-metrics-click",null)
});
b.link(e)
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
(function(a,d,b){d.setInitHandler("[data-fgx-gallery-category]",c);
function c(j){var e=7,h="gux-bkpt-med",f=0;
j.each(function(){var n=a(this).find(".gallery-items-wrap .gallery-tile"),l=n.length,m=1;
n.each(function(){switch(m%e){case 1:case 2:case 3:case 4:a(this).addClass("first-row");
break;
case 5:case 6:case 0:a(this).addClass("second-row");
break
}if(m>e){a(this).addClass("hidden")
}m++
});
if(l>e){a(this).find(".view-more").removeClass("hidden")
}n.first().addClass("first-tile");
a(this).find(".mobile-row .tile-count").html(l+" images")
});
function k(){h=window.FD.Brand.Util.currentBreakpoint()
}function g(n){var p=n.find(".gallery-items-wrap .gallery-tile"),m=p.length,o=1;
p.each(function(){switch(o%10){case 1:case 9:a(this).addClass("mobile-width-sm");
break;
case 2:case 8:a(this).addClass("mobile-width-lg");
break;
case 3:case 4:case 6:case 7:a(this).addClass("mobile-width-md");
break;
case 5:case 0:a(this).addClass("mobile-width-xl");
break
}if(o>10){a(this).addClass("hidden")
}else{if(o<=10&&a(this).hasClass("hidden")){a(this).removeClass("hidden")
}}o++
});
var l=n.find(".view-more");
if(m>10){l.removeClass("hidden")
}else{l.addClass("hidden")
}}a("a.view-more",j).click(function(n){n.preventDefault();
if(h==="gux-bkpt-sm"){a(".video-icon-wrap",j).show()
}var p=a(this).parent(".gallery-category").find(".gallery-items-wrap .gallery-tile.hidden"),o=p.length,m=1,l=(h==="gux-bkpt-sm")?10:7;
p.each(function(){if(m<=l){a(this).removeClass("hidden");
if(m==1){a(this).focus()
}}else{return false
}m++
});
if(o<=l){a(this).addClass("hidden")
}});
a(".gallery-tile.first-tile .gallery-img img, .mobile-row",j).click(function(l){if(h==="gux-bkpt-sm"){a(".video-icon-wrap",j).show();
var m=a(this).parents(".gallery-category");
if(!m.hasClass("mobile-category-detail")){l.stopPropagation();
m.addClass("mobile-category-detail");
j.each(function(){if(!a(this).hasClass("mobile-category-detail")){a(this).addClass("desktop-only")
}});
g(m);
f=a(window).scrollTop();
a(window).scrollTop(0);
a(".gallery-back",j).focus();
d.Metrics.handler.direct(m.attr("data-fd-metrics-category-click"))
}}});
a(".gallery-back",j).click(function(){if(h==="gux-bkpt-sm"){a(".video-icon-wrap",j).hide();
var l=a(this).parents(".gallery-category");
l.removeClass("mobile-category-detail");
j.each(function(){a(this).removeClass("desktop-only")
});
a(window).scrollTop(f)
}});
a(window).resize(function(){k();
if(h!=="gux-bkpt-sm"){a(".video-icon-wrap",j).show()
}else{if(!a(".mobile-category-detail.gallery-category").length){a(".video-icon-wrap",j).hide()
}}});
k();
b.link(j)
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
(function(a,c){c.setInitHandler("[data-fgx-gallery-brand]",b);
function b(d){c.MediaOverlay.link(d);
a(".social-view-all",d).click(function(e){var h=a(this).closest("[data-fgx-gallery-brand]");
var f=a(".hidden-tile",h).is(":visible");
var n="data-fd-metrics-view-all";
a(".hidden-tile",h).toggleClass("tile-show",!f);
a(".viewLess",h).toggle(!f);
a(".viewAll",h).toggle(f);
a(".view-glyph",h).toggleClass("icon-plus-outline-50px",f).toggleClass("icon-minus-outline-50px",!f);
if(f){var j=a(".galleryBrand.section .container.social-view-all.mobile").offset().top-a(window).scrollTop();
var m=0;
a(".brand-gallery .flexinline .hidden-tile").each(function(){m+=a(this).outerHeight()
});
var k=a(document).height()-a(window).height()+m;
var l=k-(a(".galleryBrand.section .container.social-view-all.mobile").offset().top+a(".galleryBrand.section .container.social-view-all.mobile").outerHeight());
a(window).scrollTop(k-l-e.clientY);
n="data-fd-metrics-view-less"
}var g=h.attr(n);
if(g){c.Metrics.handler.direct(g)
}})
}})(jQuery,FD.Brand);
(function(b,d,a){d.setInitHandler("[data-fgx-colorizer-gallery]",c);
function c(K){var I=b(".extSpin-cta > a.btn-cta.btn-primary, .extSpin-cta > a.btn-cta.btn-secondary",K);
window.FD.Brand.Util.ctaHover(I);
if(b(".extSpin_container").length){var aa=b(this),al=b("#car_img"),s=b("#car_temp"),R=b(".spin_control"),x=b(".swatchItem"),ak=b(".round-cache"),ai=b(".color_swatch"),w=b(".color_swatch_label"),Z=b(".extSpin_container"),f=b("#car_img-round"),ad=b(".color-swatches"),j=b(".color-swatches-main-container"),Y=b(".swatchItem-selected"),B=b(".swatch-selected-color-exterior"),S=b(".swatch-selected-color-interior"),q=b(".label-exterior"),G=b(".label-interior"),k=b(".spin-models-label"),J=b(".swatch-selected-container"),h=true,l,X,L=1,C=50,D=b(".swatchItem:first").attr("data-color"),H=b(".swatchItem:first").html(),T=b(".swatchItem:first").attr("data-alt-tag")||"",p=b(".color-swatches:first").attr("data-model"),aj=b(".color-swatches:first").attr("data-year"),ae=b(".color-swatches:first").attr("data-trim"),M=false,o=(window.location.href.indexOf("http")===-1)?true:false,an,P,ac=768,F=false,ah="exterior",v,n=b(window).width(),Q,t,U=b(".swatchItem:first").attr("data-assetPath"),O=o?"":b(".extSpin_container").attr("data-assetServer"),V='<i class="icon icon-check-solid-25px swatch-selected-icon"></i>',e=false,u=al.attr("alt")||"",r=b(".swatchItem:first").attr("data-fd-metrics-rotate"),A=false;
var m=ad.closest(".tab-content-section");
if(m&&m.length>0){ad.addClass("fgx-in-hideable-section");
ad.data("fgxHiddenContainerEl",m)
}var g=function(){R.bind("mousedown touchstart MozTouchDown",function(ao){if(X){return
}X=true;
am(ao);
Q=b(ao.target).index();
t=b(this).attr("id").split("_")[1];
l=setInterval(function(){ag(t)
},C)
});
R.bind("mouseup touchend MozTouchRelease",function(ao){X=false;
am(ao);
clearInterval(l)
});
al.bind("keydown",function(ao){if(ao.ctrlKey||ao.metaKey||ao.altKey){return
}switch(ao.which){case 39:if(X){return
}X=true;
l=setInterval(function(){ag("left")
},C);
break;
case 37:if(X){return
}X=true;
l=setInterval(function(){ag("right")
},C);
break
}});
al.bind("keyup",function(ao){if(X){X=false;
clearInterval(l)
}});
al.bind("mouseup touchend",function(ao){if(ao.type==="touchend"){FD.Brand.Metrics.handler.direct(r);
A=true
}else{if(!A){FD.Brand.Metrics.handler.direct(r)
}A=false
}});
R.mouseleave(function(ao){clearInterval(l)
});
al.mouseenter(function(){b(this).removeClass("grabbing");
b(this).addClass("grab")
});
al.mouseup(function(){b(this).removeClass("grabbing");
b(this).addClass("grab")
});
al.mousedown(function(){b(this).removeClass("grab");
b(this).addClass("grabbing")
});
al.bind("mousedown touchstart MozTouchDown",function(ao){if(h){W()
}});
if(a.env.touch()){N("touch")
}b(".swatchItem-selected-interior").click(function(){j.scrollLeft(3000)
});
b(".swatchItem:first").attr("aria-checked","true");
b(".spin-models-label:first").attr("aria-pressed","true")
};
var N=function(ao){if(ao==="touch"){R.find(".mobile").show();
R.find(".desktop").hide();
R.find(".spin-icon-label").hide()
}else{R.find(".desktop").show();
R.find(".spin-icon-label").show();
R.find(".mobile").hide()
}};
var W=function(){b(".spin_control_container",K).fadeOut(500);
h=false
};
var ag=function(ao){if(ao==="left"){al.trigger("stepLeft")
}else{al.trigger("stepRight")
}};
var E=function(ap,ar,aq){if(M){return
}b(".swatchItem-label").html("");
b(".swatchItem-label").hide();
b('.swatchItem-label[data-color="'+ap+'"]').fadeIn();
b('.swatchItem-label[data-color="'+ap+'"]').html(ar);
J.hide();
J.html("");
b('.swatch-selected-container[data-color="'+ap+'"]').fadeIn();
b('.swatch-selected-container[data-color="'+ap+'"]').html(V);
var at=u+" "+T;
al.attr("alt",at.trim());
b("#car_img-round").css({width:"100%",height:"auto",overflow:"hidden"});
var ao=(L<10)?"0":"";
M=false;
y()
};
var y=function(){b(".round-cache").remove();
al.unreel();
var ao=b(".extSpin_container").width()*1.5;
al.reel({frames:36,frame:L,cw:true,brake:0.23,throwable:1,revolution:ao,cursor:"default",images:U.split(",")}).bind("frameChange",function(){L=b(this).data("frame")
})
};
var z=function(){v=(n<ac)?true:false;
b(".color-swatches").first().css({opacity:1});
b(".color-swatches:not(:first)").hide();
x.each(function(){var ao=b(this).attr("data-hex");
b(this).css("backgroundColor",ao)
});
b(".swatchItem-selected-exterior").css({"background-color":b(".color_swatch_exterior .swatchItem:first-child").attr("data-hex")});
b(".swatchItem-selected-interior").css({"background-color":b(".color_swatch_interior .swatchItem:first-child").attr("data-hex")});
b(".swatch-selected-interior").hide();
if(b(".color_swatch_interior").length!=0){b(".swatch-selected-interior").show()
}else{b(".swatch-selected-interior").hide()
}};
var af=function(){U=b(this).attr("data-assetPath");
r=b(this).attr("data-fd-metrics-rotate");
var ar=K.attr("data-fgx-current-view"),av=b(this).parent().parent().parent().attr("class"),ao=(av.indexOf("exterior")!==-1)?"exterior":"interior",au=b(this).attr("data-color"),aq=b(this).text(),at=b(this).attr("data-trimName"),ap=(n<ac)?true:false;
T=b(this).attr("data-alt-tag")||"";
if(ap){if(ao==="exterior"){B.html(aq)
}else{if(ao==="interior"){S.html(aq)
}}}else{if(ao==="exterior"){B.html(aq);
G.html("")
}else{if(ao==="interior"){q.html("");
S.html(aq)
}}}E(au,aq,U);
x.attr("aria-checked","false");
b(this).attr("aria-checked","true");
b(".swatchItem-selected-"+ao).css({"background-color":b(this).attr("data-hex")});
if(ar!==ao){K.attr("data-fgx-current-view",ao)
}};
x.on("click",af);
var am=function(ao){if(ao.originalEvent.touches&&ao.originalEvent.touches.length){ao=ao.originalEvent.touches[0]
}else{if(ao.originalEvent.changedTouches&&ao.originalEvent.changedTouches.length){ao=ao.originalEvent.changedTouches[0]
}}};
k.click(function(){if(b(this).hasClass("spin-model-selected")){return
}else{k.removeClass("spin-model-selected");
k.attr("aria-pressed","false");
b(this).addClass("spin-model-selected");
b(this).attr("aria-pressed","true")
}b(".color-swatches").css({opacity:1});
var ar=b(this).attr("data-view");
var ap=b(this).attr("data-trim");
ae=ap;
ad.hide();
b("#"+ap).show();
var ao=b("#"+ae+" .color_swatch_interior .color_swatch .swatchItem:first");
var aq=b("#"+ae+" .color_swatch_exterior .color_swatch .swatchItem:first");
if(ao&&ao.length>0){af.call(ao)
}if(aq&&aq.length>0){af.call(aq)
}b(".swatch-selected-interior").hide();
if(b("#"+ap).find(".color_swatch_interior").length!=0){b(".swatch-selected-interior").show()
}else{b(".swatch-selected-interior").hide()
}});
b(".spin-models-label:first").addClass("spin-model-selected");
var ab=null;
if(ad.hasClass("fgx-in-hideable-section")&&!ad.is(":visible")){ab=ad.data("fgxHiddenContainerEl");
if(ab&&typeof(ab)!=="undefined"&&ab.length>0){ab.addClass("fgx-brand-size-calc")
}}ad.each(function(aq){var ao=0,ap=(n<ac)?true:false;
if(ap){b(this).find(".color_swatch").each(function(at,au){var av=b(au).find(".swatchItem-container");
av.each(function(){ao+=Number(b(this).outerWidth(true))
})
})
}else{b(this).find("[data-colorizer]").each(function(at){ao+=Number(b(this).outerWidth(true))
})
}var ar=ao+90+"px";
b(this).css({width:ar})
});
if(ab&&ab.hasClass("fgx-brand-size-calc")){ab.removeClass("fgx-brand-size-calc")
}b(window).resize(function(){n=b(window).width()
});
z();
g();
b(document).on("lazybeforeunveil",function(ao){if(b(ao.target).hasClass("colorizer-360")){E(D,H,U)
}});
if(b(".colorizer-360").is(".lazyloading, .lazyloaded")){E(D,H,U)
}}}})(jQuery,FD.Brand,FD.Brand.Util);
(function(a,d,b){d.setInitHandler("[data-fgx-two-column-feature]",c);
function c(k){var f=window.matchMedia("(max-width: 767px)"),j=window.matchMedia("(max-width: 992px)"),e=window.matchMedia("(max-width: 1440px)");
a(window).resize(function(){o()
});
o();
var l=a("a.btn.btn-primary, a.btn.btn-secondary, a.btn.btn-secondary-alt",k);
window.FD.Brand.Util.ctaHover(l);
a(".two-Column .two-column-carousel",k).each(function(){FD.Brand.Util.carousel.swipe(this,function(q,p){h(q,".two-column-carousel",p)
})
});
b.link(k);
k.each(function(){var u=a(this).find(".col-one .moreDesc");
var t=a(this).find(".col-one .lessDesc");
var q=a(this).find(".col-one .description-more");
u.click(function(){q.toggle();
a(this).hide();
t.focus()
});
t.click(function(){q.toggle();
u.show();
u.focus()
});
var s=a(this).find(".col-two .moreDesc");
var r=a(this).find(".col-two .lessDesc");
var p=a(this).find(".col-two .description-more");
s.click(function(){p.toggle();
a(this).hide();
r.focus()
});
r.click(function(){p.toggle();
s.show();
s.focus()
})
});
function o(){a(".two-Column .two-column-carousel",k).each(function(){a(this).carousel({interval:false})
});
if(f.matches){if(!a(".two-column-carousel",k).hasClass("slide")){a(".two-column-carousel",k).addClass("slide")
}}else{if(j.matches){if(a(".two-column-carousel",k).hasClass("slide")){a(".two-column-carousel",k).removeClass("slide")
}g(a(".two-column-carousel",k).closest(".two-column-feature"))
}else{if(e.matches){if(a(".two-column-carousel",k).hasClass("slide")){a(".two-column-carousel",k).removeClass("slide")
}g(a(".two-column-carousel",k).closest(".two-column-feature"))
}}}}function g(p){var q=p.find(".pagination-info");
q.attr("aria-hidden","true");
q.removeAttr("aria-live");
q.removeAttr("aria-atomic");
q.text("")
}function n(p,t,s){var r=p.find(".pagination-info");
var q=r.data("label-template");
r.attr("aria-hidden","false");
r.attr("aria-live","polite");
r.attr("aria-atomic","true");
if(q){r.text(q.replace("{current}",t).replace("{total}",s))
}}function h(r,q,p){if(f.matches){a(r).carousel(p);
a(r).siblings(q).carousel(p);
m(r);
FD.Brand.Metrics.handler.direct(a(r).attr("data-fd-metrics-scroll"))
}}function m(r){var q=a(r,k).find(".active").index();
a(r,k).siblings(".carousel-indicators").children().each(function(){a(this).removeClass("active");
if((a(this).data("slideTo")*1)!==q){a(this).addClass("active")
}});
q=a(r,k).find(".active").index();
var p=a(this).closest(".two-column-feature");
n(p,(q+1),2)
}a(".two-Column .carousel-indicators li",k).click(function(){var p=parseInt(a(this).data("slideTo"),10);
if(!a(this).hasClass("active")){FD.Brand.Metrics.handler.direct(a(this).attr("data-fd-metrics-scroll"))
}a(this).parent().siblings(".two-column-carousel").each(function(){a(this).carousel(p)
});
a(this).siblings().removeClass("active");
a(this).addClass("active");
var q=a(this).closest(".two-column-feature");
n(q,(p+1),2)
})
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
(function(a,d,b){d.setInitHandler("[data-fgx-three-column-feature]",c);
function c(k){var f=window.matchMedia("(max-width: 767px)"),j=window.matchMedia("(max-width: 992px)"),e=window.matchMedia("(max-width: 1440px)");
a(window).resize(function(){n()
});
n();
var l=a("a.btn.btn-primary, a.btn.btn-secondary, a.btn.btn-secondary-alt",k);
window.FD.Brand.Util.ctaHover(l);
a(".three-Column .three-column-carousel",k).each(function(){FD.Brand.Util.carousel.swipe(this,h)
});
b.link(k);
k.each(function(){var v=a(this).find(".col-one .moreDesc");
var w=a(this).find(".col-one .lessDesc");
var p=a(this).find(".col-one .description-more");
v.click(function(){p.toggle();
a(this).hide();
w.focus()
});
w.click(function(){p.toggle();
v.show();
v.focus()
});
var q=a(this).find(".col-two .moreDesc");
var s=a(this).find(".col-two .lessDesc");
var u=a(this).find(".col-two .description-more");
q.click(function(){u.toggle();
a(this).hide();
s.focus()
});
s.click(function(){u.toggle();
q.show();
q.focus()
});
var o=a(this).find(".col-three .moreDesc");
var t=a(this).find(".col-three .lessDesc");
var r=a(this).find(".col-three .description-more");
o.click(function(){r.toggle();
a(this).hide();
t.focus()
});
t.click(function(){r.toggle();
o.show();
o.focus()
})
});
function n(){a(".three-column-carousel",k).each(function(){a(this).carousel({interval:false})
});
if(f.matches){if(!a(".three-column-carousel",k).hasClass("slide")){a(".three-column-carousel",k).addClass("slide")
}}else{if(j.matches){if(a(".three-column-carousel",k).hasClass("slide")){a(".three-column-carousel",k).removeClass("slide")
}g(a(".three-column-carousel",k))
}else{if(e.matches){if(a(".three-column-carousel",k).hasClass("slide")){a(".three-column-carousel",k).removeClass("slide")
}g(a(".three-column-carousel",k))
}}}}function g(o){var p=o.find(".pagination-info");
p.attr("aria-hidden","true");
p.removeAttr("aria-live");
p.removeAttr("aria-atomic");
p.text("")
}function m(o,s,r){var q=o.find(".pagination-info");
var p=q.data("label-template");
q.attr("aria-hidden","false");
q.attr("aria-live","polite");
q.attr("aria-atomic","true");
if(p){q.text(p.replace("{current}",s).replace("{total}",r))
}}function h(r,o,q){if(f.matches){a(r).carousel(o);
FD.Brand.Metrics.handler.direct(a(r).attr("data-fd-metrics-scroll"));
var p=parseInt(a(r).find(".carousel-indicators li.active").data("slideTo"));
m(a(r),(p+1),3)
}}a(".three-Column .carousel-indicators li",k).click(function(){var o=a(this).data("slideTo");
if(!a(this).hasClass("active")){FD.Brand.Metrics.handler.direct(a(this).attr("data-fd-metrics-scroll"))
}var p=a(this).parent().parent(".three-column-carousel");
p.carousel(o);
m(p,(o+1),3)
})
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
(function(j,f,l,c,g){var a,d,e={activeSlide:0,leftPosition:0,totalTabs:1,settings:{"gux-bkpt-xs":{tabWidthRatio:0.75,tabsDisplayed:1,scrollWidthRatio:0.75,totalSlides:1,scrollable:false},"gux-bkpt-sm":{tabWidthRatio:0.75,tabsDisplayed:1,scrollWidthRatio:0.75,totalSlides:1,scrollable:false},"gux-bkpt-med":{tabWidthRatio:0.4,tabsDisplayed:2,scrollWidthRatio:0.8,totalSlides:1,scrollable:false},"gux-bkpt-lg":{tabWidthRatio:0.23,tabsDisplayed:4,scrollWidthRatio:0.92,totalSlides:1,scrollable:false},"gux-bkpt-xlg":{tabWidthRatio:0.23,tabsDisplayed:4,scrollWidthRatio:0.92,totalSlides:1,scrollable:false}}},b=null,k={},h=["fgx-play-pause-icon-hidden","fgx-play-pause-icon-shown"];
c.setInitHandler("[data-fgx-tabbed-bar-feature]",m);
function m(B){a=f(j);
d=l.debounce(y,50);
B.each(function(S){var ac=f(this),T=ac.find(".tab-container"),Q=T.hasClass("content-tabs"),W=ac.data("totalTabs");
var ab=W,Y=desktopSlideNum=1,K=tabletScroll=desktopScroll=false,O=JSON.parse(JSON.stringify(e)),R=ac.find(".tab-section-container"),V=desktopLastSlideOffset=0;
switch(W){case 0:case 1:break;
case 2:ac.addClass("tab-scroll-mobile");
K=true;
break;
case 3:case 4:ac.addClass("tab-scroll-mobile tab-scroll-tablet");
T.find(".carousel-arrows").addClass("shown");
Y=2;
V=(W%2);
K=true;
tabletScroll=true;
break;
default:ac.addClass("tab-scroll-mobile tab-scroll-tablet tab-scroll-dsk");
T.find(".carousel-arrows").addClass("shown");
Y=Math.ceil(W/2);
desktopSlideNum=Math.ceil(W/4);
V=(W%2);
desktopLastSlideOffset=(W%4);
K=true;
tabletScroll=true;
desktopScroll=true;
break
}O.totalTabs=W;
var P=function(ae,af,ag,ad){O.settings["gux-bkpt-xs"][ae]=af;
O.settings["gux-bkpt-sm"][ae]=af;
O.settings["gux-bkpt-med"][ae]=ag;
O.settings["gux-bkpt-lg"][ae]=ad;
O.settings["gux-bkpt-xlg"][ae]=ad
};
P("totalSlides",ab,Y,desktopSlideNum);
P("lastSlideOffset",0,V,desktopLastSlideOffset);
P("scrollable",K,tabletScroll,desktopScroll);
T.data("tabScrollConfig",O);
T.find(".tab-item").each(function(ad){var ae={"gux-bkpt-xs":ad,"gux-bkpt-sm":ad,"gux-bkpt-med":Math.floor(ad/2),"gux-bkpt-lg":Math.floor(ad/4),"gux-bkpt-xlg":Math.floor(ad/4)};
f(this).data("slideGroups",ae);
if(ad===0){f(this).addClass("active-tab visible-tab")
}});
var U=R.find(".tab-content-section.item").first();
U.addClass("active");
R.find(".current-slide-num").html("1");
R.find(".tab-content-section.item").each(function(ad){switch(ad){case 0:f(this).attr("data-prev-slide",(W-1));
break;
default:f(this).attr("data-prev-slide",(ad-1));
break
}});
var N=U.data("fgxPlayPauseIconDisplay");
r(ac,N);
R.carousel({interval:false});
R.on("slid.bs.carousel",function(af){R.data("isSliding",false);
var ad=R.find(".tab-content-section.item.active"),ae=ad.find("[data-fgx-bootstrap-carousel-container]");
if(ae&&ae.length>0){ae.each(function(){var ag=f(this).find(".carousel-inner .item.active");
if(!ag||(ag&&ag.length==0)){f(this).find(".carousel-inner").each(function(){f(this).find(".item").first().addClass("active")
});
f(this).find(".carousel-indicators").children().first().addClass("active")
}})
}});
FD.Brand.Util.carousel.swipe(T[0],D);
FD.Brand.Util.carousel.swipe(R[0],E);
var Z=T.find(".global-arrows");
if(ac.hasClass("fgx-auto-play-enabled")&&Z&&Z.length>0){var aa=parseInt(ac.data("fgxInterval"),10)||7000;
var M=(ac.hasClass("auto-advance-immediate"));
var X=null;
var L="interval"+S;
if(M){X=setInterval(function(){u(ac)
},aa)
}ac.data("intervalRefId",L);
k[L]={setInterval:X,delay:aa,container:ac,initialized:M}
}});
f(".content-tabs .tab-item-link",B).on("click",function(){o(f(this));
H.call(this)
});
f(".tab-container.content-tabs .carousel-arrows .carousel-btn",B).on("click",function(){var M=f(this),K=M.closest(".tab-container"),L=(M.hasClass("carousel-previous"))?"prev":"next";
o(K);
z(K,L)
});
f(".tab-section-container .arrow-container .container-arrow",B).on("click",function(){var M=f(this),O=M.closest(".tab-section-container"),K=O.find(".tab-content-section.item.active"),L=(M.hasClass("carousel-previous"))?"prev":"next",N=K.data(L+"Slide");
o(O);
C(O,L,N)
});
f(".tab-section-container .arrow-container",B).on("click",".icon-vid-play-pause",function(){var L=f(this),P=L.closest(".tab-section-container"),K=P.closest(".tabbed-bar-feature"),N=K.data("intervalRefId")||"",M=P.find(".carousel-inner > .tab-content-section.item.active"),O={activeSlide:M,slideContainer:P,componentContext:K};
o(K);
p(N);
if(K.hasClass("child-inline-video-playing")){f("body").trigger("fgxTabbedBarFeaturePauseVideo",[O]);
K.removeClass("child-inline-video-playing")
}else{f("body").trigger("fgxTabbedBarFeaturePlayVideo",[O]);
K.addClass("child-inline-video-playing")
}});
f("body").on("fgxInlineVideoPause",function(K,L){n(L,"pause")
}).on("fgxInlineVideoPlay",function(K,L){n(L,"play")
}).on("fgxInlineVideoEnded",function(M,N){if(N&&N.videoElement&&N.videoElement.length>0){var O=N.videoElement.closest(".tab-content-section.item");
if(O&&O.length>0){var K=O.closest(".tabbed-bar-feature"),L=K.data("intervalRefId")||"",P=K.find(".tab-container .global-arrows");
p(L);
if(K.hasClass("fgx-auto-play-enabled")&&P&&P.length>0){if(L&&k[L]&&k[L].initialized){u(K)
}}}}});
a.resize(d);
if(j.addEventListener){j.addEventListener("hashchange",t)
}else{j.onhashchange=t
}t();
function z(Z,V){if(!Z||Z.length==0){return
}var ae=Z.find(".tab-wrap"),S=ae.width(),af=g.currentBreakpointXS(),ac=Z.data("tabScrollConfig")||e,aa=ac.settings[af];
if((V=="next"&&(ac.activeSlide<(aa.totalSlides-1)))||(V=="prev"&&ac.activeSlide>0)){var R=Z.closest(".tabbed-bar-feature"),Q=(R.hasClass("fgx-auto-play-enabled")),K="",O=(ac.totalTabs%aa.tabsDisplayed!==0),U=ac.activeSlide*aa.tabsDisplayed,W=O?0:(ac.totalTabs-U)%aa.tabsDisplayed,P,ad,T=false;
if(Q){K=R.data("intervalRefId");
p(K)
}if(V==="next"){P=(W===0)?aa.tabsDisplayed:W;
ad=U+P;
T=((ac.activeSlide+1)==(aa.totalSlides-1))
}else{P=(W===0)?aa.tabsDisplayed:(aa.tabsDisplayed-W);
ad=U-P
}var X=Math.ceil(F(ad,ac,aa,S,T)),L=ae.find(".tab-items-wrap"),ab=ac.leftPosition,M=X,N=Z.data("tabCarouselScrollAction");
L.css("left",M);
ac.leftPosition=M;
ac.activeSlide=(V=="prev")?ac.activeSlide-1:ac.activeSlide+1;
Z.data("tabScrollConfig",ac);
I(Z,ac,aa);
var Y=ac.activeSlide*aa.tabsDisplayed;
A(L,Y);
if(N&&typeof(N)!="undefined"){c.Metrics.handler.direct(N)
}if(Q){q(K)
}}}function F(S,N,O,P,M){var K=0,L=O.tabWidthRatio,R=L*P,U=0;
if(S+O.tabsDisplayed>N.totalTabs){K=((S+O.tabsDisplayed)-N.totalTabs)*R
}if(M){var T=3*(N.totalTabs-1);
U=P-(O.tabsDisplayed*R)-T;
K+=U
}var Q=((S*R)*-1)+K;
return Q
}function C(Q,L,K){var R=f(Q).data("isSliding");
if(!R||R==="false"){f(Q).data("isSliding",true);
var N=f(Q).closest(".tabbed-bar-feature"),O=(N.hasClass("fgx-auto-play-enabled")),U="";
if(O){U=N.data("intervalRefId");
p(U)
}try{var M=f(Q).find('.tab-content-section.item[data-tab-index="'+K+'"]');
f(Q).data("bs.carousel").slide(L,M);
J(f(Q),K)
}catch(P){f(Q).carousel(K)
}f(Q).find(".current-slide-num").html((K+1));
if(O){q(U)
}var T=f(Q).siblings(".tab-container");
G(T,K);
var S=f(Q).data("contentCarouselScrollAction");
if(S&&typeof(S)!="undefined"){c.Metrics.handler.direct(S)
}}}function G(P,K){if(!P||P.length==0){return
}P.find(".active-tab").removeClass("active-tab");
var S=P.find('.tab-item[data-tab-index="'+K+'"]'),L=S.data("fgxPlayPauseIconDisplay"),M=P.closest(".tabbed-bar-feature"),R=M.find(".tab-section-container"),N=R.find('.carousel-inner > .tab-content-section.item[data-tab-index="'+K+'"]'),Q={slideContainer:R,activeSlide:N};
S.addClass("active-tab");
f("body").trigger("fgxTabbedBarFeatureTabChange",[Q]);
r(M,L);
x(P,".active-tab",false,true);
var O=S.find(".tab-item-link").data("fgxAnchorId");
if(O){w(O)
}}function A(L,K){if(!L||L.length==0){return
}L.find(".visible-tab").removeClass("visible-tab");
L.find(".tab-item").each(function(M){if(M==K){f(this).addClass("visible-tab")
}})
}function x(V,Z,T,W){if(!V||V.length==0){return
}var ac=g.currentBreakpointXS(),ab=V.data("tabScrollConfig"),aa=ab.settings[ac],N=V.find(Z),U=N.data("slideGroups")[ac],M=V.find(".tab-wrap").width(),P=(aa.scrollWidthRatio*M*U*-1),K=V.find(".tab-items-wrap");
if((ab.activeSlide!=U)||T){if(((U+1)==aa.totalSlides)&&((ab.activeSlide!=U)||aa.scrollable)&&aa.totalSlides!=1){var Q=aa.tabWidthRatio,O=Q*M,R=N.data("tabIndex"),L=(aa.lastSlideOffset!==0)?((aa.tabsDisplayed-aa.lastSlideOffset)*O):0,S=3*(ab.totalTabs-1),Y=M-(aa.tabsDisplayed*O)-S;
L+=Y;
P=((R*O)*-1)+L
}K.css("left",P);
ab.leftPosition=P;
ab.activeSlide=U;
V.data("tabScrollConfig",ab);
I(V,ab,aa);
if(W){var X=ab.activeSlide*aa.tabsDisplayed;
A(K,X)
}}}function s(P,O){var L=f(P);
if(!L||L.length==0){return
}var N=g.currentBreakpointXS(),K=L.closest(".tabbed-bar-feature"),M=false;
switch(N){case"gux-bkpt-xs":case"gux-bkpt-sm":M=(K.hasClass("tab-scroll-mobile"));
break;
case"gux-bkpt-med":if(c.Util.env.touch()){M=(O=="tab")?(K.hasClass("tab-scroll-tablet")):(K.hasClass("tab-scroll-mobile"))
}break;
case"gux-bkpt-lg":case"gux-bkpt-xlg":if(c.Util.env.touch()){M=(O=="tab")?(K.hasClass("tab-scroll-dsk")):(K.hasClass("tab-scroll-mobile"))
}break
}return M
}function D(N,L,M){if(s(N,"tab")){var K=f(N);
o(K);
z(K,L)
}}function E(R,M,P){if(s(R,"content")){if(P&&typeof(P)!="undefined"){var L=f(P.target),O=L.closest(".fcf-wrapper");
if(O&&O.length>0&&O.hasClass("wrap-carousel")){return
}}var Q=f(R),K=Q.find(".tab-content-section.item.active"),N=K.data(M+"Slide");
o(Q);
C(Q,M,N)
}}function t(){var N=j.location.hash;
var L=null;
if(N){var O=N.substr(1);
if(b===O){return
}var R='.tab-item-link[data-fgx-anchor-id="'+O+'"]';
L=f(R,B)
}if(L){H.call(L);
var K=L.closest(".tabbed-bar-feature"),Q=f(".navbar-static-top"),P=K.offset().top,M=(Q.length)?P-Q.height():P;
f("html").animate({scrollTop:M},0)
}}function H(){var P=f(this).closest(".tab-item"),N=P.data("tabIndex"),L=P.closest(".tab-container"),K=L.closest(".tabbed-bar-feature"),O=K.find(".tab-section-container"),Q=O.find('.tab-content-section.item[data-tab-index="'+N+'"]'),R=(K.hasClass("fgx-auto-play-enabled")),M="";
if(R){M=K.data("intervalRefId");
p(M)
}O.carousel(N);
O.find(".current-slide-num").html((N+1));
if(R){q(M)
}G(L,N)
}function w(K){if(K&&((b&&(K!==b))||!b)){j.location.hash=K;
b=K
}}function v(L,K,P,O){if(!L||L.length==0){return
}var N=L.find(K),M=N.data("labelTemplate");
N.attr("aria-hidden","false");
N.attr("aria-live","polite");
N.attr("aria-atomic","true");
if(M){N.text(M.replace("{current}",P).replace("{total}",O))
}}function I(L,K,M){v(L,".tab-pagination-info",(K.activeSlide+1),M.totalSlides)
}function J(K,L){var M=K.closest(".tabbed-bar-feature").data("totalTabs");
v(K,".content-pagination-info",(L+1),M)
}function u(M){if(!M||M.length==0){return
}var O=M.find(".tab-section-container"),K=O.find(".tab-content-section.item.active"),L=K.data("fgxAutoAdvanceTo"),N;
if(L&&typeof(L)!="undefined"){var P=O.find('.tab-content-section.item[data-fgx-anchor-id="'+L+'"]');
N=P.data("tabIndex")
}else{N=K.data("nextSlide")
}C(O,"next",N)
}function p(L){if(L&&k[L]){var K=k[L].setInterval;
if(K){clearInterval(K)
}k[L].setInterval=null
}}function q(L){if(L&&k[L]){p(L);
if(k[L].initialized){var K=setInterval(function(){u(k[L].container)
},k[L].delay);
k[L].setInterval=K
}}}function o(M){if(!M||M.length==0){return
}var K=M.closest(".tabbed-bar-feature"),N=(K.hasClass("fgx-auto-play-enabled")),L="";
if(N){L=K.data("intervalRefId");
if(L&&L!=""&&k[L]){k[L].initialized=true
}}}function r(K,L){if(!K||K.length==0){return
}l.each(h,function(M){K.toggleClass(M,(L===M))
})
}function n(N,L){if(N&&N.videoElement&&N.videoElement.length>0){var K=N.videoElement.closest(".tabbed-bar-feature");
if(K&&K.length>0){var M=K.data("intervalRefId")||"";
p(M);
K.toggleClass("child-inline-video-playing",(L==="play"))
}}}function y(){B.each(function(){var K=f(this).find(".tab-container"),L=K.hasClass("content-tabs");
if(L){x(K,".visible-tab",true,false)
}})
}}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Util);
(function(c,b,d,g,f,a){g.setInitHandler("[data-fgx-single-static-feature]",e);
function e(z){var l={},r="fgx-positioned-ssf-",n="fgx-positioned-item-",H=window.matchMedia("(max-width: 767px)"),C=false,h=false,v=window.matchMedia("(min-width: 768px) and (max-width: 991px)"),o={"gux-bkpt-sm":"fgx-brand-video-autoplay-mbl","gux-bkpt-med":"fgx-brand-video-autoplay-tab","gux-bkpt-lg":"fgx-brand-video-autoplay-dsk","gux-bkpt-xlg":"fgx-brand-video-autoplay-dsk"},t="",p=null;
H.addListener(s);
v.addListener(I);
var u=c(".single-static-feature-cta > a.btn.btn-primary.add-hover",z);
g.Util.ctaHover(u);
if(c("html").hasClass("fgx-brand-Ford")){var q=c(".single-static-feature-cta > a.btn.btn-secondary.add-hover",z);
g.Util.ctaHover(q)
}g.MediaOverlay.link(z);
z.each(function(O){g.Pricing.refresh(this);
var R=c(this).find(".moreDesc");
var K=c(this).find(".lessDesc");
var N=c(this).find(".description-more");
R.click(function(){N.toggle();
c(this).hide();
K.focus()
});
K.click(function(){N.toggle();
R.show();
R.focus()
});
var M=c(this).find(".description.authored-color a[href^='tel:']");
if(M&&M.length>0){var P=c(this).find(".description.authored-color").css("color");
M.css("color",P)
}var L={};
L=f.items.setup(this,n,".single-static-feature-text");
if(!c.isEmptyObject(L)){var Q=r+O;
c(this).addClass(Q);
l[Q]=L
}});
var F=c(".fgx-has-inline-video",z),j=c(".fgx-has-inline-video.hide-video-on-mobile",z),G=c(".fgx-has-inline-video:not(.hide-video-on-mobile)",z);
if(F&&F.length>0){A();
c("body").on("fgxTabbedBarFeatureTabChange",function(M,N){if(N&&N.slideContainer&&N.slideContainer.length>0){var L=!!(N.activeSlide&&N.activeSlide.length>0),K=[];
F.each(function(){var Q=this,P=c(Q);
if(c.contains(N.slideContainer[0],Q)){if(!m(P)){return
}var O=P.find(".fgx-inline-video");
O.each(function(){var T=c(this).closest(".video-wrap.fgx-inline-video-wrap"),S=this;
if(T.hasClass("playing")){T.removeClass("playing").addClass("paused");
var R=T.data("playIconAriaLabel")||"";
c(this).find(".icon-vid-play-pause .fgx-brand-sr-text").html(R);
S.pause()
}});
if(L&&c.contains(N.activeSlide[0],Q)){if(w(P)){K.push(P)
}a.video.loadVideosInViewport(O)
}}});
if(K.length>0){b.each(K,function(O){var S=O.find(".fgx-inline-video");
if(S&&S.length>0){var R=S.closest(".video-wrap.fgx-inline-video-wrap"),Q=S[0];
R.toggleClass("not-started",false);
R.removeClass("paused").addClass("playing");
var P=R.data("pauseIconAriaLabel")||"";
R.find(".icon-vid-play-pause .fgx-brand-sr-text").html(P);
Q.play()
}})
}}}).on("fgxTabbedBarFeaturePauseVideo",function(K,L){if(L&&L.activeSlide&&L.activeSlide.length>0){F.each(function(){var M=c(this);
if(c.contains(L.activeSlide[0],this)){if(!m(M)){return
}M.find(".fgx-inline-video").each(function(){var P=c(this).closest(".video-wrap.fgx-inline-video-wrap"),O=this;
P.removeClass("playing").addClass("paused");
c(O).addClass("manual-pause");
var N=P.data("playIconAriaLabel")||"";
P.find(".icon-vid-play-pause .fgx-brand-sr-text").html(N);
O.pause()
})
}})
}}).on("fgxTabbedBarFeaturePlayVideo",function(K,L){if(L&&L.activeSlide&&L.activeSlide.length>0){F.each(function(){var M=c(this);
if(c.contains(L.activeSlide[0],this)){if(!m(M)){return
}M.find(".fgx-inline-video").each(function(){var P=c(this).closest(".video-wrap.fgx-inline-video-wrap"),O=this;
P.toggleClass("not-started",false);
if(P.is(":visible")){P.removeClass("paused").addClass("playing");
c(O).removeClass("manual-pause");
var N=P.data("pauseIconAriaLabel")||"";
P.find(".icon-vid-play-pause .fgx-brand-sr-text").html(N);
O.play()
}})
}})
}});
c(".video-wrap.fgx-inline-video-wrap",z).on("click",function(){var O=c(this),N=O.find("video").get(0),M=O.find(".fgx-custom-video-controls"),L=M.find(".icon-vid-play-pause");
O.toggleClass("not-started",false);
if(N.paused||N.ended){if(N.ended){N.currentTime=0
}O.removeClass("paused").addClass("playing");
c(N).removeClass("manual-pause");
var K=O.data("pauseIconAriaLabel")||"";
c(this).find(".icon-vid-play-pause .fgx-brand-sr-text").html(K);
N.play()
}else{O.removeClass("playing").addClass("paused");
c(N).addClass("manual-pause");
var K=O.data("playIconAriaLabel")||"";
c(this).find(".icon-vid-play-pause .fgx-brand-sr-text").html(K);
N.pause()
}});
c(".video-wrap.fgx-inline-video-wrap .fgx-custom-video-controls",z).on("click",".icon-vid-play-pause",function(M){M.stopPropagation();
var N=c(this).closest(".fgx-inline-video-wrap"),L=N.find("video").get(0);
if(L.paused||L.ended){if(L.ended){L.currentTime=0
}N.removeClass("paused").addClass("playing");
c(L).removeClass("manual-pause");
var K=N.data("pauseIconAriaLabel")||"";
c(this).find(".fgx-brand-sr-text").html(K);
L.play()
}else{N.removeClass("playing").addClass("paused");
c(L).addClass("manual-pause");
var K=N.data("playIconAriaLabel")||"";
c(this).find(".fgx-brand-sr-text").html(K);
L.pause()
}});
c(".video-wrap.fgx-inline-video-wrap .fgx-custom-video-controls",z).on("click",".icon-vid-sound",function(L){L.stopPropagation();
var M=c(this).closest(".fgx-inline-video-wrap"),K=M.find("video").get(0);
K.muted=!K.muted;
var N=(K.muted)?M.data("muteIconAriaLabel"):M.data("unmuteIconAriaLabel");
N=N||"";
M.toggleClass("muted",K.muted).toggleClass("unmuted",!K.muted);
c(this).find(".fgx-brand-sr-text").html(N)
});
if(B()){c(".video-wrap.fgx-inline-video-wrap .fgx-custom-video-controls .icon-vid-full-screen",z).removeClass("hidden").attr("aria-hidden","false");
c(".video-wrap.fgx-inline-video-wrap .fgx-custom-video-controls",z).on("click",".icon-vid-full-screen",function(N){N.stopPropagation();
var O=c(this).closest(".fgx-inline-video-wrap"),M=O.get(0),K=c("document").get(0),L="enter full screen";
if(J()){if(K.exitFullscreen){K.exitFullscreen()
}else{if(K.mozCancelFullScreen){K.mozCancelFullScreen()
}else{if(K.webkitCancelFullScreen){K.webkitCancelFullScreen()
}else{if(K.msExitFullscreen){K.msExitFullscreen()
}}}}L="exit full screen"
}else{if(M.requestFullscreen){M.requestFullscreen()
}else{if(M.mozRequestFullScreen){M.mozRequestFullScreen()
}else{if(M.webkitRequestFullScreen){M.webkitRequestFullScreen()
}else{if(M.msRequestFullscreen){M.msRequestFullscreen()
}}}}}c(this).find(".fgx-brand-sr-text").html(L)
})
}c(".video-wrap.fgx-inline-video-wrap .fgx-custom-video-controls",z).on("click",".fgx-progress-wrap",function(N){N.stopPropagation();
var O=c(this).closest(".fgx-inline-video-wrap"),M=O.find(".fgx-inline-video").get(0),P=(N.pageX-c(this).offset().left)/c(this).width(),K=O.find(".fgx-progress-bar");
M.currentTime=P*M.duration;
var L=(P*100)+"%";
K.css("width",L)
});
c(".video-wrap.fgx-inline-video-wrap .fgx-custom-video-controls",z).on("mousedown",".fgx-progress-wrap",function(L){L.stopPropagation();
var M=c(this).closest(".fgx-inline-video-wrap"),K=M.find(".fgx-inline-video").get(0);
c(this).data("fgxUserDrag","true");
E(c(this),L.pageX)
});
c(".video-wrap.fgx-inline-video-wrap .inline-video-container",z).on("mouseup",function(M){M.stopPropagation();
var K=c(this).find(".fgx-custom-video-controls .fgx-progress-wrap"),L=c(this).find(".fgx-inline-video").get(0),N=K.data("fgxUserDrag");
if(N=="true"){K.data("fgxUserDrag","false");
E(K,M.pageX)
}});
c(".video-wrap.fgx-inline-video-wrap .inline-video-container",z).on("mousemove",function(L){L.stopPropagation();
var K=c(this).find(".fgx-custom-video-controls .fgx-progress-wrap"),M=K.data("fgxUserDrag");
if(M=="true"){E(K,L.pageX)
}});
c(".video-wrap.fgx-inline-video-wrap video",z).on("play",function(){y(this,"fgxInlineVideoPlay")
});
c(".video-wrap.fgx-inline-video-wrap video",z).on("pause",function(){y(this,"fgxInlineVideoPause")
});
c(".video-wrap.fgx-inline-video-wrap video",z).on("ended",function(){c(this).addClass("manual-pause");
y(this,"fgxInlineVideoEnded")
});
function E(N,L){var Q=N.closest(".fgx-inline-video-wrap");
var P=Q.find(".fgx-inline-video").get(0);
var O=P.duration;
var K=L-N.offset().left;
var M=100*K/N.width();
if(M>100){M=100
}if(M<0){M=0
}N.find(".fgx-progress-bar").css("width",M+"%");
P.currentTime=O*M/100
}c(".video-wrap.fgx-inline-video-wrap video",z).on("timeupdate",function(){var L=c(this),O=L.get(0),N=L.siblings(".fgx-custom-video-controls"),K=N.find(".fgx-progress-bar");
var M=((O.currentTime/O.duration)*100)+"%";
K.css("width",M)
});
function B(){return !!(C&&(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled||document.createElement("video").webkitRequestFullScreen))
}function J(){return !!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)
}function A(){h=true;
var K=a.currentBreakpoint();
t=(K==="gux-bkpt-sm")?"mobile":((K==="gux-bkpt-med")?"tablet":"desktop");
k(t,false);
p=b.debounce(x,100);
c(d).on("scroll",p)
}function m(K){if(!K||(K&&K.length==0)){return false
}var L=a.currentBreakpoint();
return !(L=="gux-bkpt-sm"&&K.hasClass("hide-video-on-mobile"))
}function w(L){var K=false;
if(L&&L.length){var M=a.currentBreakpoint();
K=L.hasClass(o[M]||"fgx-brand-video-autoplay-dsk")
}return K
}function y(N,M){var K=c(N),L={videoElement:K,componentType:"ssf"};
if(M){c("body").trigger(M,[L])
}}}function k(K,L){if(!h){return
}if(K==="mobile"){var M=c(".inline-video-container .fgx-inline-video",G),O=c(".inline-video-container .fgx-inline-video",j);
if(M&&M.length>0){D(M,G,"fgx-brand-video-autoplay-mbl")
}if(O&&O.length>0&&!L){O.each(function(){var Q=c(this),R=Q.get(0),S=Q.closest(".video-wrap.fgx-inline-video-wrap"),P=S.data("playIconAriaLabel")||"";
if(!R.paused){S.removeClass("playing").addClass("paused");
S.find(".icon-vid-play-pause .fgx-brand-sr-text").html(P);
R.pause()
}})
}}else{if(K==="tablet"){var N=c(".inline-video-container .fgx-inline-video",F);
D(N,F,"fgx-brand-video-autoplay-tab")
}else{var N=c(".inline-video-container .fgx-inline-video",F);
D(N,F,"fgx-brand-video-autoplay-dsk")
}}}function D(N,K,L){if(N&&N.length>0&&K&&K.length>0){a.video.loadVideosInViewport(N);
var M=N.filter('[data-fgx-video-initialized="true"]');
M.each(function(){var R=this,P=c(R),Q=P.closest(".fgx-has-inline-video");
if(Q.hasClass(L)&&!P.hasClass("manual-pause")){var S=P.closest(".video-wrap.fgx-inline-video-wrap"),O=S.data("pauseIconAriaLabel")||"";
S.toggleClass("not-started",false);
S.removeClass("paused").addClass("playing");
S.find(".icon-vid-play-pause .fgx-brand-sr-text").html(O);
R.play()
}})
}}function x(){if(t===""){var K=a.currentBreakpoint();
t=(K==="gux-bkpt-sm")?"mobile":((K==="gux-bkpt-med")?"tablet":"desktop")
}k(t,true)
}function s(K){if(K.matches){f.items.update("mobile",l)
}else{f.items.update("desktop",l)
}}function I(K){if(K.matches){t="tablet"
}else{var L=a.currentBreakpoint();
t=(L==="gux-bkpt-sm")?"mobile":"desktop"
}k(t,false)
}}})(jQuery,FD.Brand.lodash,window,FD.Brand,FD.Brand.Position,FD.Brand.Util);
(function(a,c){c.setInitHandler("[data-fgx-hotspot-feature]",b);
function b(f){var g=a(".hotspot-feature-cta > a.btn.btn-primary.add-hover",f);
c.Util.ctaHover(g);
if(a("html").hasClass("fgx-brand-Ford")){var e=a(".hotspot-feature-cta > a.btn.btn-secondary.add-hover",f);
c.Util.ctaHover(e)
}var d=a(".hotspot-feature-image",f);
c.MediaOverlay.link(d);
f.each(function(){var k=a(this).find(".moreDesc");
var h=a(this).find(".lessDesc");
var j=a(this).find(".description-more");
k.click(function(){j.toggle();
a(this).hide();
h.focus()
});
h.click(function(){j.toggle();
k.show();
k.focus()
})
})
}})(jQuery,FD.Brand);
(function(f,n,d,b,h){var m,e,l,g,k,j=null,p,a="",c;
d.setInitHandler("[data-fgx-flex-column-feature]",o);
function o(z){m=z;
e=n.debounce(x,50);
l=n.debounce(A,200);
g=h.currentBreakpoint();
k=h.env.touch();
p=f(window);
a=(d.Context.accessibility&&d.Context.accessibility.meatballLabelPrefix)||"";
b.link(z);
p.resize(e);
z.each(function(){this._el=f(this);
this.container_el=f(".fcf-wrapper",this);
this.mobileTxt_el=f(".mobile-carousel-text",this);
this.visible_tiles_desktop=f(this.container_el).attr("data-desktop-columns");
this.visible_tiles_tablet=f(this.container_el).attr("data-tablet-columns");
this.visible_tiles_mobile=f(this.container_el).attr("data-mobile-columns");
this.visible_tiles=0;
this.features_el=f(".fcf-container",this);
this.tile_el=f(".flexTile",this);
this.arrows_el=f(".carousel-arrows",this);
this.back_arrow_el=f(".carousel-arrows.carousel-left",this);
this.next_arrow_el=f(".carousel-arrows.carousel-right",this);
this.meatballs_el=f(".meatballs",this);
this.tile_width=0;
this.total_tiles=0;
this.total_width=0;
this.visible_width=0;
this.tile_widths=new Array();
this.isCarousel=false;
this.carouselScrollAction=f(this).data("carousel-scroll-action");
if(f(this.container_el).hasClass("wrap-carousel")){if((this.container_el.length>0)&&(this.features_el.length>0)){j=new Hammer(this.container_el[0])
}this.isCarousel=true;
E(this)
}});
function D(J){J.total_tiles=J.tile_el.length;
var K=f(J.tile_el[0]);
J.tile_width=K.width()+F(K,"marginLeft")+F(K,"marginRight");
J.total_width=J.tile_width*J.total_tiles
}function E(J){var K=f(J).closest(".tab-content-section");
if(K&&K.length>0){f(J).addClass("fgx-in-hideable-section");
f(J).data("fgxHiddenContainerEl",K)
}D(J);
J.arrows_el.children(".carousel-next").on("click",{metrics:"click arrow next"},function(){v(J)
});
J.arrows_el.children(".carousel-previous").on("click",{metrics:"click arrow previous"},function(){s(J)
});
J._el.on("focusin",function(){J.next_arrow_el.css("right","0px");
J.back_arrow_el.css("left","0px")
}).on("focusout",function(){J.next_arrow_el.css("right","");
J.back_arrow_el.css("left","")
});
if(j){j.on("dragleft swipeleft dragright swiperight",function(L){if(g==="gux-bkpt-sm"||k){switch(L.type){case"dragleft":case"swipeleft":v(J);
break;
case"dragright":case"swiperight":s(J);
break
}}})
}J._el.addClass("loaded");
p.resize()
}function F(K,J){return Number(K.css(J).replace("px",""))
}function G(K,J){K.css("left",J+"px")
}function H(J,K){J.text(K)
}function C(K,J){K.append(J);
return K.children().last()
}function y(L){var N=L.meatballs_el.find("a.active");
var K=N.text()*L.visible_tiles;
var J=0;
f("[tabindex]",L.tile_el).each(function(){f(this).attr("tabindex","-1")
});
while(J<L.visible_tiles){if(K<L.tile_el.length){var M=L.tile_el[K];
f("[tabindex]",M).each(function(){f(this).attr("tabindex","0")
});
J++;
K++
}else{break
}}u(L._el,(parseInt(N.text())+1),L.meatballs_el.find("a").length,L.visible_tiles)
}function u(K,O,N,J){var M=K.find(".pagination-info");
var L=M.data("label-template");
M.attr("aria-hidden","false");
M.attr("aria-live","polite");
M.attr("aria-atomic","true");
if(L){M.text(L.replace("{current}",O).replace("{total}",N).replace("{itemsPerPage}",J))
}}function w(L,K){var O=K.meatballs_el.children().first();
var M=K.meatballs_el.children().last();
var N=K.arrows_el.children(".carousel-previous");
var J=K.arrows_el.children(".carousel-next");
if(L.attr("data-position")===O.attr("data-position")){if(!N.hasClass("inactive")){N.removeClass("active");
N.addClass("inactive")
}}else{if(N.hasClass("inactive")){N.removeClass("inactive");
N.addClass("active")
}}if(L.attr("data-position")===M.attr("data-position")){if(!J.hasClass("inactive")){J.removeClass("active");
J.addClass("inactive")
}}else{if(J.hasClass("inactive")){J.removeClass("inactive");
J.addClass("active")
}}y(K)
}function I(K,J){J.meatballs_el.find("a.active").removeClass("active");
G(J.features_el,-1*K.attr("data-position"));
H(J.mobileTxt_el,K.attr("data-mobile-text"));
K.children("a").addClass("active");
w(K,J);
if(typeof J.carouselScrollAction!="undefined"){FD.Brand.Metrics.handler.direct(J.carouselScrollAction)
}}function v(K){var J=K.meatballs_el.find("a.active").parent().next();
if(J.length){I(J,K)
}else{}}function s(K){var J=K.meatballs_el.find("a.active").parent().prev();
if(J.length){I(J,K)
}else{}}function q(K,J){I(K,J)
}function t(L,N){var M=n.keys(N),K,J=L.children("li");
while((K=M.shift())){f(J[K]).attr("data-position",N[K].total)
}}function B(L,N,K){var M=n.keys(N),J,O,P;
while((J=M.shift())){O=C(L,r(J,N[J],N.length));
if(N[J]<=Number(K.features_el.css("left").replace("px","")*-1)){P=O.children("a");
H(K.mobileTxt_el,O.attr("data-mobile-text"))
}O.on("click",{metrics:"click meatball"+J},function(){q(f(this),K)
})
}if(P){P.addClass("active")
}}function r(K,M,L){var J=a+" "+(parseInt(K)+1);
return String.prototype.concat.call('<li  data-position="',M,'" data-mobile-text="',parseInt(K)+1,"/",L,'"><a href="javascript:void(0);" tabindex="0" role="button" data-fgx-keypress="true" aria-label="'+J+'">',K,"</a></li>\n")
}function A(M,L){var K=[];
var N=Math.ceil(L.total_width/L.visible_width);
G(L.features_el,0);
for(var J=0;
J<N;
J++){K[J]=L.visible_width*J
}if(N>1){M.empty();
B(M,K,L);
L.arrows_el.addClass("scrollable");
L.meatballs_el.addClass("scrollable")
}else{L.arrows_el.removeClass("scrollable");
L.meatballs_el.removeClass("scrollable")
}w(L.meatballs_el.children().first(),L)
}function x(){g=h.currentBreakpoint();
m.each(function(){if(this.isCarousel){var L=this,J=null,K=f(L);
if(K.hasClass("fgx-in-hideable-section")&&!K.is(":visible")){J=K.data("fgxHiddenContainerEl");
if(J&&typeof(J)!=="undefined"&&J.length>0){J.addClass("fgx-brand-size-calc")
}}D(L);
if(g==="gux-bkpt-sm"){L.visible_tiles=L.visible_tiles_mobile;
L.visible_width=L.tile_width*L.visible_tiles_mobile
}else{if(g==="gux-bkpt-med"){L.visible_tiles=L.visible_tiles_tablet;
L.visible_width=L.tile_width*L.visible_tiles_tablet
}else{L.visible_tiles=L.visible_tiles_desktop;
L.visible_width=L.tile_width*L.visible_tiles_desktop
}}A(L.meatballs_el,L);
if(J&&J.hasClass("fgx-brand-size-calc")){J.removeClass("fgx-brand-size-calc")
}}})
}}})(jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.MediaOverlay,FD.Brand.Util);
(function(b,d,a){d.setInitHandler("[data-fgx-features-slider]",c);
function c(h){var f=b(".features-slider.has-mobile-override");
var m=window.matchMedia("(min-width: 768px)");
m.addListener(n);
n(m);
h.each(function(){if(b(this).find(".sliderSpin_container").length){this.$img=b(".slider_img",b(this));
this.assetPath=this.$img.attr("data-assetPath");
this.altText=this.$img.attr("data-altTag");
this.spinSetSize=parseInt(this.$img.attr("data-set-size"),10);
this.mHeightOverride=b(this).attr("data-mobile-height-override");
this.sliderContainer=b(".sliderSpin_container",b(this));
this.$imgPlaceholder=b(".placeholder_img",b(this));
this.sliderControl=b(".fgx-brand-slider-control",b(this));
this.$moreToggle=b(".ml-wrapper .moreDesc",b(this));
this.$lessToggle=b(".ml-wrapper .lessDesc",b(this));
this.$desc=b(".ml-wrapper .description-more",b(this));
this.currentFrame=1;
this.isChanging=false;
k(this)
}});
var e=b(".hotspot-wrapper.first-set",h);
var j=b(".hotspot-wrapper.second-set",h);
d.MediaOverlay.link(e);
d.MediaOverlay.link(j);
var l=b(".cta-wrapper a.btn.btn-primary.add-hover",h);
var p=b(".cta-wrapper a.btn.btn-secondary.add-hover",h);
a.ctaHover(l);
a.ctaHover(p);
function k(q){q.sliderControl.on("input",function(){var r=parseInt(b(this).val(),10);
q.$img.reel("frame",r);
q.currentFrame=r;
b(q).removeClass("first-frame");
b(q).removeClass("last-frame");
if(q.currentFrame===1){b(q).addClass("first-frame")
}else{if(q.currentFrame===q.spinSetSize){b(q).addClass("last-frame")
}}});
q.sliderControl.on("change",function(){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-slider"))
});
q.$moreToggle.click(function(){q.$desc.toggle();
b(this).hide()
});
q.$lessToggle.click(function(){q.$desc.toggle();
q.$moreToggle.show()
})
}function o(r,q){if(r==="left"){q.$img.trigger("stepLeft")
}else{q.$img.trigger("stepRight")
}}function g(r){b(".round-cache").remove();
r.$img.unreel();
var q=r.sliderContainer.width()*1.5;
r.$img.reel({frames:r.spinSetSize,frame:r.currentFrame,cw:true,brake:0.23,draggable:false,throwable:0,revolution:q,cursor:"default",images:r.assetPath.split(","),klass:"slider_img"}).bind("frameChange",function(){r.currentFrame=b(this).data("frame")
}).bind("loaded",function(){r.$imgPlaceholder.hide()
})
}function n(q){if(q.matches){f.each(function(){b(this).css("height","")
})
}else{f.each(function(){if(this.mHeightOverride){b(this).css("height",this.mHeightOverride+"px")
}})
}}n(m);
b(document).on("lazybeforeunveil",function(q){if(b(q.target).hasClass("features-slider")){g(q.target)
}});
h.each(function(){if(b(this).is(".lazyloading, .lazyloaded")){g(this)
}})
}})(jQuery,FD.Brand,FD.Brand.Util);
(function(b,a,d){d.setInitHandler("[data-fgx-features-carousel-slide]",c);
function c(e){e.each(function(h){var j=b(this).find(".moreDesc");
var f=b(this).find(".lessDesc");
var g=b(this).find(".description-more");
j.click(function(){g.toggle();
b(this).hide();
f.focus()
});
f.click(function(){g.toggle();
j.show();
j.focus()
})
})
}})(jQuery,FD.Brand.lodash,FD.Brand);
(function(j,F,p,m,b,h){var C,y,u,f,a,w={},D="";
p.setInitHandler("[data-fgx-features-carousel-container]",x);
function x(I){C=I;
y=F.debounce(n,50);
u=F.debounce(r,200);
f=b.currentBreakpoint();
a=b.env.touch();
D=(p.Context.accessibility&&p.Context.accessibility.meatballLabelPrefix)||"";
var H=j(".features-carousel-cta > a.btn.add-hover",I);
b.ctaHover(H);
I.each(function(){var K=j(this).find(".features-carousel-slide.item").length,J=K,M=j(this).find(".features-carousel-slide.item");
if(J>1){j(this).find(".features-carousel-slide.item").first().addClass("first-slide");
j(this).find(".carousel-arrows").addClass("shown");
j(this).hover(function(){if(f=="gux-bkpt-lg"||f=="gux-bkpt-xlg"){j(this).find(".carousel-arrows.hoverArrows").fadeIn(500)
}},function(){if(f=="gux-bkpt-lg"||f=="gux-bkpt-xlg"){j(this).find(".carousel-arrows.hoverArrows").fadeOut(500)
}});
j(this).find("div.flex-indicators").addClass("shown");
FD.Brand.Util.carousel.swipe(this,function(P,N){if(f==="gux-bkpt-sm"||a){var O=j(P).data("intervalRefId");
d(O);
((N==="next")?k:e)(j(P))
}})
}var L=j(this).closest(".tab-content-section");
if(L&&L.length>0){j(this).addClass("fgx-in-hideable-section");
j(this).data("fgxHiddenContainerEl",L)
}});
m.link(I);
j(".carousel-arrows.global-arrows .carousel-next",I).on("click",{metrics:"click arrow next"},function(){var J=j(this).parent().parent(),K=J.data("intervalRefId");
d(K);
k(J)
});
j(".carousel-arrows.global-arrows .carousel-previous",I).on("click",{metrics:"click arrow previous"},function(){var J=j(this).parent().parent(),K=J.data("intervalRefId");
d(K);
e(J)
});
j(h).resize(F.debounce(n,50));
I.addClass("loaded");
j(h).resize();
var G=0;
I.each(function(){var N=j(this);
var M=j(this).find(".carousel-arrows.global-arrows").length;
if(N.hasClass("autoplay")&&(N.find(".features-carousel-slide.item").length>1)&&(M>0)){var K=N.data("interval");
if(!K){K=7000
}var J=setInterval(function(){k(N,true)
},K);
var L="interval"+G;
N.data("intervalRefId",L);
w[L]={setInterval:J,delay:K,container:N}
}G++
});
j(h).scroll(F.debounce(q,100));
j(h).scroll()
}function z(H,G){return Number(H.css(G).replace("px",""))
}function A(G,H){H.css("left",G+"px")
}function v(H,G){H.append(G);
return H.children().last()
}function B(K){var N=K.width(),J=K.hasClass("two-tiles"),M=K.find(".features-carousel-slide").first(),L=(M.length)?(z(M,"marginLeft")+z(M,"marginRight")):24,I=(J&&f!=="gux-bkpt-sm")?((N-(2*L))/2):(N-L),G,H=new Array();
K.find(".features-carousel-slide").each(function(){var O=j(this);
if(G==undefined){if(O.closest(".features-carousel-container ").hasClass("two-tiles")&&j("html").hasClass("fgx-brand-Ford")){I=I*0.9;
G=true
}}O.width(I-4);
H.unshift(I+z(O,"marginLeft")+z(O,"marginRight"))
});
return H
}function d(H){if(H&&w[H]){clearInterval(w[H].setInterval);
var G=setInterval(function(){k(w[H].container,true)
},w[H].delay);
w[H].setInterval=G
}}function o(J){var L=J.hasClass("two-tiles");
var G=j(J).find(".global-indicators").find("a.flex-active");
var O=j(J).find("ul.slides.slide-wrapper");
var H=0;
var K=(L&&f!=="gux-bkpt-sm")?2:1;
var I=O.children();
var N=G.text()*K;
j("[tabindex]",O).each(function(){j(this).attr("tabindex","-1")
});
while(H<K){if(N<I.length){var M=j(I[N]);
j("[tabindex]",M).each(function(){j(this).attr("tabindex","0")
});
if(M[0].hasAttribute("tabindex")){M.attr("tabindex","0")
}H++;
N++
}else{break
}}l(j(J),(parseInt(G.text())+1),j(J).find(".global-indicators").find("a").length,K)
}function l(H,L,K,G){var J=H.find(".pagination-info");
var I=J.data("label-template");
J.attr("aria-hidden","false");
J.attr("aria-live","polite");
J.attr("aria-atomic","true");
if(I){J.text(I.replace("{current}",L).replace("{total}",K).replace("{itemsPerPage}",G))
}}function t(I,L,G){if(!I||!L||!G){return
}var H=parseInt(I.attr("data-slide-id"),10),J=L.find("li").length,K=J-1;
switch(H){case 0:G.find(".carousel-previous").addClass("inactive");
G.find(".carousel-next").removeClass("inactive");
break;
case K:G.find(".carousel-previous").removeClass("inactive");
G.find(".carousel-next").addClass("inactive");
break;
default:G.find(".carousel-previous").removeClass("inactive");
G.find(".carousel-next").removeClass("inactive");
break
}}function E(J,L,K){var H=L.parent(".features-carousel-container"),G=H.find(".slide-wrapper");
K=K||false;
L.find("a.flex-active").removeClass("flex-active");
A(-1*J.attr("data-position"),G);
J.children("a").addClass("flex-active");
t(J,L,H);
var I=H.data("carousel-scroll-action");
if(typeof I!="undefined"&&!K){FD.Brand.Metrics.handler.direct(I)
}}function k(H,J){j(H).find(".carousel-previous").removeClass("inactive");
J=J||false;
var I=H.find(".global-indicators"),G=I.find("a.flex-active").parent().next();
if(G.length){E(G,I,J)
}else{}var K=j(H).find(".global-indicators").find("a.flex-active").parent().next().length;
if(!K){j(H).find(".carousel-next").addClass("inactive")
}o(H)
}function e(H,J){j(H).find(".carousel-next").removeClass("inactive");
J=J||false;
var I=H.find(".global-indicators"),G=I.find("a.flex-active").parent().prev();
if(G.length){E(G,I,J)
}else{}var K=j(H).find(".global-indicators").find("a.flex-active").parent().prev().length;
if(!K){j(H).find(".carousel-previous").addClass("inactive")
}o(H)
}function s(G,I){var N=G.parent(),H=N.find(".slide-wrapper"),K=v(G,'<ol class="flex-control-nav"></ol>');
var O=F.keys(I),J,M,L;
while((J=O.shift())){M=v(K,c(J,I[J].total));
if(I[J].total<=Number(H.css("left").replace("px","")*-1)){L=M.children("a")
}M.on("click",{metrics:"click meatball"+J},function(){var P=N.data("intervalRefId");
d(P);
E(j(this),G,false);
o(N)
})
}L.addClass("flex-active");
o(N)
}function c(H,I){var G=D+" "+(Number(H)+1);
return String.prototype.concat.call('<li  data-position="',I,'" data-slide-id="',H,'"><a href="javascript:void(0);" tabindex="0" role="button" data-fgx-keypress="true" aria-label="'+G+'">',H,"</a></li>\n")
}function g(I,K){var J=F.keys(K),H,G=I.children("ol").children("li");
while((H=J.shift())){j(G[H]).attr("data-position",K[H].total)
}}function r(G,I){var P=G.parent(),M=P.find(".slides-container"),H=P.find(".slide-wrapper"),L=0,O=F.filter(I,function(Q){if(Q.combined>L){L=Q.total+M.width();
return true
}return false
}),K=G.children("ol").children("li").length,N=O.length;
function J(){return G.children("ol").children("li").last().attr("data-position")!==O[N-1].total
}if(N>1){if(K!==N){G.empty();
s(G,O)
}else{if(J()){g(G,O);
A(-1*Number(G.find("a.flex-active").parent().attr("data-position")),H)
}}P.find(".carousel-arrows.global-arrows").addClass("scrollable");
G.addClass("scrollable")
}else{P.find(".carousel-arrows.global-arrows").removeClass("scrollable");
G.removeClass("scrollable");
A(0,H)
}}function n(){f=b.currentBreakpoint();
if(f!=="gux-bkpt-sm"){j(".carousel-arrows.hoverArrows",C).removeClass("hide-arrows");
j(".carousel-arrows.hoverArrows",C).hide()
}else{j(".carousel-arrows.hoverArrows",C).addClass("hide-arrows")
}C.each(function(){var H=null,L=j(this);
if(L.hasClass("fgx-in-hideable-section")&&!L.is(":visible")){H=L.data("fgxHiddenContainerEl");
if(H&&typeof(H)!=="undefined"&&H.length>0){H.addClass("fgx-brand-size-calc")
}}var K=0,J=0,I=B(j(this)),M=F.chain(I).map(function(O){J+=Number(O);
var N={width:Number(O),total:K,combined:K+Number(O)};
K+=O;
return N
}).value();
j(this).find(".slide-wrapper").css("width",J*1.1+"px");
var G=j(this).find(".global-indicators");
if(G.length){r(G,M)
}if(H&&H.hasClass("fgx-brand-size-calc")){H.removeClass("fgx-brand-size-calc")
}})
}function q(){C.each(function(){var J=j(this),G=J.find(".features-carousel-slide.item").length,H=J.find(".carousel-arrows.global-arrows").length,I=J.data("intervalRefId");
if(!J.hasClass("autoplay")||G<=1||H===0){return
}if(!b.inViewport(J)){if(!J.hasClass("fgx-is-paused")){if(I&&w[I]){clearInterval(w[I].setInterval)
}J.addClass("fgx-is-paused")
}}else{if(J.hasClass("fgx-is-paused")){d(I);
J.removeClass("fgx-is-paused")
}}})
}})(jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.MediaOverlay,FD.Brand.Util,window);
(function(a,c){c.setInitHandler("[data-fgx-expanded-feature]",b);
function b(e){e.each(function(){var g=a(this).find(".sub-component-wrap.side-by-side");
if(g.length){var h=g.find("div.section");
if(h.length&&((h.length%2)===1)){h.last().addClass("pull-left")
}}var k=a(this).find(".expanded-header .moreDesc");
var f=a(this).find(".expanded-header .lessDesc");
var j=a(this).find(".expanded-header .description-more");
k.click(function(){j.toggle();
a(this).hide();
f.focus()
});
f.click(function(){j.toggle();
k.show();
k.focus()
})
});
var d=a("a.global-cta-expanded-feature.btn-primary",e);
window.FD.Brand.Util.ctaHover(d)
}})(jQuery,FD.Brand);
(function(c,a,e){e.setInitHandler("[data-fgx-disclosures]",d);
function d(k){var f=c("ul",k),g=c(".disc-intro",k),l=c("#fgx-sitewide-disclosures",k),h="",j=0;
if(g.length>0){h=g.html()
}a.each(FD.Brand.Context.disclosures||[],function(m){if(j===0&&(h.length>0)){c('<li class="disc-note">'+h+"</li>").appendTo(f)
}else{c("<li>"+m.id+". "+b(m.detail)+"</li>").appendTo(f)
}j++
});
c("a",f).attr("tabindex","-1");
c("sup",f).attr("tabindex","-1");
k.on("click",".title button",function(){c(this).closest(".disclosures").toggleClass("open");
c(this).attr("aria-expanded",c(this).closest(".disclosures").hasClass("open"));
if(c(this).closest(".disclosures").hasClass("open")){f.attr("tabindex","");
l.attr("aria-hidden","false");
c("a",f).attr("tabindex","0");
c("sup",f).attr("tabindex","0")
}else{f.attr("tabindex","-1");
l.attr("aria-hidden","true");
c("a",f).attr("tabindex","-1");
c("sup",f).attr("tabindex","-1")
}}).addClass("loaded")
}function b(g){if(g.indexOf("<p>")!==0){if(g.indexOf("<p>")===-1){g="<p>"+g+"</p>"
}else{var f=g.split("<p>");
g="<p>"+f.shift()+"</p>"+f.join("<p>")
}}return g
}})(jQuery,FD.Brand.lodash,FD.Brand);
(function(g,f,c,e,k){var b;
var d;
c.setInitHandler("[data-fgx-send-to-phone-overlay]",j);
function j(m){b=e.register("sendToPhoneOverlay",m);
var l=b.show;
b.show=function(o,n){d=o;
l(true,n,"input")
};
f(".icon-closer",m).on("click",function(){b.hide();
h(m)
});
f("form",m).submit(a)
}function h(l){l.find(".error").hide();
l.find(".success").hide();
l.find("form").show();
l.find(".phone-disclaimer").show();
l.find("input[type=phone]").val("")
}function a(q){q.preventDefault();
var u=f(this);
var s=u.find('[name="number"]').val();
var t=s.replace(/\D/g,"").replace(/^1/g,"");
var p=f.trim(u.find('[name="carrier"]').val());
var l=u.data("from-address");
var r=u.data("send-complete-action");
if(l==undefined){l="lcdealer@ford.com"
}var m;
u.find(".errors").stop(true,false).slideUp("fast",function o(v){u.find(".error").stop(true,false).hide()
});
if(!t||t.length!==10||!s.match(/^[0-9 \-()]+$/)){m="number"
}else{if(!p||p==="?"){m="carrier"
}}if(m){u.find(".errors").stop(true,true).show().find(".error."+m).slideDown()
}else{var n={to:t+"@"+p,from:l,fromDisplayName:l,template:"lad",data:JSON.stringify(d),html:false};
f.post(k.settings["mailSendUrl"+k.make]+"/core-services/mail/send",n);
u.add("p",u.parent()).hide();
u.parent().find(".success").slideDown("fast",function(){setTimeout(function(){b.hide();
h(f("[data-fgx-send-to-phone-overlay]"))
},1000)
});
if(typeof r!="undefined"){FD.Brand.Metrics.handler.direct(r)
}}}})(window,jQuery,FD.Brand,FD.Brand.Overlay,FD.Brand.Context);
(function(d,c,f,a,b){f.setInitHandler("[data-fgx-quick-search]",e);
function e(m){var g=c(".fgx-brand-subheadline",m).html()+" "+f.Pricing.postalLink();
c(".fgx-brand-subheadline",m).html(g);
var h=c("#qsMinYear",m).attr("placeholder");
c("#qsMinYear",m).on("focus",j);
c("#qsMaxYear",m).on("focus",j);
c("#qsMinYear",m).on("blur",o);
c("#qsMaxYear",m).on("blur",o);
function j(r){var q=c(this);
if(q.val().length===0){q.attr("placeholder","")
}}function o(r){var q=c(this);
if(q.val().length===0&&typeof h!=="undefined"){q.attr("placeholder",h)
}}c(".fgx-custom-select",m).on("click",function(s){var q=c(this),r=q.data("dropdownId");
if(c(s.target).hasClass("fgx-custom-select")||c(s.target).hasClass("fgx-custom-select-current")||c(s.target).hasClass("fgx-custom-down-icon")||c(s.target).closest(".fgx-custom-select-current").length){s.stopPropagation();
p(q,r)
}else{if(c(s.target).is("li")&&c(s.target).closest(".fgx-custom-list-options").length){l(q,c(s.target),r)
}}q.focus()
});
c(".search-cta",m).on("click",function(){if(c("#qsMinYear",m).length>0||c("#qsMaxYear",m).length>0){var q=false;
var y=new Date().getFullYear();
var t=c("#qsMinYear",m);
var A=c("#qsMaxYear",m);
if(t.val()!=null&&t.val()!==""){if(/^\d+$/.test(t.val())===false||(t.val()>999&&t.val()<=y)===false){q=true;
t.css("border-color","red")
}else{t.attr("style","")
}}if(A.val()!=null&&A.val()!==""){if(/^\d+$/.test(A.val())===false||(A.val()>999&&A.val()<=y)===false){q=true;
A.css("border-color","red")
}else{A.attr("style","")
}}if(q){c(".error-text-year",m).removeClass("hidden");
return false
}else{if(!c(".error-text-year",m).hasClass("hidden")){c(".error-text-year",m).addClass("hidden")
}}}var v=c(this).data("ctaLink");
var s=c(this).closest(".dropdown-wrap");
s.find(".fgx-custom-select").each(function(){var C=c(this).data("dropdownId"),B=c(this).find(".fgx-custom-select-current span").data("currentValue")||"";
v=v.split("{"+C+"}").join(B)
});
if(s.closest(".quick-search").data("displayType")==="quick-search"){v=v.replace("{distance}","");
v=v.replace("{priceHigh}","")
}var r=s.find(".year-low").val()||"";
var w=s.find(".year-high").val()||"";
v=v.replace("{yearLow}",r);
v=v.replace("{yearHigh}",w);
v=v.replace("{zipCode}",(b.location.current().postalCode||""));
var z=v.indexOf("?");
if(z>=0){var u=v.substring(0,z);
var x=v.substring(z+1);
x=a.parameters.encode(a.parameters.decode(x));
v=u+"?"+x
}d.location=v
});
function p(q,r){if(q){var u=q.find(".fgx-custom-select-dropdown");
if(r&&r==="model"&&!u.hasClass("shown")&&q.data("updateMake")==="y"){var s=q.data("currentMake");
u.find("ul").each(function(){var v=c(this).data("makeId");
if(v&&v!==s){c(this).addClass("fgx-hidden")
}else{if(v&&v===s&&c(this).hasClass("fgx-hidden")){c(this).removeClass("fgx-hidden")
}}});
q.data("updateMake","n")
}var t=u.hasClass("shown");
if(t){u.removeClass("shown");
q.find(".fgx-custom-select-container").removeClass("shown")
}else{c("body").trigger("click");
u.addClass("shown");
q.find(".fgx-custom-select-container").addClass("shown")
}c("body").one("click",k);
q.attr("aria-expanded",u.hasClass("shown"));
q.find("ul").attr("aria-hidden",!u.hasClass("shown"));
q.find("ul.fgx-hidden").attr("aria-hidden","true")
}}function l(q,x,v){if(q&&x){var s=x.data("customValue"),w=x.data("customKey"),r=q.find(".fgx-custom-select-current span"),u=r.data("currentValue");
if(!u||q.hasClass("fgx-brand-init-state")||(u&&(u!==s))){if(v&&v==="make"){var t=q.siblings(".fgx-custom-select.model-dropdown");
t.data({currentMake:s,updateMake:"y"});
n(t)
}q.find(".fgx-custom-select-current span").data("currentValue",s).html(w);
q.removeClass("fgx-brand-init-state");
q.attr("aria-activedescendant",x.attr("id"));
c("li",q).attr("aria-selected","false");
x.attr("aria-selected","true")
}}}function k(){c("body").off("click",k);
c(".fgx-custom-select-dropdown.shown",m).removeClass("shown");
c(".fgx-custom-select-container.shown",m).removeClass("shown");
c(".fgx-custom-select",m).attr("aria-expanded","false");
c(".fgx-custom-select > ul",m).attr("aria-hidden","true")
}function n(q){var s=q.data("defaultLabel")||"";
$currSelect=q.find(".fgx-custom-select-current span");
if($currSelect.length){$currSelect.html(s);
$currSelect.data("currentValue","")
}if(q.hasClass("model-dropdown")&&q.data("updateMake")==="y"){var r=q.data("currentMake");
q.attr("aria-owns","fgx-quickSearch-modelListbox-"+r.toLowerCase())
}}}})(window,jQuery,FD.Brand,FD.Brand.Util,FD.Brand.User);
(function(R,G,ac,Q,V,s,E,e,w,D){ac.extend(Q.namespace("FD.Brand.DealerTrigger",R),{fireMetrics:A});
var z;
var d=null;
var b={};
var t;
var h=false;
var L=null;
var K=null;
var j=null;
var N=null;
var q=null;
var y=false;
var C=G("#dt").data("sales-open-until");
var l=G("#dt").data("sales-open-again");
var n=G("#dt").data("hours-displaytype");
var Z=G("#dt").data("pagination-arialabel")||((s.accessibility&&s.accessibility.meatballLabelPrefix)||"");
var a=G("#dt").data("updateSearchLabel")||"";
var m=G("#dt").data("dealer-search-action");
var I=G("#dt").data("carousel-scroll-action");
if(n===undefined||n===""){n="12"
}var f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAACFklEQVR4Ac3YvWsTDxzH8W86/BAKhYKSIPEBVGo3iYOUKj+wg5NdXEzBoYsdfKhD54JiMAlW6BAFxzq46T9QCg5xs9dK0aEU1BJCiYu9wbahfnwvt9SW3vUeA6/Pke1NlvA9C/K58NLpxxAqWEAL2xC20cICKhhCP8wvY/wYwBSWoACWMIWBKGL6MI0NKIQNTKPvqDHDcKAIORgOGlOGC8XARdlvzBh2oRjtYuywmBFsQQnYwshBMUWsQglaRXG/mAaUgsbemBI2oRRsouTF5DALpWgWOWMK6EAp6qBgTBnKgLIxc1AGzBmzAmXAijEulAGuMcoKY7pQBnSN6UAZ8NOYJpQBTWOeQxkwY8xVKAOuGdMLB0rRInqNMUxCKZqEeTEFrEMpWEfei/HchVIwAdsb04N3UILeo+ffGCAPB0rAJ5w47FQ5h2UoRp9x1u8Rl8fHGH+RQtDz9jg+QBFaxpmjHv4n4UAR+IbBsK9ETuMrFEIbpajez1xGO8QZOwqLJga4hS4U0ANYtDHAQyiAKiyeGOAF5MMbWKwx5xuLOR9/G/M4FnMMgCK+QPv4jouwZGKAK3AhD37jf1iyMcBtyINxWDoxwBMIz2DpxiD3uj0KC8uYwOr1+iBuYnymXr33qvp4gucjvt/HHdzAKVgQxgTxH96ihT/QAXawhkpsMbVaLcfzOhpo4gdcdLGDX1jDPJ7iEsyvv5xqn4qdXfgLAAAAAElFTkSuQmCC";
var k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAACEklEQVR4Ac3YvWsTcRzH8W86iFAoFJQEiQ/gULtJHKRUEZrByS4uTcGhixF8qEPngmIwCVboENzr4Kb/QCk4xE3TStGhFNQSSqmLvcG2oX58L7eElt41d/e7wOtzZHsTLhy/szCfYunBIEZQwRLa2IOwhzaWUMEIBmFBGRPEEGawDIWwjBkMRREzgFlsQT3YwiwGThozihYUoRZGw8aU4EEx8FAKGjOJAyhGB5g8LqaIXSgBuygeFZPHGpSgNeQPi2lADjS6YwrYgRzYQcGPyWAecmgeGWNy2IYc2kbOmBKUAiVjFqAUWDBmFUqBVWM8KAU8Y5QWxnSgFOiY+781gN/GNKEUaBrzCkqBOWNuQClw05h+tCCHvqDfGMM05NA0zI/JYQNyYANZP8Z3H3KgDOuO6cN7KEEf0IeuGCCb4M38GWePO6pcxgoUo6+4FPQQl8WnGH+RXNjj7Rl8hCK0gosnPfifi/Ae+oHhXl+JXMB3qAebKET1fuYaNns4xo7DookB7qIDhfQYFm0M8AQKoQqLJwZ4DQXwFhZrzNhEORPgsbGI0zHHAMjjG9QNP3EFlkwMcB0e5MNf3IIlGwNMQD5MwdzEAM8hvIS5jQHGYU5i6vX6MO5gaq5effim+qzM9SnfH+EebuM8LAxjwjiFd2jjH3SEfayjEltMrVbLcB1DA038gocO9vEH61jEC1yFBfUf54SLgzwn+n4AAAAASUVORK5CYII=";
var W=e.env.browser();
var u={};
if(W.name==="IE"&&W.version==11){u={enableHighAccuracy:false,maximumAge:50000}
}if(s.make==="Lincoln"){f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzIyN2M2Ni1mOTQ4LTRkMGYtYjhmYy01ZWZiNzc2OTk1YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3Qzk5OUNBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3Qzk5OUJBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NGZmMDhhMi1hNjRkLTRmNTYtOGY1My1kOTE3NzA0MjE0M2EiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NDBiY2Y0Ni1lZGMzLTExNzktYThhYi1jZmVjYWRjNjA5NWIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6pBZU9AAAC40lEQVR42syZTWgTQRiGZ9dibamCEFqUSi8F9dSSmwhCKagFf0A9WLGWCir+IEIJqAVB9GBPiiIUKtFSEQXFoh68eKgXFTT+gVpB1CqSatH+WLU2Jr4f+0ViSHZndrO788JDQlhmnn47OzszNSY6VgmFzAdLwBqwDCwGETAb/AajYAjcA7fAK/DNrsG58dv/vpdJSlCna8FW0FDkGhJayDSBw+ApuAhusqRtnGTmgQNgL6gW6mlgYuAsOAUmil1s2jS0HAyCoy5FclPN7Qxyu0oyrYBuZqMobRq53VbZ27QF9DtUzUuqeBwZ4JJdZZpB3EeR3H7j3F9BmVrQA8pFMKF+eia3r64tJHMI1ItgU8/9/icTBW0inLShOtGsDA2kdpoMQ5KhftshZJBMDT9BYYb6rzF56o6ELEP9N5FMi9AjLSYPXh0SJZk6TWTqTJ6edUgVyaQ0kUmRzJgmMuMk81oTmSGT16s65D7JDGgiM0Ayj8GTkEXIIUEyU+BCyDJ92LJMZZcQV8DHkESo38u565kkOBaSzHFUZSR/pXcOXA960ILeQsvONNgd4GBOgJ2oSrrY7oDKtQk881nkOdgIvjht4t6AlT5Ohglu/53sjpIqtA7cLbEIVXwDPzBKe+1R3oaWagy9B5v5U3njT/kE1vM5i5ckuSIvnbaZThnmc5mkS5FpsIvHivAqQ3kE9rlciNHZzA3ZDbhsroFORZFucEblNEAlp8FJyWvp2OOg6tGEajolXht3wA435ySqyYD9Nk/GMI+vX0HIZF/7HeB73u8ksM3tVODlhOpBgVuxR1iHiCJoGcGLouw66AQ476WxMuE9R8BD2bnELkYmk5EvY681CXeP9S8V1hFYZJZIV1amp1M/zPKKP8KkSXEcfAYvwIdYLOZPZSBBR/J9YAVYQH8MBMSkWZF/6QyJ8G3s8kUGVZwxDIOWiV+FdcC8SFj/3JjDj/xPftu/pU0ZuKrS/l8BBgAIr6HiAr4DYAAAAABJRU5ErkJggg==";
k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzIyN2M2Ni1mOTQ4LTRkMGYtYjhmYy01ZWZiNzc2OTk1YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3Qzk5QTBBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3Qzk5OUZBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NGZmMDhhMi1hNjRkLTRmNTYtOGY1My1kOTE3NzA0MjE0M2EiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NDBiY2Y0Ni1lZGMzLTExNzktYThhYi1jZmVjYWRjNjA5NWIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4z6FRPAAAC4ElEQVR42syZXUgUURiGv5kkUywIRAkMb4SyG2XrIhECCQKhH6guMjLpoqIfIpCFIhCiLvKqKALBsMSIgiKpLrrpwm4ssLUfsAyisojNpLSyMrfd3o/5NrZlnJkzs/PzwoOLDuc8fnPmzDlntdqVq0khi8FysB40gGWgHMwHv8EEGAWD4A54Ab5YNTgyNPjvs+ZQhjvdAHaAOgX5J+AyuC2SljJFNo0tAofBAVBB6qkT4uA8OAO+znWxbtFQIxgAx12K5KZC2hmQdpVkWsBdUE+FTb2022L2R7PbtB302VTNS8pkHGngilVl1oIeH0Vy++2R/kxlqkAXKKZgwv10rVjVUGUmcxTUULCpkX7/k4mBVgonrahOLDuAeSC1gYUhyXC/bRAa5spUyhMUZrj/SpZpkvdLmOH+m1immaKRZl0GbxQSY5nqiMhU6zI9RyFlLJOKiEyKZSYjIjPFMi8jIjOqy3o1CnnAMv0RkelnmWHwOGQRdkiwzDS4FLJML3YJ09klxDXwPiQR7vdq7nomCU6EJHMSVfmYv9K7AG4GPWhBt9myMw32BTiYE2APqpKea3fA5doKnvos8gxsAZ/sNnGvwDofJ8OEtP/G6Y6SK7QR3C+wCFd8szwwSnvtCdmGFmoMvQXb5Kfyxp/zAWyScxYvSUpFntttM+0yJucySZciM2CvjBXyKsN5BA66XIjx2cwtpxtwp7kB2hVFOsE5ldMAlZwFpx1ey8ceR1SPJlTT7uC1cQ/sdnNOopoMOGTxZIzJ+PoVhEz2tb8LfM/7PQvsdDsVeDmhemhyK/aTcYhIQcuQLIqy66BT4KKXxorIezrAkNO5xCpaJpNxXsZuYxLunOyrJeMIrHwepUtL0zOpH3pxyR/SeVKcAuNgBLyLx+P+VAYS/B1BL1gDlvA/AwH6ppfkXzrLInIbj/kigyrOaprGy8TPZBwwLyXjy40F8sj/lLf9a96Ugesq7f8VYAC8iKS3xTatlQAAAABJRU5ErkJggg=="
}Q.setInitHandler("[data-fgx-locate-dealer-trigger]",U);
function U(ad,af){z=ad;
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig){d=FD.Brand.Component.locateDealerConfig
}if(z.length===0||d==null){return
}q=d.dealerDetailPageUrl;
N=G(".dealer-mini").data("moredealershref");
if(N===""||N==null||N==undefined){N=(af||s.settings.synBaseUrl||"")+(s.settings.sitePath||"")+"dealerships"+(R.location.pathname.substr(R.location.pathname.length-5)===".html"?".html":"/")
}if(q===""||q==null||q==undefined){q=(af||s.settings.synBaseUrl||"")+(s.settings.sitePath||"")+"dealer-details"+(R.location.pathname.substr(R.location.pathname.length-5)===".html"?".html":"/")
}z.each(function(){var ag=G(this);
G(".trigger-update-zip .body",ag).append(G(".location-unaware",ag).clone());
var ah="a:visible, input:text:visible, button:visible, [data-fgx-keypress]:visible";
t=V.register("triggerUpdateZipOverlay",G(".trigger-update-zip",ag),{},ah)
});
z.on("click",".location-unaware .search-options input",S);
z.on("click",".location-unaware .search-options .txt-label",function(ag){G(this).closest("label.radio").find("input").trigger("click")
});
z.on("focusin focusout keyup",".location-unaware .search input",Y);
z.on("click",".search-submit",M);
z.on("click",".search-clear",function(){var ag=T.call(G(this));
ag.$txt.val("").focus()
});
z.on("click",".details .actions .directions a",function(ag){ag.preventDefault();
B.call(this,true)
});
z.on("click",".details .actions .send-phone a",o);
z.on("click",".dealers .collapse-icon span",function(){B.call(this,false)
});
z.on("click",".geo .btn",v);
z.on("click",".type-ahead-results li",function(){var ag=G(this);
var ai=T.call(ag);
var ak=ag.text();
var aj=ag.find(".result-name");
var ah=ag.data("pacode");
if(aj.length){ak=aj.text()
}ai.$txt.val(ak);
if(ah!=null){X.call(ag,ah)
}else{M.call(ag)
}});
z.on("click",".pagination li",c);
G(".carousel",z).each(function(){e.carousel.swipe(this,function(ah,ag){c.call(ah,null,ag)
})
});
z.on("slid.bs.carousel",".carousel",function(){var ah=G(this);
var ag=ah.find(".active").index();
ah.next().find("span").removeClass("active").eq(ag).addClass("active")
});
z.on("click",".js-postal-link",function(ag){ag.preventDefault();
G(".trigger-update-zip .location-unaware",z).show();
t.show(true,G(this),".radio .txt-label");
var ah=!ab(this,".location-aware").hasClass("collapsed");
if(ah){y=true;
G(".dealers .collapse-icon span").trigger("click")
}else{y=false
}if(K==="dealerName"){G(":radio[value=dealer]",z).each(function(){G(this).trigger("click")
})
}else{G(":radio[value=location]",z).each(function(){G(this).trigger("click")
})
}});
z.on("click",".trigger-update-zip .close-flip",function(){t.hide();
if(e.currentBreakpoint()==="gux-bkpt-sm"){window.location.hash="dt"
}});
G("script[data-fgx-locate-dealer-trigger-template-id]").each(function(ag,ah){var ai=G(ah);
b[ai.attr("data-fgx-locate-dealer-trigger-template-id")]=ac.template(ah.innerHTML)
});
if(FD.Brand.Util.env.geoLocation()){var ae=E.location.coordinates()
}E.location.subscribe(O);
O()
}function A(ad){var ae=G(ad.currentTarget).attr("data-fd-metrics-click");
if(typeof ae!="undefined"){FD.Brand.Metrics.handler.direct(ae)
}}function P(ad){G(".location-aware",z).toggle(ad);
G(".location-unaware",z).toggle(!ad)
}function B(ae){var af=ab(this,".location-aware");
var ad=G(".dealers",af);
var ag=!af.hasClass("collapsed");
if(ae==null){ae=!ag
}if(ae===ag){return
}if(ae){ad.slideDown();
af.removeClass("collapsed");
p.call(this)
}else{ad.slideUp();
af.addClass("collapsed")
}}function ab(af,ad){var ae=G(af).closest("[data-fgx-locate-dealer-trigger]");
if(ad){ae=ae.find(ad)
}return ae
}function S(){var ae=G(this);
var ad=ae.val();
var af=ab(ae,".location-unaware");
var ag=G(".search .search-text-"+ad,af);
D.updateSearchHints(ab(this,".type-ahead-results"),T.call(this),ag,true);
ae.closest(".search-options").find("label").removeClass("selected");
ae.closest(".search-options").find("label span.txt-label").attr("aria-checked","false");
ae.parent().addClass("selected");
ae.parent().find("span.txt-label").attr("aria-checked","true");
G(".search-wrap .search",af).toggleClass("show-location",ad==="location");
G(".search input",af).hide();
ag.show().focus()
}function Y(ah){if(ah.type==="focusin"){ah.preventDefault();
if(e.currentBreakpoint()==="gux-bkpt-sm"){window.location.hash=""
}}var ad=ah.type!=="focusout";
var ae=G(this);
var aj=ae.val();
var af=aj.length>0;
var ag=ab(ae,".location-unaware");
setTimeout(function(){var al=G(document.activeElement);
G(".search-action",ag).toggle(!af);
if(!al.hasClass("search-submit")){G(".search-submit",ag).toggle(ad&&af);
G(".search-clear",ag).toggle(!ad&&af)
}else{G(".search-submit",ag).one("focusout",function(){G(".search-submit",ag).toggle(ad&&af);
G(".search-clear",ag).toggle(!ad&&af)
})
}if(!al.hasClass("geo")){G(".geo",ag).toggle(FD.Brand.Util.env.geoLocation()&&ad)
}else{G(".geo",ag).one("focusout",function(){G(".geo",ag).toggle(FD.Brand.Util.env.geoLocation()&&ad)
})
}},150);
if(ah.type==="keyup"){if(ah.keyCode===13){M.call(ae)
}else{if(ah.keyCode===40){if((ae.attr("aria-expanded")==="true"||ae.attr("aria-expanded")===true)){var ak=G(".type-ahead-results:visible",ag).find("ul");
var ai=ak.find("li").first();
ai.focus()
}}else{D.updateSearchHints(ab(this,".type-ahead-results"),T.call(this),ae)
}}}}function T(){var ae=ab(G(this),".location-unaware");
var ad=G(".search input:visible",ae);
return{$txt:ad,val:ad.val(),isDealer:ad.hasClass("search-text-dealer")}
}function X(ad){var ae=ab(this,".location-unaware");
var af=T.call(ae);
var ag={make:s.make,dealerPACode:ad};
K="dealerName";
j=af.val;
r.call(ae,true);
J.call(ae,ag).done(function(){r.call(ae,false);
P(true);
t.hide();
af.$txt.attr("aria-expanded","false");
af.$txt.removeAttr("aria-activedescendant");
if(e.currentBreakpoint()==="gux-bkpt-sm"&&window.location.hash!=="dt"){window.location.hash="dt"
}H();
if(typeof m!="undefined"){FD.Brand.Metrics.handler.direct(m)
}}).fail(function(ah){r.call(ae,false);
g(ah,isPostal)
})
}function M(){var ae=ab(this,".location-unaware");
var af=T.call(ae);
var aj=(af.isDealer)?G(".search .search-text-dealer",ae):G(".search .search-text-location",ae);
var ad=false;
var ai=/^[a-zA-Z]{2}$/g;
var ah={make:s.make,radius:50,minDealers:1,maxDealers:5};
D.updateSearchHints(ab(this,".type-ahead-results"),T.call(this),aj,true);
if(!af.val){H(null,af.isDealer?"required-dealer":"required-location");
return
}if(/^(?=.*[a-zA-Z])(?=.*[0-9])/.test(af.val)){if(!(new RegExp(d.validationZipCode)).test(af.val)){H(4);
return
}ah.postalCode=af.val;
ad=true
}else{if(/\d+/.test(af.val)){if(!(new RegExp(d.validationZipCode)).test(af.val)){H(4);
return
}ah.postalCode=af.val;
ad=true
}else{if(!/^[A-Za-z.,\-\' ]+$/.test(af.val)){H(7);
return
}if(af.isDealer){ah.dealerName=af.val
}else{if(af.val.indexOf(",")<0){if(D.isFullStateName(af.val)){ah[s.region==="CA"?"province":"state"]=af.val
}else{if(ai.test(af.val)){ah[s.region==="CA"?"province":"state"]=af.val
}else{ah.city=af.val
}}}else{var ag=af.val.split(",");
ah.city=G.trim(ag[0]);
if(ag.length>1){ah[s.region==="CA"?"province":"state"]=G.trim(ag[1])
}}}}}K=(af.isDealer)?"dealerName":"location";
j=af.val;
r.call(ae,true);
x.call(ae,ah).done(function(){r.call(ae,false);
if(ad){L=ah.postalCode;
E.location.setPostalCode(L)
}P(true);
t.hide();
af.$txt.attr("aria-expanded","false");
af.$txt.removeAttr("aria-activedescendant");
if(e.currentBreakpoint()==="gux-bkpt-sm"&&window.location.hash!=="dt"){window.location.hash="dt"
}H();
aj.blur();
if(typeof m!="undefined"){FD.Brand.Metrics.handler.direct(m)
}}).fail(function(ak){r.call(ae,false);
g(ak,ad)
})
}function x(ag){var ah=ab(this);
var al=ab(this,".location-aware");
var ad=G.Deferred();
var aj=["dealers"],am=[],af=[],ak=[];
var ai=function(an){if(!an||an.length===0){var ao={message:"[locateDealerTrigger - getDealers] - no dealers were returned."};
af.push(ao);
return
}ak.push(an)
};
var ae=function(an){var ap=(an&&an.Response)?an.Response:{};
var ao={message:ap.Message||ap.Error||"[locateDealerTrigger - getDealers] - error retrieving the dealers"};
af.push(ao)
};
ac.each(aj,function(ao){var an=w[ao](ag);
an.then(ai,ae);
am.push(an)
});
G.when.apply(G,am).done(function(){if(aj.length===af.length){ac.each(af,function(ao){if(ao.message){ad.reject(ao.message)
}})
}else{var an=F(ak,al);
ad.resolve(an)
}}).fail(function(an){ad.reject(an)
});
return ad.promise()
}function J(af){var ad=ab(this,".location-aware");
var ae=G.Deferred();
w.dealer(af).done(function(aj){if(!aj||aj.length===0){ae.reject(aj);
return
}var ai=G(".dealers .list-inline",ad);
var am=G(".carousel-inner",ad);
var ak=G(".pagination ul",ad);
var ah=0;
ai.empty();
am.empty();
ak.empty();
aj=D.updateDealer(aj,ah,C,l,null,q,n);
var ag={dealer:aj,cfg:d};
G(".closest-dealer",ad).html(b.desktopClosest(ag)).data("dealer",aj);
aj.selected=true;
G(b.mobileSlide(ag)).appendTo(am).data("dealer",aj);
G('<li><span class="page active">'+(ah+1)+"</span></li>").data("idx",ah).appendTo(ak);
G(".info .distance").hide();
ad.data("dealers",[aj]);
G(".ford-carousel-locate-dealer-mini",ad).toggleClass("has-multi",false);
G(".carousel",ad).carousel({interval:false});
var al=ad.data("map");
if(al){al.dispose();
ad.data("map",null)
}if(y){G(".details .actions .directions a",ad).trigger("click")
}O();
ae.resolve(aj)
}).fail(function(ag){ae.reject(ag)
});
return ae.promise()
}function F(af,ah){var ae=G(".dealers .list-inline",ah);
var ak=G(".carousel-inner",ah);
var ai=G(".pagination ul",ah);
ae.empty();
ak.empty();
ai.empty();
var ag=[];
if(af.length>1){ac.each(af,function(al){ag=ag.concat(al)
})
}else{if(af.length===1){ag=af[0]
}}ag=ac.sortBy(ag,function(al){var am=1;
if(al&&al.Distance){am=parseFloat(al.Distance)
}return am
});
if(ag.length>5){ag=ag.slice(0,5)
}var ad=(ag[0]!==null&&ag[0].Distance!==null)?parseInt(ag[0].Distance):null;
if(ad&&(ad>50)){ag=ag.slice(0,1)
}ac.each(ag,function(an,am){an=D.updateDealer(an,am,C,l,null,q,n);
if(an.URL&&!ac.isEmpty(an.URL)){an.URL=D.appendT3QS(an.URL)
}var al={dealer:an,cfg:d};
if(am===0){G(".closest-dealer",ah).html(b.desktopClosest(al)).data("dealer",an);
an.selected=true
}else{an.$el=G(b.desktopItem(al)).data("dealer",an);
an.$el.appendTo(ae);
an.selected=false
}G(b.mobileSlide(al)).appendTo(ak).data("dealer",an);
var ao=Z+" "+(am+1);
G('<li><span tabindex="0" role="button" data-fgx-keypress="true" aria-label="'+ao+'" class="page '+((am==0)?"active":"")+'">'+(am+1)+"</span></li>").data("idx",am).appendTo(ai)
});
if(K==="dealerName"){G(".info .distance").hide()
}ah.data("dealers",ag);
G(".ford-carousel-locate-dealer-mini",ah).toggleClass("has-multi",ag.length>0);
G(".carousel",ah).carousel({interval:false});
var aj=ah.data("map");
if(aj){aj.dispose();
ah.data("map",null)
}if(y){G(".details .actions .directions a",ah).trigger("click")
}O();
return ag
}function v(){var ae=ab(this);
var ad=function(){r.call(ae);
H.call(ae,5,null)
};
r.call(ae,true);
R.navigator.geolocation.getCurrentPosition(function(af){if(af&&af.coords){w.dealers({make:s.make,latitude:af.coords.latitude,longitude:af.coords.longitude,radius:50,minDealers:1}).done(function(ah){if(ah&&ah.length>0){var ag=T.call(ae);
ag.$txt.val(ah[0].Address.PostalCode);
r.call(ae);
M.call(ae)
}else{ad()
}})
}else{ad()
}},ad,u)
}function O(){var af=E.location.current();
var ae=af.postalCodeSource==="FPI"&&af.postalCode||"";
var ad="q";
if(K==="dealerName"){G(".dealer-name-label",z).show();
G(".location-label",z).hide();
ad="qn"
}else{G(".dealer-name-label",z).hide();
G(".location-label",z).show()
}if(j!=null&&j!=undefined){G(".js-postal-code",z).text(j).attr("aria-label",a+" "+j);
G(".more-dealers a",z).attr("href",N+"#/"+ad+"/"+j)
}else{if(ae!==""){G(".js-postal-code",z).text(ae).attr("aria-label",a+" "+ae);
G(".more-dealers a",z).attr("href",N+"#/"+ad+"/"+ae)
}else{if(af.postalCodeSource!=="FPI"){G(".js-postal-code",z).text(af.postalCode||"").attr("aria-label",a+" "+(af.postalCode||""));
G(".search-text-location",z).val(af.postalCode||"")
}else{G(".js-postal-code",z).text(L).attr("aria-label",a+" "+L);
G(".more-dealers a",z).attr("href",N+"#/"+ad+"/"+L)
}}}if(ae){if(ae!==L){L=ae;
var ag={make:s.make,radius:50,minDealers:1,maxDealers:5,postalCode:ae};
x.call(z,ag).done(function(){P(true)
})
}}else{if(j==null||j==undefined){P(false)
}}}function c(ag,ad){var af=G(this);
var ae=ab(af,".carousel");
ae.carousel(ad||af.data("idx"));
if(typeof I!="undefined"){FD.Brand.Metrics.handler.direct(I)
}}function r(ad){G(this).find(".ford-busy").toggle(ad)
}function g(ag,ae){var ad=2;
if(ae){if(ag&&ag.responseJSON&&ag.responseJSON.Response){var af=ag.responseJSON.Response.Message;
ad=(af.indexOf("Invalid Postal Code")>-1)?4:2
}else{if(ag==="[locateADealer - getDealers] - no dealers were returned."){ad=2
}else{ad=1
}}}H(ad)
}function H(af,ad){var ae=G(".location-unaware .message.error",z);
ae.find(".text").hide();
if(ad){ae.find(".text."+ad).show();
ae.show();
return
}if(af){ae.find(".text.error").show().text(d.errors[af]);
ae.show();
return
}ae.hide()
}function aa(){var ad=G.Deferred();
if(h){ad.resolve()
}else{R._fgx_mapControlLoaded=function(){h=true;
ad.resolve();
delete R._fgx_mapControlLoaded
};
e.url.loadAsScript(s.settings.mapHost+"?callback=_fgx_mapControlLoaded").fail(function(){ad.reject()
})
}return ad.promise()
}function p(){var ae=ab(this,".location-aware");
var af=ae.data("map");
var ad=ae.data("dealers");
if(af||!ad){return
}aa().done(function(){var aj=Microsoft.Maps;
af=new aj.Map(ae.find(".map")[0],{credentials:s.settings.mapKey,mapTypeId:Microsoft.Maps.MapTypeId.road,enableSearchLogo:false,enableClickableLogo:false,enableInertia:true,liteMode:false,showCopyright:false,showMapTypeSelector:false,showLocateMeButton:false});
var ah=[];
var ag=null;
var ai=function(al,an){al.selected=an;
var ak=(an)?"selected":"none";
al.infobox.setOptions({visible:an,state:ak});
var am=""+(al.index+1)+"";
al.pushpin.setOptions({state:ak,icon:f,text:am,textOffset:new Microsoft.Maps.Point(0,10)})
};
ac.each(ad,function(am){var al=new aj.Location(am.Latitude,am.Longitude);
ah.push(al);
if(am.selected){ag=al
}var ak=new aj.Infobox(al,{width:300,height:240,offset:new aj.Point(15,-100),htmlContent:b.infoContent({dealer:am,cfg:d})});
am.infobox=ak;
am.infobox.setMap(af);
var ao=new aj.Pushpin(al,{width:35,height:46,infobox:ak});
am.pushpin=ao;
ai(am,am.selected);
var an=function(){if(!am.selected){var ap=ac.find(ad,{selected:true});
if(ap){ai(ap,false)
}ai(am,true);
af.setView({center:am.pushpin.getLocation()})
}};
aj.Events.addHandler(ao,"click",an);
if(am.$el){am.$el.find(".index").click(an)
}af.entities.push(ao)
});
aj.Events.addHandler(af,"click",function(al){if(al.targetType==="map"){var ak=ac.find(ad,{selected:true});
if(ak){ak.infobox.setOptions({visible:false,state:"none"})
}}});
if(ah.length>1){af.setView({bounds:aj.LocationRect.fromLocations(ah)})
}else{af.setView({center:ah[0],zoom:11})
}if(ag){af.setView({center:ag})
}})
}function o(af){af.preventDefault();
var ad=G(this).closest(".closest-dealer").data("dealer");
var ae="";
if(ad&&typeof(ad)!="undefined"){if(ad.dlrcalltrk_lad&&ad.dlrcalltrk_lad!==""){ae=ad.dlrcalltrk_lad
}else{if(ad.ldlrcalltrk_lad&&ad.ldlrcalltrk_lad!==""){ae=ad.ldlrcalltrk_lad
}else{ae=ad.Phone
}}}V.instance.sendToPhoneOverlay.show({title:ad.Name,text:ad.AddressStreet+" "+ad.AddressCityStateZip,phone:ae},G(this))
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Overlay,FD.Brand.Context,FD.Brand.User,FD.Brand.Util,FD.Brand.NgpServices,FD.Brand.Dealer);
(function(e,g,a,b,c){var d;
g.setInitHandler("[data-fgx-ratings-info]",f);
function f(h){if(h.length===0){return
}d=b.register("dealerRatingsInfo",h);
e(".icon-close",h).on("click",function(){d.hide()
})
}})(jQuery,FD.Brand,FD.Brand.Util,FD.Brand.Overlay,FD.Brand.Context);
(function(ay,aS,ab,j,aL,U,W,aT,B,ag){var at;
var aO=null;
var l={};
var z=[];
var w=[];
var s=0;
var ao=false;
var h=false;
var aU=null;
var bb=true;
var aA=false;
var aK={};
var ba=false;
var bd=false;
var aG=false;
var b=false;
var ai=null;
var aq=null;
var a3=null;
var P=null;
var aj=[];
var a2={searchTerm:"",radius:"",filter:""};
var o=false;
var aR=false;
var aW=aS(".dealer-standard").data("dealer-no-zip-action");
var ah=aS(".dealer-standard").data("dealer-search-action");
var K="manual search:location";
var p=aS(".dealer-standard").data("save-click-action");
var aa=aS(".dealer-standard").data("unsave-click-action");
var m=aS(".dealer-standard").data("dealer-no-zip-action-owner");
var a8=aS(".dealer-standard").data("dealer-search-action-owner");
var aI=aS(".dealer-standard").data("advanced-search-action-owner");
var a6=aS(".dealer-standard").data("apply-advanced-search-action");
var aJ=aS(".dealer-standard").data("apply-advanced-search-action-owner");
var am=aS(".dealer-standard").data("view-more-click-action-owner");
var H=aS(".dealer-standard").data("view-map-click-action-owner");
var S=aS(".dealer-standard").data("back-to-list-click-action-owner");
var ak=aS(".dealer-standard").data("save-click-action-owner");
var az=aS(".dealer-standard").data("unsave-click-action-owner");
var n=aS(".dealer-standard").data("call-click-action-owner");
var Y=aS(".dealer-standard").data("text-click-action-owner");
var R=aS(".dealer-standard").data("chat-click-action-owner");
var al=aS(".dealer-standard").data("ratings-info-click-action-owner");
var ac=aS(".dealer-standard").data("dealer-details-click-action-owner");
var aD=aS(".dealer-standard").data("directions-click-action-owner");
var x=null;
var L=(FD.Brand.Component&&FD.Brand.Component.locateDealer)?FD.Brand.Component.locateDealer.labels.sales_open_until:"";
var ad=(FD.Brand.Component&&FD.Brand.Component.locateDealer)?FD.Brand.Component.locateDealer.labels.sales_open_again:"";
var aY=(FD.Brand.Component&&FD.Brand.Component.locateDealer)?FD.Brand.Component.locateDealer.detailAlwaysExpanded:"";
var au=(FD.Brand.Component&&FD.Brand.Component.locateDealer)?FD.Brand.Component.locateDealer.hoursDisplayType:"";
var c=(FD.Brand.Component&&FD.Brand.Component.locateDealer&&typeof FD.Brand.Component.locateDealer.hideIndependentBodyShop!=="undefined")?FD.Brand.Component.locateDealer.hideIndependentBodyShop:"false";
var aV=(FD.Brand.Component&&FD.Brand.Component.locateDealer&&typeof FD.Brand.Component.locateDealer.showScheduleService!=="undefined")?FD.Brand.Component.locateDealer.showScheduleService:"false";
var E=(FD.Brand.Component&&FD.Brand.Component.locateDealer&&typeof FD.Brand.Component.locateDealer.showRequestService!=="undefined")?FD.Brand.Component.locateDealer.showRequestService:"false";
var aX=(FD.Brand.Component&&FD.Brand.Component.locateDealer&&typeof FD.Brand.Component.locateDealer.hideTextOnOwner!=="undefined")?FD.Brand.Component.locateDealer.hideTextOnOwner:"false";
var bc=(FD.Brand.Component&&FD.Brand.Component.locateDealer&&typeof FD.Brand.Component.locateDealer.hideChatOnOwner!=="undefined")?FD.Brand.Component.locateDealer.hideChatOnOwner:"false";
var y=(FD.Brand.Component&&FD.Brand.Component.locateDealer&&typeof FD.Brand.Component.locateDealer.hideDirectionsOnOwner!=="undefined")?FD.Brand.Component.locateDealer.hideDirectionsOnOwner:"false";
var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAACFklEQVR4Ac3YvWsTDxzH8W86/BAKhYKSIPEBVGo3iYOUKj+wg5NdXEzBoYsdfKhD54JiMAlW6BAFxzq46T9QCg5xs9dK0aEU1BJCiYu9wbahfnwvt9SW3vUeA6/Pke1NlvA9C/K58NLpxxAqWEAL2xC20cICKhhCP8wvY/wYwBSWoACWMIWBKGL6MI0NKIQNTKPvqDHDcKAIORgOGlOGC8XARdlvzBh2oRjtYuywmBFsQQnYwshBMUWsQglaRXG/mAaUgsbemBI2oRRsouTF5DALpWgWOWMK6EAp6qBgTBnKgLIxc1AGzBmzAmXAijEulAGuMcoKY7pQBnSN6UAZ8NOYJpQBTWOeQxkwY8xVKAOuGdMLB0rRInqNMUxCKZqEeTEFrEMpWEfei/HchVIwAdsb04N3UILeo+ffGCAPB0rAJ5w47FQ5h2UoRp9x1u8Rl8fHGH+RQtDz9jg+QBFaxpmjHv4n4UAR+IbBsK9ETuMrFEIbpajez1xGO8QZOwqLJga4hS4U0ANYtDHAQyiAKiyeGOAF5MMbWKwx5xuLOR9/G/M4FnMMgCK+QPv4jouwZGKAK3AhD37jf1iyMcBtyINxWDoxwBMIz2DpxiD3uj0KC8uYwOr1+iBuYnymXr33qvp4gucjvt/HHdzAKVgQxgTxH96ihT/QAXawhkpsMbVaLcfzOhpo4gdcdLGDX1jDPJ7iEsyvv5xqn4qdXfgLAAAAAElFTkSuQmCC";
var X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAACEklEQVR4Ac3YvWsTcRzH8W86iFAoFJQEiQ/gULtJHKRUEZrByS4uTcGhixF8qEPngmIwCVboENzr4Kb/QCk4xE3TStGhFNQSSqmLvcG2oX58L7eElt41d/e7wOtzZHsTLhy/szCfYunBIEZQwRLa2IOwhzaWUMEIBmFBGRPEEGawDIWwjBkMRREzgFlsQT3YwiwGThozihYUoRZGw8aU4EEx8FAKGjOJAyhGB5g8LqaIXSgBuygeFZPHGpSgNeQPi2lADjS6YwrYgRzYQcGPyWAecmgeGWNy2IYc2kbOmBKUAiVjFqAUWDBmFUqBVWM8KAU8Y5QWxnSgFOiY+781gN/GNKEUaBrzCkqBOWNuQClw05h+tCCHvqDfGMM05NA0zI/JYQNyYANZP8Z3H3KgDOuO6cN7KEEf0IeuGCCb4M38GWePO6pcxgoUo6+4FPQQl8WnGH+RXNjj7Rl8hCK0gosnPfifi/Ae+oHhXl+JXMB3qAebKET1fuYaNns4xo7DookB7qIDhfQYFm0M8AQKoQqLJwZ4DQXwFhZrzNhEORPgsbGI0zHHAMjjG9QNP3EFlkwMcB0e5MNf3IIlGwNMQD5MwdzEAM8hvIS5jQHGYU5i6vX6MO5gaq5effim+qzM9SnfH+EebuM8LAxjwjiFd2jjH3SEfayjEltMrVbLcB1DA038gocO9vEH61jEC1yFBfUf54SLgzwn+n4AAAAASUVORK5CYII=";
var C="OwnerAdvantageRewards";
var a5;
var t=aT.env.browser();
var ax={};
if(t.name==="IE"&&t.version==11){ax={enableHighAccuracy:false,maximumAge:50000}
}if(U.make==="Lincoln"){g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzIyN2M2Ni1mOTQ4LTRkMGYtYjhmYy01ZWZiNzc2OTk1YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3Qzk5OUNBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3Qzk5OUJBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NGZmMDhhMi1hNjRkLTRmNTYtOGY1My1kOTE3NzA0MjE0M2EiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NDBiY2Y0Ni1lZGMzLTExNzktYThhYi1jZmVjYWRjNjA5NWIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6pBZU9AAAC40lEQVR42syZTWgTQRiGZ9dibamCEFqUSi8F9dSSmwhCKagFf0A9WLGWCir+IEIJqAVB9GBPiiIUKtFSEQXFoh68eKgXFTT+gVpB1CqSatH+WLU2Jr4f+0ViSHZndrO788JDQlhmnn47OzszNSY6VgmFzAdLwBqwDCwGETAb/AajYAjcA7fAK/DNrsG58dv/vpdJSlCna8FW0FDkGhJayDSBw+ApuAhusqRtnGTmgQNgL6gW6mlgYuAsOAUmil1s2jS0HAyCoy5FclPN7Qxyu0oyrYBuZqMobRq53VbZ27QF9DtUzUuqeBwZ4JJdZZpB3EeR3H7j3F9BmVrQA8pFMKF+eia3r64tJHMI1ItgU8/9/icTBW0inLShOtGsDA2kdpoMQ5KhftshZJBMDT9BYYb6rzF56o6ELEP9N5FMi9AjLSYPXh0SJZk6TWTqTJ6edUgVyaQ0kUmRzJgmMuMk81oTmSGT16s65D7JDGgiM0Ayj8GTkEXIIUEyU+BCyDJ92LJMZZcQV8DHkESo38u565kkOBaSzHFUZSR/pXcOXA960ILeQsvONNgd4GBOgJ2oSrrY7oDKtQk881nkOdgIvjht4t6AlT5Ohglu/53sjpIqtA7cLbEIVXwDPzBKe+1R3oaWagy9B5v5U3njT/kE1vM5i5ckuSIvnbaZThnmc5mkS5FpsIvHivAqQ3kE9rlciNHZzA3ZDbhsroFORZFucEblNEAlp8FJyWvp2OOg6tGEajolXht3wA435ySqyYD9Nk/GMI+vX0HIZF/7HeB73u8ksM3tVODlhOpBgVuxR1iHiCJoGcGLouw66AQ476WxMuE9R8BD2bnELkYmk5EvY681CXeP9S8V1hFYZJZIV1amp1M/zPKKP8KkSXEcfAYvwIdYLOZPZSBBR/J9YAVYQH8MBMSkWZF/6QyJ8G3s8kUGVZwxDIOWiV+FdcC8SFj/3JjDj/xPftu/pU0ZuKrS/l8BBgAIr6HiAr4DYAAAAABJRU5ErkJggg==";
X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzIyN2M2Ni1mOTQ4LTRkMGYtYjhmYy01ZWZiNzc2OTk1YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3Qzk5QTBBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3Qzk5OUZBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NGZmMDhhMi1hNjRkLTRmNTYtOGY1My1kOTE3NzA0MjE0M2EiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NDBiY2Y0Ni1lZGMzLTExNzktYThhYi1jZmVjYWRjNjA5NWIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4z6FRPAAAC4ElEQVR42syZXUgUURiGv5kkUywIRAkMb4SyG2XrIhECCQKhH6guMjLpoqIfIpCFIhCiLvKqKALBsMSIgiKpLrrpwm4ssLUfsAyisojNpLSyMrfd3o/5NrZlnJkzs/PzwoOLDuc8fnPmzDlntdqVq0khi8FysB40gGWgHMwHv8EEGAWD4A54Ab5YNTgyNPjvs+ZQhjvdAHaAOgX5J+AyuC2SljJFNo0tAofBAVBB6qkT4uA8OAO+znWxbtFQIxgAx12K5KZC2hmQdpVkWsBdUE+FTb2022L2R7PbtB302VTNS8pkHGngilVl1oIeH0Vy++2R/kxlqkAXKKZgwv10rVjVUGUmcxTUULCpkX7/k4mBVgonrahOLDuAeSC1gYUhyXC/bRAa5spUyhMUZrj/SpZpkvdLmOH+m1immaKRZl0GbxQSY5nqiMhU6zI9RyFlLJOKiEyKZSYjIjPFMi8jIjOqy3o1CnnAMv0RkelnmWHwOGQRdkiwzDS4FLJML3YJ09klxDXwPiQR7vdq7nomCU6EJHMSVfmYv9K7AG4GPWhBt9myMw32BTiYE2APqpKea3fA5doKnvos8gxsAZ/sNnGvwDofJ8OEtP/G6Y6SK7QR3C+wCFd8szwwSnvtCdmGFmoMvQXb5Kfyxp/zAWyScxYvSUpFntttM+0yJucySZciM2CvjBXyKsN5BA66XIjx2cwtpxtwp7kB2hVFOsE5ldMAlZwFpx1ey8ceR1SPJlTT7uC1cQ/sdnNOopoMOGTxZIzJ+PoVhEz2tb8LfM/7PQvsdDsVeDmhemhyK/aTcYhIQcuQLIqy66BT4KKXxorIezrAkNO5xCpaJpNxXsZuYxLunOyrJeMIrHwepUtL0zOpH3pxyR/SeVKcAuNgBLyLx+P+VAYS/B1BL1gDlvA/AwH6ppfkXzrLInIbj/kigyrOaprGy8TPZBwwLyXjy40F8sj/lLf9a96Ugesq7f8VYAC8iKS3xTatlQAAAABJRU5ErkJggg=="
}j.setInitHandler("[data-fgx-locate-a-dealer]",aw);
function aw(be,bg){at=be;
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig){aO=FD.Brand.Component.locateDealerConfig
}if(at.length===0||aO==null){return
}x=aO.dealerDetailPageUrl;
if(x===""||x==null||x==undefined){x=(bg||U.settings.synBaseUrl||"")+(U.settings.sitePath||"")+"dealer-details"+(ay.location.pathname.substr(ay.location.pathname.length-5)===".html"?".html":"/")
}at.on("click","li.dealer",O);
at.on("click",".search-container .search-options input",I);
at.on("click",".search-container .search-options .txt-label",function(bh){aS(this).closest("label.radio").find("input").trigger("click")
});
at.on("focusin focusout keyup",".search-container .search input",aB);
at.on("click",".search-submit",k);
at.on("click",".make-my-dealer",aF);
at.on("click",".search-clear",function(){var bh=a9.call(aS(this));
bh.$txt.val("").focus();
aS(".type-ahead-results:visible",at).hide()
});
at.on("click",".back-to-list",function(){f(this).removeClass("expanded");
var bh=f(this,".location-aware");
N(bh);
ar();
FD.Brand.Overlay.releaseFocus(aK)
});
at.on("click",".view-map",function(){f(this).addClass("expanded");
var bh=f(this,".location-aware");
N(bh);
ar();
if(aT.currentBreakpoint()!="gux-bkpt-sm"&&navigator.userAgent.search("Safari")>0&&navigator.userAgent.search("Chrome")<1){aS(".dealer-standard.expanded").css("position","absolute");
setTimeout(function(){aS(".dealer-standard.expanded").css("position","")
},500)
}aK.lastFocus=aS(this);
aK.$el=f(this);
aK.hide=function(){aS(".back-to-list",aK.$el).trigger("click")
};
FD.Brand.Overlay.trapFocus(aK,"a:visible, .search-text-location:visible, .search-text-dealer:visible, button:visible, [data-fgx-keypress]:visible",".back-to-list",aK.lastFocus);
aS(".back-to-list",aK.$el).focus()
});
at.on("click",".geo .btn",aM);
at.on("click",".view-more",aH);
at.on("click",".advanced-search-toggle",function(){aS(".advanced-search",at).toggleClass("expanded");
if(aS(".dealer-standard.expanded").length&&aS(".advanced-search.expanded").length){aS(".adv-search-target")[0].scrollTop=0
}});
at.on("click",".advanced-search .reset",function(){F();
aE()
});
at.on("click",".advanced-search .apply-advanced",k);
at.on("click",".service-list .checkbox .icon",A);
at.on("click",".option-tooltip",function(){aS(".ford-tooltip",at).hide();
aS(".service-list li",at).removeClass("has-info-open");
var bj=aS(this).closest("li");
var bh=aS(".ford-tooltip",bj);
var bi={$el:bh,hide:function(){aS(".close-tooltip",bh).trigger("click")
},lastFocus:aS(this)};
bh.show({complete:function(){FD.Brand.Overlay.trapFocus(bi,"a:visible, [data-fgx-keypress]:visible",".close-tooltip",bi.lastFocus)
}});
bj.addClass("has-info-open")
});
at.on("click",".close-tooltip",function(){var bk=aS(this).closest("li");
var bh=aS(".ford-tooltip",bk);
var bj=aS(".option-tooltip",bk);
var bi={$el:bh,lastFocus:bj};
bh.hide({complete:function(){FD.Brand.Overlay.releaseFocus(bi)
}});
bk.removeClass("has-info-open")
});
at.on("click",".type-ahead-results li",function(){var bh=aS(this);
var bj=a9.call(bh);
var bl=bh.text();
var bk=bh.find(".result-name");
var bi=bh.data("pacode");
if(bk.length){bl=bk.text()
}bj.$txt.val(bl);
if(bi!=null){ae.call(bh,bi)
}else{k.call(bh)
}f(this,".type-ahead-results").hide()
});
aS("body").on("click",".make-my-dealer.confirm",a);
F();
a1();
aS(".fgx-custom-select",at).on("click",function(bj){var bh=aS(this),bi=bh.data("dropdownId");
if(aS(bj.target).hasClass("fgx-custom-select")||aS(bj.target).hasClass("fgx-custom-select-current")||aS(bj.target).hasClass("fgx-custom-down-icon")||aS(bj.target).closest(".fgx-custom-select-current").length){bj.stopPropagation();
a7(bh,bi)
}else{if(aS(bj.target).is("li")&&aS(bj.target).closest(".fgx-custom-list-options").length){aP(bh,aS(bj.target),bi)
}}bh.focus()
});
aS(".search-container").on("click",function(bh){if(aS(".dealer-standard.expanded").length&&aT.currentBreakpoint()==="gux-bkpt-sm"){if(aS(bh.target).hasClass("advanced-search-toggle")){if(aS(".dealers.opened").length){}else{aS(".location-aware .dealers").toggleClass("opened");
if(!aS(".advanced-search.expanded").length){}else{bh.preventDefault();
bh.stopPropagation()
}}}else{if(aS(bh.target).parents(".message.error").length){aS(".message.error").hide()
}else{if(!aS(bh.target).parents(".radio, .search-wrap").length&&!aS(bh.target).is("label")){aS(".location-aware .dealers").toggleClass("opened")
}}}}});
aS("script[data-fgx-locate-dealer-template-id]").each(function(bh,bi){var bj=aS(bi);
l[bj.attr("data-fgx-locate-dealer-template-id")]=ab.template(bi.innerHTML)
});
G();
if(sessionStorage["fgx-lad-ownerCtx"]){ba=true;
bd=false;
a1();
an()
}else{if(sessionStorage["fgx-lad-bfnCtx"]){bd=true;
ba=false
}}D();
if(FD.Brand.Util.env.geoLocation()){var bf=W.location.coordinates()
}W.dealer.subscribe(ap)
}function G(){if(window.location.hash!==""){var bi=window.location.hash;
var bk=window.location.hash.split("/");
var br=false;
var bp=null;
for(var bj=0;
bj<bk.length;
bj++){var bo=bk[bj];
if(bo==="q"){bp=unescape(bk[(bj+1)]);
aS(".search-text-location",at).val(bp);
br=true
}if(bo==="qn"){bp=unescape(bk[(bj+1)]);
aS(".search-options .txt-label.dealer",at).trigger("click");
aS(".search-text-dealer",at).val(bp);
br=true
}if(bo==="radius"){var bl=bk[(bj+1)];
aS(".fgx-custom-select",at).find("li[data-custom-value='"+bl+"']").trigger("click")
}if(bo==="filters"){var bm=bk[(bj+1)];
if(bm.indexOf("=")>-1){var bf=bm.split("=");
var bg=bf[1];
if(bg.indexOf(",")>-1){var bq=bg.split(",");
for(var bh=0;
bh<bq.length;
bh++){var bn=bq[bh];
aS(".service-list",at).find("span[data-filter-value='"+bn+"']").trigger("click")
}}else{aS(".service-list",at).find("span[data-filter-value='"+bg+"']").trigger("click")
}}}if(bo==="openAdvanced"){aS(".advanced-search",at).addClass("expanded")
}if(bo==="context"){var be=bk[(bj+1)];
if(be==="owner"){sessionStorage["fgx-lad-ownerCtx"]=true;
sessionStorage.removeItem("fgx-lad-bfnCtx")
}else{if(be==="bfn"){sessionStorage["fgx-lad-bfnCtx"]=true;
sessionStorage.removeItem("fgx-lad-ownerCtx")
}}}}if(br){aG=true;
aS(".search-submit",at).trigger("click")
}else{W.location.subscribe(av);
av()
}}else{W.location.subscribe(av);
av()
}}function r(bj,bg,be,bk){var bf="/";
bf+=(bj==="dealerName")?"qn/":"q/";
bf+=bg;
bf+="/radius/";
bf+=be;
if(typeof bk!="undefined"&&bk!==""){bf+="/filters/all=";
bf+=(bk.indexOf(";")>-1)?bk.split(";").join(","):bk
}if(t.name==="firefox"&&!aA){console.log("**** REPLACE ****");
var bi=window.location.href.split("#");
var bh=bi[0]+"#"+bf;
window.location.replace(bh);
aA=true
}else{window.location.hash=bf
}sessionStorage["fgx-lad-lastKnownDeeplink"]=bf
}function f(bg,be){var bf=aS(bg).closest("[data-fgx-locate-a-dealer]");
if(be){bf=bf.find(be)
}return bf
}function an(){if(typeof S!=="undefined"){aS(".back-to-list",at).attr("data-fd-metrics-click",JSON.stringify(S))
}if(typeof aI!=="undefined"){aS(".advanced-search-toggle",at).attr("data-fd-metrics-click",JSON.stringify(aI))
}if(typeof H!=="undefined"){aS(".view-map",at).attr("data-fd-metrics-click",JSON.stringify(H))
}if(typeof S!=="undefined"){aS(".back-to-list",at).attr("data-fd-metrics-click",JSON.stringify(S))
}if(typeof am!=="undefined"){aS(".view-more",at).attr("data-fd-metrics-click",JSON.stringify(am))
}}function a7(be,bf){if(be){var bg=be.find(".fgx-custom-select-dropdown");
bg.toggleClass("shown");
be.find(".fgx-custom-select-container").toggleClass("shown");
aS("body").one("click",J);
be.attr("aria-expanded",bg.hasClass("shown"));
be.find("ul").attr("aria-hidden",!bg.hasClass("shown"))
}}function aP(be,bk,bi){if(be&&bk){var bg=bk.data("customValue"),bj=bk.data("customKey"),bf=be.find(".fgx-custom-select-current span"),bh=bf.data("currentValue");
if(!bh||be.hasClass("fgx-brand-init-state")||(bh&&(bh!==bg))){P=bg;
be.find(".fgx-custom-select-current span").data("currentValue",bg).html(bj);
be.removeClass("fgx-brand-init-state");
be.attr("aria-activedescendant",bk.attr("id"));
aS("li",be).attr("aria-selected","false");
bk.attr("aria-selected","true")
}}}function J(){aS("body").off("click",J);
aS(".fgx-custom-select-dropdown.shown",at).removeClass("shown");
aS(".fgx-custom-select-container.shown",at).removeClass("shown");
aS(".fgx-custom-select",at).attr("aria-expanded","false");
aS(".fgx-custom-select > ul",at).attr("aria-hidden","true")
}function F(){var be=aS(".fgx-custom-list-options",at).find("[data-default='true']");
aS(".fgx-custom-select",at).attr("aria-activedescendant",be.attr("id"));
P=be.data("customValue");
if(typeof P==="undefined"){P=50
}aS(".fgx-custom-select-current span",at).text(be.text());
aS(".fgx-custom-select-current span",at).data("currentValue",P)
}function ar(){if(aS(".dealer-standard.expanded").length){aS(".search-container").prependTo(".dealers");
aS(".advanced-search").prependTo(".adv-search-target")
}else{aS(".search-container, .advanced-search").insertAfter(".headline.title.map-toggle-target")
}}function A(){var bf=aS(this);
var bg=bf.closest("li");
if(bg.hasClass("disabled")){return
}if(bg.data("exclusive")==="true"||bg.data("exclusive")==true){if(!bg.hasClass("selected")){aS(".service-list li",at).removeClass("selected");
aS(".service-list li",at).addClass("disabled");
aS(".service-list li .checkbox .icon",at).removeClass("icon-check-25px");
aS(".service-list li .checkbox .icon",at).addClass("icon-unchecked");
aS(".service-list li .checkbox .icon",at).attr("aria-pressed","false");
bg.removeClass("disabled")
}else{aS(".service-list li",at).removeClass("disabled")
}}bg.toggleClass("selected");
if(bg.hasClass("selected")){bf.removeClass("icon-unchecked");
bf.addClass("icon-check-25px");
aS(".service-list li .checkbox .icon",at).attr("aria-pressed","true")
}else{bf.removeClass("icon-check-25px");
bf.addClass("icon-unchecked");
aS(".service-list li .checkbox .icon",at).attr("aria-pressed","false")
}if(typeof bg.data("distance")!=="undefined"){if(bg.hasClass("selected")){var be='.advanced-search .distance .fgx-custom-list-options li[data-custom-value="'+bg.data("distance")+'"]';
aS(be,at).trigger("click")
}else{var be='.advanced-search .distance .fgx-custom-list-options li[data-default="true"]';
aS(be,at).trigger("click")
}}bf.focus();
af()
}function a1(){aS(".service-list li",at).each(function(be,bf){$li=aS(bf);
if(ba){if($li.data("owner-suppress")==="true"||$li.data("owner-suppress")==true){$li.hide()
}else{if($li.data("owner-only")==="true"||$li.data("owner-only")==true){$li.show()
}}}else{if($li.data("owner-only")==="true"||$li.data("owner-only")==true){$li.hide()
}else{if($li.data("owner-suppress")==="true"||$li.data("owner-suppress")==true){$li.show()
}}}})
}function aE(){aS(".service-list li",at).removeClass("selected");
aS(".service-list li",at).removeClass("disabled");
aS(".service-list li .checkbox .icon",at).removeClass("icon-check-25px");
aS(".service-list li .checkbox .icon",at).addClass("icon-unchecked");
aS(".service-list li .checkbox .icon",at).attr("aria-pressed","false");
aj=[]
}function D(){var bg=aS(".service-list.col-two",at);
var bf=aS('.service-list li:not([style*="display: none"])',at);
var be=Math.ceil(bf.length/2);
bf.each(function(bh,bi){if(bh>=be){aS(bi).detach().appendTo(bg)
}})
}function af(){aj=[];
aS(".service-list li",at).each(function(be,bf){$el=aS(bf);
if($el.hasClass("selected")){aj.push($el.find("input").attr("value"))
}})
}function aF(){$dealerEl=aS(this).closest("li.dealer");
var be=$dealerEl.data("pacode");
if(!h){v.call(at,true);
W.dealer.setPreferred(be).done(function(){if((!ba&&typeof p!=="undefined")||(ba&&typeof ak==="undefined"&&typeof p!=="undefined")){FD.Brand.Metrics.handler.direct(p)
}else{if(ba&&typeof ak!=="undefined"){FD.Brand.Metrics.handler.direct(ak)
}}v.call(at,false)
}).fail(function(bf){v.call(at,false)
})
}}function a(){var bf=aS(this).data("pacode");
var be=aU.PACode;
v.call(at,true);
W.dealer.removePreferred(be).done(function(){if((!ba&&typeof aa!=="undefined")||(ba&&typeof az==="undefined"&&typeof aa!=="undefined")){FD.Brand.Metrics.handler.direct(aa)
}else{if(ba&&typeof az!=="undefined"){FD.Brand.Metrics.handler.direct(az)
}}W.dealer.setPreferred(bf).done(function(){if((!ba&&typeof p!=="undefined")||(ba&&typeof ak==="undefined"&&typeof p!=="undefined")){FD.Brand.Metrics.handler.direct(p)
}else{if(ba&&typeof ak!=="undefined"){FD.Brand.Metrics.handler.direct(ak)
}}v.call(at,false)
}).fail(function(bg){v.call(at,false)
})
}).fail(function(bg){v.call(at,false)
})
}function O(bj){if(!aY&&!aS(bj.target).hasClass("select-dealer")&&!aS(bj.target).hasClass("phone-link")&&!aS(bj.target).hasClass("icon-info-25px")){if(aS(this).hasClass("expanded")){aS(this).removeClass("expanded");
return
}var bi=f(this);
aS("li.dealer",bi).removeClass("expanded");
aS(this).addClass("expanded")
}var be=aS(this).data("index");
for(var bg=0;
bg<w.length;
bg++){var bf=w[bg];
var bh=""+(bf.index+1)+"";
if(bg!==be){bf.selected=false;
bf.$el.removeClass("selected");
bf.$el.attr("aria-pressed","false");
bf.pushpin.setOptions({state:"none",icon:g,text:bh,textOffset:new Microsoft.Maps.Point(0,10)})
}else{bf.selected=true;
bf.$el.addClass("selected");
bf.$el.attr("aria-pressed","true");
bf.pushpin.setOptions({state:"selected",icon:X,text:bh,textOffset:new Microsoft.Maps.Point(0,10)});
if(aS(".dealer-standard.expanded").length){a5.setView({center:bf.pushpin.getLocation()})
}}}}function ap(be){if(be.preferred){h=true;
aU=ag.updateDealer(be.preferred,0,L,ad,null,aO.dealerDetailPageUrl,au);
if(bb){if(z.length>1){at.each(function(){var bf=f(aS(this),".location-aware");
aZ(z,bf)
})
}bb=false
}}else{h=false
}aN()
}function e(be){aS(".location-aware",at).toggle(be)
}function aH(){var be=f(aS(this),".location-aware");
a4(be);
if(aT.currentBreakpoint()==="gux-bkpt-sm"&&aS(".dealer-standard.expanded").length&&aS(".dealers.opened").length){aS(".dealers.opened").removeClass("opened")
}}function aN(){at.each(function(){var be=f(aS(this),".dealer-list");
aS("li.dealer",be).each(function(){var bg=aS(this);
var bh=bg.data("type");
if(bh==="Dealer"){if(h){var bf=bg.data("pacode");
if(bf==aU.PACode){aS(".my-dealer",bg).show();
aS(".make-my-dealer",bg).hide()
}else{aS(".my-dealer",bg).hide();
aS(".make-my-dealer",bg).show();
aS(".make-my-dealer a",bg).attr("href","#show-tooltip")
}}else{aS(".my-dealer",bg).hide();
aS(".make-my-dealer",bg).show();
aS(".make-my-dealer a",bg).attr("href","javascript:void(0);")
}}})
})
}function I(){var bf=aS(this);
var be=bf.val();
var bg=f(bf,".search-container");
var bh=aS(".search .search-text-"+be,bg);
ag.updateSearchHints(f(this,".type-ahead-results"),a9.call(this),bh,true);
bf.closest(".search-options").find("label").removeClass("selected");
bf.closest(".search-options").find("label span.txt-label").attr("aria-checked","false");
bf.parent().addClass("selected");
bf.parent().find("span.txt-label").attr("aria-checked","true");
aS(".search-wrap .search",bg).toggleClass("show-location",be==="location");
aS(".search input",bg).hide();
bh.show().focus()
}function aB(bi){if(bi.type==="focusin"){bi.preventDefault()
}var be=bi.type!=="focusout";
var bf=aS(this);
var bk=bf.val();
var bg=bk.length>0;
var bh=f(bf,".search-container");
setTimeout(function(){var bm=aS(document.activeElement);
aS(".search-action",bh).toggle(!bg);
if(!bm.hasClass("search-submit")){aS(".search-submit",bh).toggle(be&&bg);
aS(".search-clear",bh).toggle(!be&&bg)
}else{aS(".search-submit",bh).one("focusout",function(){aS(".search-submit",bh).toggle(be&&bg);
aS(".search-clear",bh).toggle(!be&&bg)
})
}if(!bm.hasClass("geo")){aS(".geo",bh).toggle(FD.Brand.Util.env.geoLocation()&&be)
}else{aS(".geo",bh).one("focusout",function(){aS(".geo",bh).toggle(FD.Brand.Util.env.geoLocation()&&be)
})
}},150);
if(bi.type==="keyup"){aS(".message.error").toggle(false);
if(bi.keyCode===13){k.call(bf)
}else{if(bi.keyCode===40){if((bf.attr("aria-expanded")==="true"||bf.attr("aria-expanded")===true)){var bl=aS(".type-ahead-results:visible",bh).find("ul");
var bj=bl.find("li").first();
bj.focus()
}}else{ag.updateSearchHints(f(this,".type-ahead-results"),a9.call(this),bf)
}}}}function a9(){var bf=f(aS(this),".search-container");
var be=aS(".search input:visible",bf);
return{$txt:be,val:be.val(),isDealer:be.hasClass("search-text-dealer")}
}function u(){return(aj&&ab.indexOf(aj,C)>-1)?"oar dealer":"dealer"
}function ae(bf){var bg=f(this,".search-container");
var bh=a9.call(bg);
var bi={make:U.make,dealerPACode:bf};
aq="dealerName";
a3=bh.val;
K="manual search:dealer";
var be=u();
v.call(bg,true);
Q.call(bg,bi).done(function(){v.call(bg,false);
e(true);
bh.$txt.attr("aria-expanded","false");
bh.$txt.removeAttr("aria-activedescendant");
a0();
M("","","");
aS(".advanced-search",at).removeClass("expanded");
if((!ba&&typeof ah!=="undefined")||(ba&&typeof a8==="undefined"&&typeof ah!=="undefined")){FD.Brand.Metrics.handler.direct(ah,{$$searchType:K,$$dealerType:be})
}else{if(ba&&typeof a8!=="undefined"){FD.Brand.Metrics.handler.direct(a8,{$$searchType:K,$$dealerType:be})
}}}).fail(function(bj){v.call(bg,false);
T(bj,isPostal)
})
}function k(){var bp=aS(this);
var bo=f(this,".search-container");
var bn=a9.call(bo);
var bl=(bn.isDealer)?aS(".search .search-text-dealer",bo):aS(".search .search-text-location",bo);
var bf=false;
var bi=/^[a-zA-Z]{2}$/g;
if(bp.hasClass("apply-advanced")){var bk=P+"|"+aj.join("|");
var bm=(ba)?aJ:a6;
FD.Brand.Metrics.handler.direct(bm,{$$currentFilters:bk})
}var be=(aj.length>0)?0:1;
var bh={make:U.make,radius:P,filter:aj.join(";"),minDealers:be,maxDealers:25};
ag.updateSearchHints(f(this,".type-ahead-results"),a9.call(this),bl,true);
if(!bn.val){a0(null,bn.isDealer?"required-dealer":"required-location");
return
}if(bh.radius===a2.radius&&bh.filter===a2.filter&&bn.val===a2.searchTerm){a0(null,"duplicate-search");
return
}if(/^(?=.*[a-zA-Z])(?=.*[0-9])/.test(bn.val)){if(!(new RegExp(aO.validationZipCode)).test(bn.val)){a0(4);
return
}bh.postalCode=bn.val;
bf=true
}else{if(/\d+/.test(bn.val)){if(!(new RegExp(aO.validationZipCode)).test(bn.val)){a0(4);
return
}bh.postalCode=bn.val;
bf=true
}else{if(!/^[A-Za-z.,\-\' ]+$/.test(bn.val)){a0(7);
return
}if(bn.isDealer){bh.dealerName=bn.val
}else{if(bn.val.indexOf(",")<0){if(ag.isFullStateName(bn.val)){bh[U.region==="CA"?"province":"state"]=bn.val
}else{if(bi.test(bn.val)){bh[U.region==="CA"?"province":"state"]=bn.val
}else{bh.city=bn.val
}}}else{var bg=bn.val.split(",");
bh.city=aS.trim(bg[0]);
if(bg.length>1){bh[U.region==="CA"?"province":"state"]=aS.trim(bg[1])
}}}}}aq=(bn.isDealer)?"dealerName":"location";
a3=bn.val;
K=(bn.isDealer)?"manual search:dealer":"manual search:location";
if(o){o=false;
K="current location"
}M(a3,bh.radius,bh.filter);
r(aq,a3,bh.radius,bh.filter);
var bj=u();
v.call(bo,true);
aQ.call(bo,bh).done(function(){v.call(bo,false);
if(bf){ai=bh.postalCode;
W.location.setPostalCode(ai)
}e(true);
bn.$txt.attr("aria-expanded","false");
bn.$txt.removeAttr("aria-activedescendant");
if(w.length===1&&w[0].Distance&&w[0].Distance>P){a0(null,"search-extension")
}else{a0()
}aS(".advanced-search",at).removeClass("expanded");
bl.blur();
var bq=aS(".dealer-standard").offset().top-aS(".mainNavigation, .mainNavigationLincoln").first().height();
if(aS("html, body").scrollTop()>bq){aS("html, body").scrollTop(bq)
}if((!ba&&typeof ah!=="undefined")||(ba&&typeof a8==="undefined"&&typeof ah!=="undefined")){FD.Brand.Metrics.handler.direct(ah,{$$searchType:K,$$dealerType:bj})
}else{if(ba&&typeof a8!=="undefined"){FD.Brand.Metrics.handler.direct(a8,{$$searchType:K,$$dealerType:bj})
}}}).fail(function(bq){v.call(bo,false);
T(bq,bf)
})
}function Q(bg){var be=f(this,".location-aware");
var bf=aS.Deferred();
B.dealer(bg).done(function(bl){if(!bl||bl.length===0){bf.reject(bl);
return
}z=[];
w=[];
s=1;
aS(".view-more",be).hide();
var bj=aS(".dealers .dealer-list",be);
var bi=0;
bj.empty();
bl=ag.updateDealer(bl,bi,L,ad,aU,x,au);
var bk=(aX==="true"&&ba);
var bh={dealer:bl,cfg:aO,showTextDealer:(U.showTextDealer&&!bk),showScheduleSvc:(aV==="true"&&ba),showRequestSvc:(E==="true"&&bd),hideChat:(bc==="true"&&ba),hideDirections:(y==="true"&&ba),useFdafCallTrkNum:!!(bd&&bl&&bl.fdafcalltrknum&&bl.fdafcalltrknum!="")};
bl.$el=aS(l.dealerItem(bh)).data("dealer",bl);
if(ba){V()
}if(bl.dealerType!=="Dealer"){aS(".my-dealer",bl.$el).hide();
aS(".make-my-dealer",bl.$el).hide()
}d(bl);
if(aY){bl.$el.addClass("expanded")
}bl.$el.appendTo(bj);
bl.selected=true;
be.data("dealers",[bl]);
var bm=be.data("map");
if(bm){bm.dispose();
be.data("map",null)
}aC(be);
if(!aG){av()
}aN();
bf.resolve(bl)
}).fail(function(bh){bf.reject(bh)
});
return bf.promise()
}function aQ(bh){var bi=f(this);
var bm=f(this,".location-aware");
var be=aS.Deferred();
var bk=["dealers"],bn=[],bg=[],bl=[];
if(bh.filter.indexOf("CollisionRepair")>-1&&c==="false"){ao=true;
bk.push("serviceLocations")
}else{ao=false
}var bj=function(bo){if(!bo||bo.length===0){var bp={message:"[locateADealer - getDealers] - no dealers were returned."};
bg.push(bp);
return
}if(U.region==="CA"){bo.map(function(bq){return bq.Distance=bq.DistanceKM
})
}bl.push(bo)
};
var bf=function(bo){var bq=(bo&&bo.Response)?bo.Response:{};
var bp={message:bq.Message||bq.Error||"[locateADealer - getDealers] - error retrieving the dealers"};
bg.push(bp)
};
ab.each(bk,function(bp){var bo=B[bp](bh);
bo.then(bj,bf);
bn.push(bo)
});
aS.when.apply(aS,bn).done(function(){if(bk.length===bg.length){ab.each(bg,function(bp){if(bp.message){be.reject(bp.message)
}})
}else{var bo=aZ(bl,bm);
be.resolve(bo)
}}).fail(function(bo){be.reject(bo)
});
return be.promise()
}function aZ(bf,bg){var be=aS(".dealers .dealer-list",bg);
be.empty();
z=[];
w=[];
s=0;
if(bf.length>1){ab.each(bf,function(bh){z=z.concat(bh)
})
}else{if(bf.length===1){z=bf[0]
}}if(z.length>5){aS(".view-more",bg).show()
}else{aS(".view-more",bg).hide()
}if(ao){console.log("Includes Independent!!!");
z=ab.sortBy(z,function(bh){var bi=1;
if(bh&&bh.Distance){bi=parseFloat(bh.Distance)
}return bi
})
}else{console.log("NO INDEPENDENT!!!")
}if(aU!=null&&z.length>1){ab.some(z,function(bh){if(aU.PACode===bh.PACode){var bi=z.indexOf(bh);
z.splice(bi,1);
z.unshift(bh);
return true
}})
}if(z.length>25){z=z.slice(0,25)
}a4(bg);
if(!aG){av()
}aN();
return z
}function a4(bk){var bf=aS(".dealers .dealer-list",bk);
var bj=s;
s+=5;
if(s>=z.length){s=z.length;
aS(".view-more",bk).hide()
}for(var bi=bj;
bi<s;
bi++){var bh=ag.updateDealer(z[bi],bi,L,ad,aU,x,au);
if(bh.URL&&!ab.isEmpty(bh.URL)){bh.URL=ag.appendT3QS(bh.URL)
}var bg=(aX==="true"&&ba);
var be={dealer:bh,cfg:aO,showTextDealer:(U.showTextDealer&&!bg),showScheduleSvc:(aV==="true"&&ba),showRequestSvc:(E==="true"&&bd),hideChat:(bc==="true"&&ba),hideDirections:(y==="true"&&ba),useFdafCallTrkNum:!!(bd&&bh&&bh.fdafcalltrknum&&bh.fdafcalltrknum!="")};
bh.$el=aS(l.dealerItem(be)).data("dealer",bh);
if(bh.dealerType!=="Dealer"){aS(".my-dealer",bh.$el).hide();
aS(".make-my-dealer",bh.$el).hide()
}d(bh);
if(aY){bh.$el.addClass("expanded")
}bh.$el.appendTo(bf);
bh.selected=false;
w.push(bh)
}if(h){aN()
}if(ba){V()
}if(aq==="dealerName"){aS(".info .distance").hide()
}bk.data("dealers",w);
N(bk)
}function V(){if(typeof n!=="undefined"){aS(".dealer-list li.dealer .phone.hide-on-desktop a",at).attr("data-fd-metrics-click",JSON.stringify(n))
}if(typeof Y!=="undefined"){aS(".dealer-list li.dealer .text-dealer a",at).attr("data-fd-metrics-click",JSON.stringify(Y))
}if(typeof R!=="undefined"){aS(".dealer-list li.dealer .dealer-chat a",at).attr("data-fd-metrics-click",JSON.stringify(R))
}if(typeof al!=="undefined"){aS(".dealer-list li.dealer .ratings-count .icon.icon-info-25px.clickable",at).attr("data-fd-metrics-click",JSON.stringify(al))
}if(typeof ac!=="undefined"){aS(".dealer-list li.dealer .name a",at).attr("data-fd-metrics-click",JSON.stringify(ac));
aS(".dealer-list li.dealer .dealer-rating a",at).attr("data-fd-metrics-click",JSON.stringify(ac));
aS(".dealer-list li.dealer .dealer-detail a",at).attr("data-fd-metrics-click",JSON.stringify(ac))
}if(typeof aD!=="undefined"){aS(".dealer-list li.dealer .dealer-directions a",at).attr("data-fd-metrics-click",JSON.stringify(aD))
}}function N(be){var bf=be.data("map");
if(bf){bf.dispose();
be.data("map",null)
}aC(be)
}function d(be){if(U.region!=="CA"){B.dealerChatStatus({dealerPACode:be.PACode,make:U.make}).done(function(bg){if(bg&&bg.url){var bf=bg.url;
aS(".dealer-chat a",be.$el).on("click",function(bh){bh.preventDefault();
bh.stopImmediatePropagation();
FD.Brand.Metrics.handler.direct(aS(this).attr("data-fd-metrics-click"));
window.open(bf,"_blank","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,width=350,height=620")
});
aS(".dealer-chat",be.$el).show()
}else{aS(".dealer-chat",be.$el).hide()
}})
}else{aS(".dealer-chat",be.$el).hide()
}}function aM(){var bf=f(this);
var be=function(){v.call(bf);
a0.call(bf,5,null)
};
v.call(bf,true);
ay.navigator.geolocation.getCurrentPosition(function(bg){if(bg&&bg.coords){f(bf,".search-options .txt-label.location").trigger("click");
B.dealers({make:U.make,latitude:bg.coords.latitude,longitude:bg.coords.longitude,radius:P,minDealers:1}).done(function(bi){if(bi&&bi.length>0){o=true;
var bh=a9.call(bf);
bh.$txt.val(bi[0].Address.PostalCode);
v.call(bf);
k.call(bf)
}else{be()
}})
}else{be()
}},be,ax)
}function M(bf,be,bg){a2.searchTerm=bf;
a2.radius=be;
a2.filter=bg
}function av(){var bi=W.location.current();
var bh=bi.postalCodeSource==="FPI"&&bi.postalCode||"";
var bf=bi.postalCodeSource==="Akamai"&&bi.postalCode||"";
if(bh){if(bh!==ai){if(a3==null||a3==undefined){aS(".search-text-location",at).val(bh)
}ai=bh;
var bg=(aj.length>0)?0:1;
var bj={make:U.make,radius:P,filter:aj.join(";"),minDealers:bg,maxDealers:25,postalCode:bh};
M(bh,bj.radius,bj.filter);
var be=u();
aQ.call(at,bj).done(function(){e(true);
aS(".advanced-search",at).removeClass("expanded");
if((!ba&&typeof ah!=="undefined")||(ba&&typeof a8==="undefined"&&typeof ah!=="undefined")){FD.Brand.Metrics.handler.direct(ah,{$$searchType:K,$$dealerType:be})
}else{if(ba&&typeof a8!=="undefined"){FD.Brand.Metrics.handler.direct(a8,{$$searchType:K,$$dealerType:be})
}}})
}}else{if(bf){if(a3==null||a3==undefined){aS(".search-text-location",at).val(bf);
e(false)
}}else{if(a3==null||a3==undefined){e(false);
if(!aR){if((!ba&&typeof aW!=="undefined")||(ba&&typeof m==="undefined"&&typeof aW!=="undefined")){FD.Brand.Metrics.handler.direct(aW);
aR=true
}else{if(ba&&typeof m!=="undefined"){FD.Brand.Metrics.handler.direct(m);
aR=true
}}}}}}}function v(be){f(this).find(".ford-busy").toggle(be)
}function T(bh,bf){var be=2;
if(bf){if(bh&&bh.responseJSON&&bh.responseJSON.Response){var bg=bh.responseJSON.Response.Message;
be=(bg.indexOf("Invalid Postal Code")>-1)?4:2
}else{if(bh==="[locateADealer - getDealers] - no dealers were returned."){if(a2.filter!==""){be=3
}else{be=2
}}else{be=1
}}}a0(be)
}function a0(bg,be){var bf=aS(".search-container .message.error",at);
bf.find(".text").hide();
if(be){bf.find(".text."+be).show();
bf.show();
return
}if(bg){bf.find(".text.error").show().text(aO.errors[bg]);
bf.show();
return
}bf.hide()
}function Z(){var be=aS.Deferred();
if(b){be.resolve()
}else{ay._fgx_mapControlLoaded=function(){b=true;
be.resolve();
delete ay._fgx_mapControlLoaded
};
aT.url.loadAsScript(U.settings.mapHost+"?callback=_fgx_mapControlLoaded").fail(function(){be.reject()
})
}return be.promise()
}function aC(bf){var bg=bf.data("map");
var be=bf.data("dealers");
var bh=f(bf).hasClass("expanded");
if(bg||!be){return
}Z().done(function(){var bl=Microsoft.Maps;
bg=new bl.Map(bf.find(".map")[0],{credentials:U.settings.mapKey,mapTypeId:Microsoft.Maps.MapTypeId.road,enableSearchLogo:false,enableClickableLogo:false,enableInertia:true,liteMode:false,showCopyright:false,showMapTypeSelector:false,showLocateMeButton:false});
bg.setOptions({disablePanning:!bh,disableScrollWheelZoom:!bh,disableZooming:!bh,showZoomButtons:bh,showScalebar:false});
a5=bg;
var bj=[];
var bi=null;
var bk=function(bn,bp){bn.selected=bp;
var bm=(bp)?"selected":"none";
var bo=""+(bn.index+1)+"";
bn.pushpin.setOptions({state:bm,icon:g,text:bo,textOffset:new Microsoft.Maps.Point(0,10)})
};
ab.each(be,function(bo){var bm=new bl.Location(bo.Latitude,bo.Longitude);
bj.push(bm);
if(bo.selected){bi=bm
}var bq=new bl.Pushpin(bm,{width:35,height:46});
Microsoft.Maps.Events.addHandler(bq,"click",function bn(bt){if(!aS(".dealer-standard.expanded").length){return false
}if(aS(".advanced-search.expanded").length){aS(".advanced-search.expanded").removeClass("expanded")
}var bs="#idx-"+bq.entity.iconText,bu=bq.entity.iconText-1;
aS("li.dealer.expanded.selected").removeClass("expanded selected");
var br=aS(bs).closest('li.dealer[data-index="'+bu+'"]');
if(!aS(br).hasClass("expanded")){br.addClass("expanded selected")
}ab.each(be,function(bv){bv.pushpin.setOptions({state:"none",icon:g})
});
bq.setOptions({state:"selected",icon:X});
bg.setView({center:bo.pushpin.getLocation()});
if(aT.currentBreakpoint()==="gux-bkpt-sm"){if(aS(".dealer-standard.expanded").length){scrollDistance=(aS(bs).offset().top-aS(".dealer-list").offset().top)-16;
aS(".adv-search-target").scrollTop(scrollDistance);
if(!aS(".dealer-standard.expanded .location-aware .dealers").hasClass("expanded")){aS(".dealer-standard.expanded .location-aware .dealers").addClass("opened")
}}else{aS("html").animate({scrollTop:aS(bs).offset().top-86},800)
}}else{if(aS(".dealer-standard.expanded").length){scrollDistance=(aS(bs).offset().top-aS(".dealer-list").offset().top)-16;
aS(".adv-search-target").animate({scrollTop:scrollDistance},800)
}else{aS(".dealers").animate({scrollTop:bu*aS("li.dealer:not('.expanded')").outerHeight()},800)
}}});
bo.pushpin=bq;
bk(bo,bo.selected);
var bp=function(){if(!bo.selected){var br=ab.find(be,{selected:true});
if(br){bk(br,false)
}bk(bo,true);
bg.setView({center:bo.pushpin.getLocation()})
}};
bg.entities.push(bq)
});
if(bj.length>1){bg.setView({bounds:bl.LocationRect.fromLocations(bj)})
}else{bg.setView({center:bj[0],zoom:11})
}if(bi){bg.setView({center:bi})
}})
}function q(bg){bg.preventDefault();
var be=aS(this).closest(".dealer").data("dealer");
var bf="";
if(be&&typeof(be)!="undefined"){if(be.dlrcalltrk_lad&&be.dlrcalltrk_lad!==""){bf=be.dlrcalltrk_lad
}else{if(be.ldlrcalltrk_lad&&be.ldlrcalltrk_lad!==""){bf=be.ldlrcalltrk_lad
}else{bf=be.Phone
}}}aL.instance.sendToPhoneOverlay.show({title:be.Name,text:be.AddressStreet+" "+be.AddressCityStateZip,phone:bf},aS(this))
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Overlay,FD.Brand.Context,FD.Brand.User,FD.Brand.Util,FD.Brand.NgpServices,FD.Brand.Dealer);
(function(aj,aF,S,k,aA,N,O,aG,t,W){var ag;
var aD=null;
var l={};
var az;
var b=false;
var aO=false;
var h=aF("#dd").data("moredealershref");
var F=aF("#dd").data("sales-open-until");
var U=aF("#dd").data("sales-open-again");
var ah=aF("#dd").data("hours-displaytype");
var ao=aF("#dd").data("hide-reviews-section");
var n=aF("#dd").data("save-click-action");
var ac=aF("#dd").data("chat-click-action");
var ap=aF("#dd").data("all-dealers-click-action-owner");
var w=aF("#dd").data("share-click-action-owner");
var g=aF("#dd").data("print-click-action-owner");
var Y=aF("#dd").data("save-click-action-owner");
var ak=aF("#dd").data("unsave-click-action-owner");
var m=aF("#dd").data("call-click-action-owner");
var P=aF("#dd").data("text-click-action-owner");
var L=aF("#dd").data("chat-click-action-owner");
var aR=aF("#dd").data("reviews-click-action-owner");
var G=aF("#dd").data("ratings-iball-click-action-owner");
var aK=aF("#dd").data("dealer-website-click-action-owner");
var au=aF("#dd").data("directions-click-action-owner");
var ay=aF("#dd").data("service-website-click-action-owner");
var q=aF("#dd").data("new-inventory-click-action-owner");
var E=aF("#dd").data("used-inventory-click-action-owner");
var aa=aF("#dd").data("view-more-click-action-owner");
var al=aF("#dd").data("reviews-sort-click-action-owner");
var ae=aF("#dd").data("reviews-tab-click-action-owner");
var aI=aF("#dd").data("hours-select-click-action-owner");
var aS=aF("#dd").data("hide-chat-on-owner");
var aJ=aF("#dd").data("hide-text-on-owner");
var r=aF("#dd").data("hide-directions-on-owner");
var s=aF("#dd").data("hide-dealer-website-on-owner");
var D=aF("#dd").data("hide-service-website-on-owner");
var v=aF("#dd").data("hide-new-inventory-on-owner");
var x=aF("#dd").data("hide-used-inventory-on-owner");
var aT=aF("#dd").data("hide-schedule-service-on-owner");
var V=aF("#dd").data("initial-hours-section");
var Z=aF("#dd").data("initial-reviews-section");
var X=aF("#dd").data("serviceWebsiteClickActionBfn");
var ad=aF("#dd").data("days-label");
var M=aF("#dd").data("hours-label");
var aC=aF("#dd").data("minutes-label");
var A=aF("#dd").data("seconds-label");
var aq=aF("#dd").data("not-enough-reviews");
var aL=aF("#dd").data("reviews-showing-tpl");
var aM=1;
var ax=1;
var aN="rating";
var f="desc";
var o=N.settings.reviewsApiKey||"";
var aB=false;
var an;
var c;
var aQ=false;
var aU=false;
var H=false;
var j=false;
var aH=null;
if(ah===undefined||ah===""){ah="12"
}var I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1485 1280" width="50" height="50"><path d="M880.313 912.231c-146.192 146.192-385.634 146.192-531.826 0-125.277-125.277-142.924-318.529-53.814-463.414l319.837-436.398 319.619 436.398c89.11 144.885 71.462 338.138-53.814 463.414v0zM724.534 535.966c-60.569-60.569-159.7-60.569-220.269 0s-60.569 159.918 0 220.487c60.569 60.786 159.7 60.786 220.269 0 60.786-60.569 60.786-159.918 0-220.487v0z" transform="translate(0,1024) scale(1, -1)" style="fill: #2096cd;"></path></svg>';
if(N.make==="Lincoln"){I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1485 1280" width="50" height="50"><path d="M880.313 912.231c-146.192 146.192-385.634 146.192-531.826 0-125.277-125.277-142.924-318.529-53.814-463.414l319.837-436.398 319.619 436.398c89.11 144.885 71.462 338.138-53.814 463.414v0zM724.534 535.966c-60.569-60.569-159.7-60.569-220.269 0s-60.569 159.918 0 220.487c60.569 60.786 159.7 60.786 220.269 0 60.786-60.569 60.786-159.918 0-220.487v0z" transform="translate(0,1024) scale(1, -1)" style="fill: #293338;"></path></svg>'
}k.setInitHandler("[data-fgx-dealer-details]",ai);
function ai(aY,a0){ag=aY;
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig){aD=FD.Brand.Component.locateDealerConfig
}if(ag.length===0||aD==null){return
}aF("script[data-fgx-dealer-details-template-id]").each(function(a1,a2){var a3=aF(a2);
l[a3.attr("data-fgx-dealer-details-template-id")]=S.template(a2.innerHTML)
});
if(N.settings.deepLink){p.call(ag,true);
aF(".error-msg").hide();
var aW={make:N.make,urlKey:N.settings.deepLink.substr(1)};
if(aD.hideDealerRatings){aF(".dealer-rating",ag).hide()
}if(aD.hideMyDealer){aF(".save",ag).hide()
}else{aF(".save > a",ag).click(function(a1){if(H){p.call(ag,true);
O.dealer.removePreferred(c).done(function(){}).fail(function(a2){p.call(ag,false)
})
}else{if(!j){p.call(ag,true);
O.dealer.setPreferred(c).done(function(){if((!aQ&&typeof n!=="undefined")||(aQ&&typeof Y==="undefined"&&typeof n!=="undefined")){FD.Brand.Metrics.handler.direct(n)
}else{if(aQ&&typeof Y!=="undefined"){FD.Brand.Metrics.handler.direct(Y)
}}}).fail(function(a2){p.call(ag,false)
})
}}})
}aF(".fgx-custom-select",ag).on("click",function(a3){var a1=aF(this),a2=a1.data("dropdownId");
if(aF(a3.target).hasClass("fgx-custom-select")||aF(a3.target).hasClass("fgx-custom-select-current")||aF(a3.target).hasClass("fgx-custom-down-icon")||aF(a3.target).closest(".fgx-custom-select-current").length){a3.stopPropagation();
aP(a1,a2)
}else{if(aF(a3.target).is("li")&&aF(a3.target).closest(".fgx-custom-list-options").length){aE(a1,aF(a3.target),a2)
}}a1.focus()
});
aF("body").on("click",".make-my-dealer.confirm",a);
T();
if(sessionStorage["fgx-lad-ownerCtx"]){aQ=true;
aU=false
}else{if(sessionStorage["fgx-lad-bfnCtx"]){aU=true;
aQ=false
}}if(sessionStorage["fgx-lad-lastKnownDeeplink"]){var aX=aF(".all-dealers",ag);
var aZ=aX.attr("href");
aX.attr("href",aZ+"#"+sessionStorage["fgx-lad-lastKnownDeeplink"])
}J.call(ag,aW).done(function(){aF(".dealer",ag).show();
O.dealer.subscribe(af);
ar.call(ag);
p.call(ag,false);
if(ao!=true&&ao!=="true"){R(ag)
}}).fail(function(a1){p.call(ag,false);
aF(".error-msg",ag).show();
aF(".dealer",ag).hide()
})
}else{aF(".dealer").hide();
aF(".error-msg").show()
}}function T(){if(window.location.hash!==""){var aY=window.location.hash;
var aW=window.location.hash.split("/");
for(var aX=0;
aX<aW.length;
aX++){var a0=aW[aX];
if(a0==="context"){var aZ=aW[(aX+1)];
if(aZ==="owner"){sessionStorage["fgx-lad-ownerCtx"]=true;
sessionStorage.removeItem("fgx-lad-bfnCtx");
aQ=true;
aU=false;
window.location.hash=""
}else{if(aZ==="bfn"){sessionStorage["fgx-lad-bfnCtx"]=true;
sessionStorage.removeItem("fgx-lad-ownerCtx");
aU=true;
aQ=false;
window.location.hash=""
}}}}}}function aP(aW,aX){if(aW){var aY=aW.find(".fgx-custom-select-dropdown");
aY.toggleClass("shown");
aW.find(".fgx-custom-select-container").toggleClass("shown");
aF("body").one("click",C);
aW.attr("aria-expanded",aY.hasClass("shown"));
aW.find("ul").attr("aria-hidden",!aY.hasClass("shown"))
}}function aE(aY,a2,a1){if(aY&&a2){var aW=a2.data("customValue"),a3=a2.data("customKey"),a0=aY.find(".fgx-custom-select-current span"),aX=a0.data("currentValue"),a4=aY.closest(".hours-full"),aZ=".items."+aW;
if(!aX||aY.hasClass("fgx-brand-init-state")||(aX&&(aX!==aW))){if(a1==="hours"){aF(".items",a4).hide();
aF(aZ,a4).show()
}else{if(a1==="sort-reviews"){at(aW,true)
}}aY.find(".fgx-custom-select-current span").data("currentValue",aW).html(a3);
aY.removeClass("fgx-brand-init-state");
aY.attr("aria-activedescendant",a2.attr("id"));
aF("li",aY).attr("aria-selected","false");
a2.attr("aria-selected","true")
}}}function C(){aF("body").off("click",C);
aF(".fgx-custom-select-dropdown.shown",ag).removeClass("shown");
aF(".fgx-custom-select-container.shown",ag).removeClass("shown");
aF(".fgx-custom-select",ag).attr("aria-expanded","false");
aF(".fgx-custom-select > ul",ag).attr("aria-hidden","true")
}function aw(){var aW=aF(this).data("pacode");
if(!j){p.call(ag,true);
O.dealer.setPreferred(aW).done(function(){if((!aQ&&typeof n!=="undefined")||(aQ&&typeof Y==="undefined"&&typeof n!=="undefined")){FD.Brand.Metrics.handler.direct(n)
}else{if(aQ&&typeof Y!=="undefined"){FD.Brand.Metrics.handler.direct(Y)
}}p.call(ag,false)
}).fail(function(aX){p.call(ag,false)
})
}}function a(){var aX=aF(this).data("pacode");
var aW=aH.PACode;
p.call(ag,true);
O.dealer.removePreferred(aW).done(function(){O.dealer.setPreferred(aX).done(function(){if((!aQ&&typeof n!=="undefined")||(aQ&&typeof Y==="undefined"&&typeof n!=="undefined")){FD.Brand.Metrics.handler.direct(n)
}else{if(aQ&&typeof Y!=="undefined"){FD.Brand.Metrics.handler.direct(Y)
}}p.call(ag,false)
}).fail(function(aY){p.call(ag,false)
})
}).fail(function(aY){p.call(ag,false)
})
}function af(aW){if(aW.preferred){j=true;
aH=W.updateDealer(aW.preferred,0,F,U,null,aD.dealerDetailPageUrl,ah)
}else{j=false
}if(aW.preferred&&aW.preferred.PACode===c){H=true;
aF(".save > a .save",ag).hide();
aF(".save > a .unsave",ag).show()
}else{H=false;
aF(".save > a .save",ag).show();
aF(".save > a .unsave",ag).hide();
if(j){aF(".save > a",ag).attr("href","#show-tooltip")
}else{aF(".save > a",ag).attr("href","javascript:void(0);")
}}p.call(ag,false)
}function e(aY,aW){var aX=aF(aY).closest("[data-fgx-dealer-details]");
if(aW){aX=aX.find(aW)
}return aX
}function J(aY){var aW=e(this,".location-aware");
var aX=aF.Deferred();
t.dealerByUrlKey(aY).done(function(a0){if(!a0||a0.length===0){aX.reject(a0);
return
}var aZ=0;
a0=W.updateDealer(a0,aZ,F,U,null,null,ah);
a0.displayUrl=a0.URL||"";
if(a0.URL&&!S.isEmpty(a0.URL)){a0.URL=W.appendT3QS(a0.URL)
}if(N.region==="CA"){a0.Distance=a0.DistanceKM
}B(a0,aW);
aW.data("dealers",[a0]);
var a1=aW.data("map");
if(a1){a1.dispose();
aW.data("map",null)
}aX.resolve(a0)
}).fail(function(aZ){aX.reject(aZ)
});
return aX.promise()
}function B(aX,aZ){aF(".dealer-name",aZ).text(aX.Name);
aF(".save > a",aZ).data("tooltip-content",aF(".save a").data("tooltip-content").replace("{{paCode}}",aX.PACode));
aF(".save > a",aZ).data("pacode",aX.PACode);
aF(".dealer-rating.sales .decimal-rating",aZ).text(aX.salesRating);
aF(".dealer-rating.sales .star-ratings .star-ratings-top",aZ).css("width",aX.salesRatingsPercentage);
aF(".dealer-rating.sales .ratings-count .count",aZ).text(aX.salesRatingsCount);
if(!aX.salesRatingsCount){aF(".dealer-rating.sales",aZ).hide();
aF(".dealer-rating.sales .ratings-count.clickable",aZ).attr("aria-hidden","true")
}aF(".dealer-rating.service .decimal-rating",aZ).text(aX.serviceRating);
aF(".dealer-rating.service .star-ratings .star-ratings-top",aZ).css("width",aX.serviceRatingsPercentage);
aF(".dealer-rating.service .ratings-count .count",aZ).text(aX.serviceRatingsCount);
if(!aX.serviceRatingsCount){aF(".dealer-rating.service",aZ).hide();
aF(".dealer-rating.service .ratings-count.clickable",aZ).attr("aria-hidden","true")
}aF(".star-ratings",aZ).on("click",function(){var a1=aF(this).closest(".dealer-rating");
var a2=aF("#ratings-and-reviews",aZ);
if(a2.is(":visible")){document.getElementById("ratings-and-reviews").scrollIntoView();
if(a1.hasClass("service")){ab("service",aZ)
}else{ab("sales",aZ)
}}});
aF(".ratings-count.clickable",aZ).on("click",function(a3){var a2=aF("#ratings-and-reviews",aZ);
var a1=aF(this).closest(".dealer-rating");
if(a2.is(":visible")&&!aF(a3.target).hasClass("icon")){document.getElementById("ratings-and-reviews").scrollIntoView();
if(a1.hasClass("service")){ab("service",aZ)
}else{ab("sales",aZ)
}}else{FD.Brand.Overlay.show("dealerRatingsInfo",true,aF(this))
}});
if(aX.Distance&&aX.Distance!=""&&aX.Distance!=="0"){aF(".distance > span.txt",aZ).text(aX.Distance)
}else{aF(".distance",aZ).hide();
aF(".distance-hours > span.divider").hide()
}if(aX.SalesHoursDescription){aF(".sales-hours-description",aZ).text(aX.SalesHoursDescription)
}else{aF(".sales-hours-description",aZ).hide();
aF(".distance-hours > span.divider").hide()
}aF(".details .info .address .street",aZ).text(aX.AddressStreet);
aF(".details .info .address .city-state-zip",aZ).text(aX.AddressCityStateZip);
var aW=aX.Phone;
if(aU&&aX.fdafcalltrknum&&aX.fdafcalltrknum!==""){aW=aX.fdafcalltrknum
}else{if(N.make==="Ford"&&aX.dlrcalltrk_lad&&aX.dlrcalltrk_lad!==""){aW=aX.dlrcalltrk_lad
}else{if(N.make==="Lincoln"&&aX.ldlrcalltrk_lad&&aX.ldlrcalltrk_lad!==""){aW=aX.ldlrcalltrk_lad
}}}aF(".details .info .sales-phone .phone-number",aZ).text(aW);
aF(".details .info .sales-phone .phone-number.fgx-mobile",aZ).html('<a class="underline" href="tel://'+aW+'">'+aW+"</a>");
if(aX.ServicePhone){aF(".details .info .service-phone .phone-number",aZ).text(aX.ServicePhone);
aF(".details .info .service-phone .phone-number.fgx-mobile",aZ).html('<a class="underline" href="tel://'+aX.ServicePhone+'">'+aX.ServicePhone+"</a>")
}else{aF(".details .info .service-phone",aZ).hide()
}if(aX.URL){aF(".actions li.dealer-website a.website",aZ).attr("href",aX.URL)
}else{aF(".actions li.dealer-website a.website",aZ).hide();
aF(".actions li.dealer-website a.website",aZ).attr("aria-hidden","true")
}if(aQ&&(s==true||s==="true")){aF(".actions li.dealer-website a.website",aZ).hide();
aF(".actions li.dealer-website a.website",aZ).attr("aria-hidden","true")
}if(aX.MapURL){aF(".actions li.directions a",aZ).attr("href",aX.MapURL)
}else{aF(".actions li.directions a",aZ).hide();
aF(".actions li.directions a",aZ).attr("aria-hidden","true")
}if(aQ&&(r==true||r==="true")){aF(".actions li.directions a",aZ).hide();
aF(".actions li.directions a",aZ).attr("aria-hidden","true")
}if(aX.serviceAppointmentURL){aX.serviceAppointmentURL=W.appendT3QS(aX.serviceAppointmentURL);
aF(".details .service-website",aZ).attr("href",aX.serviceAppointmentURL)
}else{aF(".details .info .links.secondary .service-website",aZ).hide();
aF(".details .info .links.secondary .service-website",aZ).attr("aria-hidden","true");
aF(".actions.list-unstyled .service-website-wrap",aZ).hide();
aF(".actions.list-unstyled .service-website",aZ).attr("aria-hidden","true")
}if(aQ&&(D==true||D==="true")){aF(".details .info .links.secondary .service-website",aZ).hide();
aF(".details .info .links.secondary .service-website",aZ).attr("aria-hidden","true");
aF(".actions.list-unstyled .service-website-wrap",aZ).hide();
aF(".actions.list-unstyled .service-website",aZ).attr("aria-hidden","true")
}if(aX.inventoryNewURL){aX.inventoryNewURL=W.appendT3QS(aX.inventoryNewURL);
aF(".details .info .links.secondary .new-inventory",aZ).attr("href",aX.inventoryNewURL)
}else{aF(".details .info .links.secondary .new-inventory",aZ).hide();
aF(".details .info .links.secondary .new-inventory",aZ).attr("aria-hidden","true")
}if(aQ&&(v==true||v==="true")){aF(".details .info .links.secondary .new-inventory",aZ).hide();
aF(".details .info .links.secondary .new-inventory",aZ).attr("aria-hidden","true")
}if(aX.inventoryUsedURL){aX.inventoryUsedURL=W.appendT3QS(aX.inventoryUsedURL);
aF(".details .info .links.secondary .used-inventory",aZ).attr("href",aX.inventoryUsedURL)
}else{aF(".details .info .links.secondary .used-inventory",aZ).hide();
aF(".details .info .links.secondary .used-inventory",aZ).attr("aria-hidden","true")
}if(aQ&&(x==true||x==="true")){aF(".details .info .links.secondary .used-inventory",aZ).hide();
aF(".details .info .links.secondary .used-inventory",aZ).attr("aria-hidden","true")
}if(aX.dealerType!=="Dealer"){aF(".save",aZ).hide()
}if(aX.isPreferred){aF(".save > a .save",aZ).hide();
aF(".save > a .unsave",aZ).show()
}else{aF(".save > a .unsave",aZ).hide();
aF(".save > a .save",aZ).show()
}if(FD.Brand.Context.showTextDealer&&aX.lctextoptin>0&&aX.TextUrl){aF(".actions .text-dealer a.fgx-desktop",aZ).attr("data-numbers","sales=sms://+1"+aX.TextUrl);
aF(".actions .text-dealer a.fgx-desktop",aZ).attr("data-title",aX.Name);
aF(".actions .text-dealer a.fgx-mobile",aZ).attr("href","sms://+1"+aX.TextUrl)
}else{aF(".actions .text-dealer",aZ).hide();
aF(".actions .text-dealer a",aZ).attr("aria-hidden","true")
}if(aQ&&(aJ==true||aJ==="true")){aF(".actions .text-dealer",aZ).hide();
aF(".actions .text-dealer a",aZ).attr("aria-hidden","true")
}if(N.region!=="CA"){t.dealerChatStatus({dealerPACode:aX.PACode,make:N.make}).done(function(a2){if(a2&&a2.url){var a1=a2.url;
aF(".actions .dealer-chat a",aZ).on("click",function(a3){a3.preventDefault();
a3.stopImmediatePropagation();
window.open(a1,"_blank","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,width=350,height=620");
if((!aQ&&typeof ac!=="undefined")||(aQ&&typeof L==="undefined"&&typeof ac!=="undefined")){FD.Brand.Metrics.handler.direct(ac)
}else{if(aQ&&typeof L!=="undefined"){FD.Brand.Metrics.handler.direct(L)
}}})
}else{aF(".actions .dealer-chat",aZ).hide();
aF(".actions .dealer-chat a",aZ).attr("aria-hidden","true")
}})
}else{aF(".actions .dealer-chat",aZ).hide();
aF(".actions .dealer-chat a",aZ).attr("aria-hidden","true")
}if(aQ&&(aS==true||aS==="true")){aF(".actions .dealer-chat",aZ).hide();
aF(".actions .dealer-chat a",aZ).attr("aria-hidden","true")
}if(aX.SmarttSubset){aF(".actions .schedule-service a",aZ).attr("href",aX.SmarttSubset);
if(aQ&&(aT==false||aT==="false")){aF(".actions .schedule-service",aZ).show();
aF(".actions .schedule-service a",aZ).attr("aria-hidden","false")
}}if(aX&&aX.PACode){var aY=JSON.stringify({"$$dealerPACode":aX.PACode});
aF("[data-fgx-add-pacode]",aZ).each(function(){aF(this).attr("data-fd-metrics-data",aY)
})
}if(aX&&aX.Name){var a0={"$$dealerName":aX.Name};
aF("[data-fgx-add-name]",aZ).each(function(){var a2=aF(this).attr("data-fd-metrics-data");
a2=(a2&&typeof(a2)!="undefined")?JSON.parse(a2):{};
var a1=S.extend({},a2,a0);
aF(this).attr("data-fd-metrics-data",JSON.stringify(a1))
})
}if(aQ){if(typeof ap!=="undefined"){aF(".all-dealers",aZ).attr("data-fd-metrics-click",JSON.stringify(ap))
}if(typeof w!=="undefined"){aF(".actions .share a",aZ).attr("data-fd-metrics-click",JSON.stringify(w))
}if(typeof g!=="undefined"){aF(".actions .print a",aZ).attr("data-fd-metrics-click",JSON.stringify(g))
}if(typeof ak!=="undefined"){aF(".save a .unsave",aZ).attr("data-fd-metrics-click",JSON.stringify(ak))
}if(typeof m!=="undefined"){aF(".sales-phone .phone-number.fgx-mobile",aZ).attr("data-fd-metrics-click",JSON.stringify(m))
}if(typeof P!=="undefined"){aF(".actions .text-dealer a",aZ).attr("data-fd-metrics-click",JSON.stringify(P))
}if(typeof L!=="undefined"){aF(".actions .dealer-chat a",aZ).attr("data-fd-metrics-click",JSON.stringify(L))
}if(typeof aR!=="undefined"){aF(".ratings-count.clickable",aZ).attr("data-fd-metrics-click",JSON.stringify(aR))
}if(typeof G!=="undefined"){aF(".ratings-count.clickable .icon",aZ).attr("data-fd-metrics-click",JSON.stringify(G))
}if(typeof aK!=="undefined"){aF(".actions .dealer-website a",aZ).attr("data-fd-metrics-click",JSON.stringify(aK))
}if(typeof au!=="undefined"){aF(".actions .directions a",aZ).attr("data-fd-metrics-click",JSON.stringify(au))
}if(typeof ay!=="undefined"){aF(".links.secondary .service-website",aZ).attr("data-fd-metrics-click",JSON.stringify(ay));
aF(".actions.list-unstyled .service-website",aZ).attr("data-fd-metrics-click",JSON.stringify(ay))
}if(typeof q!=="undefined"){aF(".links.secondary .new-inventory",aZ).attr("data-fd-metrics-click",JSON.stringify(q))
}if(typeof E!=="undefined"){aF(".links.secondary .used-inventory",aZ).attr("data-fd-metrics-click",JSON.stringify(E))
}if(typeof aa!=="undefined"){aF(".btn.view-more",aZ).attr("data-fd-metrics-click",JSON.stringify(aa))
}if(typeof al!=="undefined"){aF("#fgx-reviewsSort-listbox li",aZ).attr("data-fd-metrics-click",JSON.stringify(al))
}if(typeof ae!=="undefined"){aF(".tab-nav .tab-label",aZ).attr("data-fd-metrics-click",JSON.stringify(ae))
}if(typeof aI!=="undefined"){aF("#fgx-dealerHours-listbox li",aZ).attr("data-fd-metrics-click",JSON.stringify(aI))
}}else{if(aU){if(typeof(X)!=="undefined"){aF(".links.secondary .service-website",aZ).attr("data-fd-metrics-click",JSON.stringify(X));
aF(".actions.list-unstyled .service-website",aZ).attr("data-fd-metrics-click",JSON.stringify(X))
}}}c=aX.PACode;
an=(aX.Cupid)?aX.Cupid:null;
K(aZ,aX.SalesHours,aX.ServiceHours);
z(aX.Specialties,aZ)
}function K(a3,a0,a4){var a1=aF(".hours-services .hours-full .fgx-custom-select",a3);
var aY=aF(".hours-services .hours-full .heading.sales",a3);
var a2=aF(".hours-services .hours-full > ul.items.sales",a3);
var aX=aF(".hours-services .hours-full .heading.services",a3);
var aW=aF(".hours-services .hours-full .heading.services",a3);
var aZ=aF(".hours-services .hours-full > ul.items.services",a3);
if(a0.Day){av(a2,a0)
}else{a2.hide();
aY.hide();
aY.attr("aria-hidden","true")
}if(a4.Day){av(aZ,a4)
}else{aZ.hide();
aW.hide();
aW.attr("aria-hidden","true")
}if(a0.Day&&a4.Day){aW.hide();
aW.attr("aria-hidden","true");
aY.hide();
aY.attr("aria-hidden","true");
aZ.hide();
if(aQ&&V==="service"){aE(a1,a1.find("[data-custom-value=services]"),"hours")
}}else{a1.hide();
a1.attr("aria-hidden","true");
aX.hide();
aX.attr("aria-hidden","true")
}}function av(aX,aY){var aW=aF("#dd").data("closed-label");
var aZ;
S.each(aY.Day,function(a1,a2){var a0='<li><span class="day-label">{labelTxt}</span><span class="hours">{hoursTxt}</span></li>';
var a3=a1.name;
var a4="";
if(a1.open&&a1.close){a4=a1.open+" - "+a1.close
}else{a4=aW
}a0=a0.replace("{labelTxt}",a3).replace("{hoursTxt}",a4);
if(a2>0){aX.append(a0)
}else{aZ=a0
}});
aX.append(aZ)
}function z(a3,a2){if(a3.Specialty){var a1=u(a3.Specialty,2);
for(var a0=0;
a0<a1.length;
a0++){var aX=a1[a0];
var aW=".service-specialties > .items.col-"+a0;
var aY=aF(aW,a2);
for(var aZ=0;
aZ<aX.length;
aZ++){aY.append("<li>"+aX[aZ]+"</li>")
}}}else{aF(".service-specialties",a2).hide()
}}function u(a0,aX){var aW=a0.length%aX,a2=aW,a1=Math.floor(a0.length/aX),a4=[];
for(var aZ=0;
aZ<a0.length;
aZ+=a1){var aY=a1+aZ,a3=false;
if(aW!==0&&a2){aY++;
a2--;
a3=true
}a4.push(a0.slice(aZ,aY));
if(a3){aZ++
}}return a4
}function R(aW){$cnt=aF(".reviews-section",aW);
if(an==null){$cnt.hide();
return
}var aX={salesCode:an,dealerPACode:c,pageSize:5,pageNumber:1,reviewType:"sales",api_key:o,sortBy:aN,order:f};
salesSelector=".reviews-section .sections .reviews.sales ul";
aV.call($cnt,aX,salesSelector).done(function(){serviceSelector=".reviews-section .sections .reviews.service ul";
aX.reviewType="service";
aV.call($cnt,aX,serviceSelector).done(function(){var aY=aF(".sections .reviews.sales ul li",$cnt);
var aZ=aF(".sections .reviews.service ul li",$cnt);
if(aY.length<5&&aZ.length<5){$cnt.hide()
}else{aF(".star-ratings",aW).addClass("clickable");
aF(".tab-nav .tab-label",$cnt).on("click",function(){var a0=aF(this);
var a1=a0.data("id");
ab(a1,$cnt)
});
aF(".reviews .view-more",$cnt).on("click",function(){var a1=aF(this);
var a3=e(this,".reviews-section");
var a4={salesCode:an,dealerPACode:c,pageSize:5,api_key:o,sortBy:aN,order:f};
var a0=".reviews-section .sections .reviews.sales ul";
if(a1.hasClass("sales")){aM++;
a4.pageNumber=aM;
a4.reviewType="sales"
}else{ax++;
a4.pageNumber=ax;
a4.reviewType="service";
a0=".reviews-section .sections .reviews.service ul"
}var a2=e(a3);
p.call(a2,true);
aV.call(a3,a4,a0).done(function(){d(a3);
p.call(a2,false)
})
});
if(aQ&&Z==="service"){ab("service",$cnt)
}d($cnt)
}})
})
}function ab(aZ,aX){var aW=aF(".tab-nav .tab-label."+aZ,aX);
var aZ=aW.data("id");
if(!aW.hasClass("selected")){aF(".tab-nav .tab-label",aX).removeClass("selected");
aF(".tab-nav .tab-label",aX).attr("aria-pressed","false");
aW.addClass("selected");
aW.attr("aria-pressed","true");
var aY=".sections .reviews."+aZ;
aF(".sections .reviews",aX).removeClass("selected");
aF(aY,aX).addClass("selected");
d(aX);
y(aZ,aX);
if(aB){at(null,false)
}}}function d(aW){aF(".sections .heading .text p.current-display",aW).text(aF(".sections .reviews.selected",aW).data("currently-showing"))
}function y(aX,aW){var aY={"$section":aX||""};
aF("[data-update-mtx-section]",aW).each(function(){var a0=aF(this),a1=a0.attr("data-fd-metrics-data"),aZ={};
if(a1&&typeof(a1)!="undefined"){a1=JSON.parse(a1);
aZ=S.extend(aZ,a1,aY)
}else{aZ=S.extend(aZ,aY)
}a0.attr("data-fd-metrics-data",JSON.stringify(aZ))
})
}function aV(a1,a0){var aY=e(this,".reviews-section");
var aX=e(this,a0);
var aW=aY.data("vehicle-info-template");
var aZ=aF.Deferred();
t.dealerReviews(a1).done(function(a8){var a3=[].concat(a8.Reviews.Review);
var a2=a8.Meta;
if(!a3||a3.length===0){aZ.reject(a3);
return
}if(a2.TotalItems<1){aF("<li>"+aq+"</li>").appendTo(aX);
var a7=".sections .reviews."+a1.reviewType+" .view-more";
aF(a7,aY).hide()
}else{if(a3.length>0){S.each(a3,function(bf){if(typeof aW!=="undefined"){var bd=(bf.VehicleYear)?bf.VehicleYear:"";
var ba=(bf.VehicleMake)?bf.VehicleMake:"";
var bc=(bf.VehicleModel)?bf.VehicleModel:"";
bf.VehicleInfo="";
if(ba!==""&&bc!==""){var bb=ba+" "+bc;
bf.VehicleInfo=aW.replace("{year}",bd).replace("{vehicle}",bb)
}}bf.isQuickLane=(bf.TransactionCode&&bf.TransactionCode==="USA_RQM")?true:false;
bf.ratingPercentage=(bf.Rating*20)+"%";
bf.timeSince=am(new Date(bf.CreatedAt));
bf.timeSinceUpdated=am(new Date(bf.UpdatedAt));
bf.hasResponse=(bf.Response&&bf.Response!=="null"&&bf.Response!=="");
var a9={review:bf};
var be=aF(l.reviewItem(a9)).data("review",bf);
be.appendTo(aX)
});
var a6=a2.Page.Number*a2.Page.Size;
var a4=a2.TotalItems;
if(a6>=a4){a6=a4;
var a7=".sections .reviews."+a1.reviewType+" .view-more";
aF(a7,aY).hide()
}var a5=".sections .reviews."+a1.reviewType;
if(aL){aF(a5,aY).data("currently-showing",aL.replace("{current}",a6).replace("{total}",a4))
}}}aZ.resolve(a3)
}).fail(function(a2){aZ.reject(a2)
});
return aZ.promise()
}function am(aX){var aY=Math.floor((new Date()-aX)/1000);
var aW=Math.floor(aY/31536000);
aW=Math.floor(aY/86400);
if(aW>1){return aW+" "+ad
}aW=Math.floor(aY/3600);
if(aW>1){return aW+" "+M
}aW=Math.floor(aY/60);
if(aW>1){return aW+" "+aC
}return Math.floor(aY)+" "+A
}function p(aW){aF(this).find(".ford-busy").toggle(aW)
}function at(a4,aY){if(a4&&typeof a4!=="undefined"){var aZ=a4.split("|");
if(aZ.length>1){aN=aZ[0];
f=aZ[1]
}else{aN=a4
}}if(aN!=null){var a3=aF(".reviews-section",ag);
var a1=a3.find(".tab-nav .tab-label.selected");
var a0=a1.data("id")||"sales";
var a2=".reviews-section .sections .reviews."+a0+" ul";
var aW={salesCode:an,dealerPACode:c,pageSize:5,pageNumber:1,reviewType:a0,api_key:o,sortBy:aN,order:f};
var aX=e(a3);
p.call(aX,true);
aF(a2,ag).empty();
aV.call(a3,aW,a2).done(function(){d(a3);
aB=(typeof(aY)!=="undefined"&&aY!==null)?aY:true;
p.call(aX,false)
})
}}function Q(){var aW=aF.Deferred();
if(b){aW.resolve()
}else{aj._fgx_mapControlLoaded=function(){b=true;
aW.resolve();
delete aj._fgx_mapControlLoaded
};
aG.url.loadAsScript(N.settings.mapHost+"?callback=_fgx_mapControlLoaded").fail(function(){aW.reject()
})
}return aW.promise()
}function ar(){var aX=e(this,".location-aware");
var aY=aX.data("map");
var aW=aX.data("dealers");
if(aY||!aW){return
}Q().done(function(){var a2=Microsoft.Maps;
aY=new a2.Map(aX.find(".map")[0],{credentials:N.settings.mapKey,mapTypeId:Microsoft.Maps.MapTypeId.road,enableSearchLogo:false,enableClickableLogo:false,enableInertia:true,liteMode:false,showCopyright:false,showMapTypeSelector:false,showLocateMeButton:false,disableScrollWheelZoom:true,disablePanning:false,disableZooming:false});
var a0=[];
var aZ=null;
var a1=function(a4,a5){a4.selected=a5;
var a3=(a5)?"selected":"none";
a4.pushpin.setOptions({state:a3,icon:I,textOffset:new Microsoft.Maps.Point(0,10)})
};
S.each(aW,function(a4){var a3=new a2.Location(a4.Latitude,a4.Longitude);
a0.push(a3);
if(a4.selected){aZ=a3
}var a5=new a2.Pushpin(a3,{width:30,height:46,anchor:new Microsoft.Maps.Point(15,23)});
a4.pushpin=a5;
a1(a4,true);
aY.entities.push(a5)
});
if(a0.length>1){aY.setView({bounds:a2.LocationRect.fromLocations(a0)})
}else{aY.setView({center:a0[0],zoom:11})
}if(aZ){aY.setView({center:aZ})
}})
}})(window,jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.Overlay,FD.Brand.Context,FD.Brand.User,FD.Brand.Util,FD.Brand.NgpServices,FD.Brand.Dealer);
(function(b,e,c,a){e.setInitHandler("[data-fgx-chat-links]",d);
function d(g){if(g.length===0){return
}var f=b(".item-cta",g);
a.ctaHover(f)
}})(jQuery,FD.Brand,window,FD.Brand.Util);
(function(a,c){c.setInitHandler("[data-fgx-vehicle-tile]",b);
function b(d){var e=window.FD.Brand;
e.Dig.resolve(d);
d.each(function(){e.Pricing.refresh(this)
})
}})(jQuery,FD.Brand);
(function(a,c){c.setInitHandler("[data-fgx-features-tile]",b);
function b(d){d.each(function(){var g=a(this).find(".moreDesc");
var e=a(this).find(".lessDesc");
var f=a(this).find(".description-more");
g.click(function(){f.toggle();
a(this).hide()
});
e.click(function(){f.toggle();
g.show()
})
})
}})(jQuery,FD.Brand);
(function(a,c){c.setInitHandler("[data-fgx-features-category-card]",b);
function b(d){d.each(function(){var e=a(this).find(".featuresTile").length;
a(this).find(".fi-count-num").html(e-1)
});
a(".featuresTile.fi-startcard",d).on("focusin",function(e){a(".featuresTile.fi-startcard",d).removeClass("hover");
a(".featuresTile .fi-feature",d).removeClass("hover");
a(this).addClass("hover")
});
a(".featuresTile .fi-feature",d).on("focusin",function(e){a(".featuresTile.fi-startcard",d).removeClass("hover");
a(".featuresTile .fi-feature",d).removeClass("hover");
a(this).addClass("hover")
});
a(".featuresTile.fi-startcard",d).on("focusout",function(e){a(this).removeClass("hover")
});
a(".featuresTile .fi-feature",d).on("focusout",function(e){a(this).removeClass("hover")
})
}})(jQuery,FD.Brand);
(function(a,c){c.setInitHandler("[data-fgx-vr-player-slide]",b);
function b(d){if(d.length===0){return
}a(".moreDesc",d).on("click",function(){var e=a(this).closest(".ml-wrapper");
e.find(".description-more").toggle();
a(this).hide();
e.find(".lessDesc").focus()
});
a(".lessDesc",d).on("click",function(){var e=a(this).closest(".ml-wrapper");
e.find(".description-more").toggle();
e.find(".moreDesc").show().focus()
})
}})(jQuery,FD.Brand);
(function(a,c){c.setInitHandler("[data-fgx-model-billboard-slide]",b);
function b(d){c.Dig.resolve(a(".billboard-img",d));
d.each(function(){c.Pricing.refresh(this)
})
}})(jQuery,FD.Brand);
(function(e,d,h,c,b,a,f){h.setInitHandler("[data-fgx-billboard-homepage-slide]",g);
function g(l){var m=c&&c.location.current(),p={zipcode:m&&m.postalCode,make:b&&b.make,"return":"countOnly"},q=false;
l.each(function(){h.Pricing.refresh(this);
k(this)
});
h.MediaOverlay.link(l);
if(q){c.location.subscribe(function(){if(p){p.zipcode=c.location.current().postalCode
}l.each(function(){k(this)
})
},true)
}function k(v){var u=e(v),r=u.find("[data-fgx-has-inv-count-placeholder]");
if(r&&r.length>0){var t=u.data("fgxInvCountParams"),w=(t&&typeof(t)!="undefined")?a.str.toObject(t,"|"):null;
if(w){q=true;
var s=d.extend({},w,p);
o(s).done(function(x){j(x,r,s,u)
}).fail(function(x){n(r,u)
})
}}}function o(s){var r=e.Deferred();
f.dealerLot(s).done(function(t){if(t){r.resolve(t)
}else{r.reject(t)
}}).fail(function(t){r.reject(t)
});
return r.promise()
}function j(w,x,t,u){if(!x||x.length==0){return
}if(w&&w.data){var v=w.data&&w.data.exactMatchesCount;
if(v>0){var s={};
if(v>100){v="100+"
}if(t){if(t.selectTrim){s.trim=t.selectTrim;
s.trimId=t.selectTrim
}var r=(t.Radius)?t.Radius:((t.radius)?t.radius:null);
if(r){s.radius=r
}}if(u&&u.length>0){u.toggleClass("btm-spacer-m",true)
}x.each(function(){var z=e(this),E=z.find("[data-fgx-cta-text-template]"),C=E.data("fgxCtaTextTemplate")||"",D=C.replace("{invCount}",v),B=z.attr("data-link-context"),y=(B&&typeof(B)!="undefined")?e.parseJSON(B):{};
if(!d.isEmpty(s)){var A=d.extend({},y,s);
z.attr("data-link-context",JSON.stringify(A))
}E.html(D);
z.removeClass("hidden")
})
}else{n($invCountLinks,u)
}}}function n(s,r){if(!s||s.length==0){return
}s.each(function(){e(this).addClass("hidden")
});
if(r&&r.length>0){r.toggleClass("btm-spacer-m",false)
}}}})(jQuery,FD.Brand.lodash,FD.Brand,FD.Brand.User,FD.Brand.Context,FD.Brand.Util,FD.Brand.Inventory);
(function(b,a,f,c,e){f.setInitHandler("[data-fgx-billboard-container]",d);
function d(C){var h=false;
var x="";
var y=window.matchMedia("(min-width: 992px)");
var z=window.matchMedia("(min-width: 768px) and (max-width: 991px)");
z.addListener(N);
N(z);
var L=window.matchMedia("(max-width: 767px)");
L.addListener(v);
var l={},p="fgx-positioned-bb-",G="fgx-positioned-slide-";
var m={"gux-bkpt-sm":"fgx-brand-video-autoplay-mbl","gux-bkpt-med":"fgx-brand-video-autoplay-tab","gux-bkpt-lg":"fgx-brand-video-autoplay-dsk","gux-bkpt-xlg":"fgx-brand-video-autoplay-dsk"};
C.each(function(T){var ai=b(this).find(".billboard-slide.item").length,ac=b(this);
if(ai>1){var S=0,Z=ai-1,ag=false,X=b(this).data("meatballPrefix");
b(this).find(".billboard-slide.item").each(function(){switch(S){case 0:b(this).attr({"data-next-slide":S+1,"data-slide-id":S,"data-prev-slide":ai-1,"data-total-slides":ai});
break;
case Z:b(this).attr({"data-next-slide":0,"data-slide-id":S,"data-prev-slide":S-1,"data-total-slides":ai});
break;
default:b(this).attr({"data-next-slide":S+1,"data-slide-id":S,"data-prev-slide":S-1,"data-total-slides":ai});
break
}S++;
if(b(this).hasClass("fgx-brand-video")){ag=true;
h=true
}});
var af=b(this).find(".carousel-arrows");
var ah=b(this).find(".carousel-arrows.carousel-left");
var aa=b(this).find(".carousel-arrows.carousel-right");
af.addClass("shown");
if(af.hasClass("hoverArrows")){b(this).on("focusin",function(){aa.css("right","0px");
ah.css("left","0px")
}).on("focusout",function(){aa.css("right","");
ah.css("left","")
})
}var aj=b(this).find("ol.carousel-indicators");
aj.empty();
for(var ae=0;
ae<ai;
ae++){var O=(ae===0)?"active":"";
var Q=ae+1;
var W=X+" "+Q;
aj.append('<li data-slide-to="'+ae+'" class="'+O+'" aria-label="'+W+'" tabindex="0" role="button" data-fgx-keypress="true"></li>')
}aj.addClass("shown");
FD.Brand.Util.carousel.swipe(this,I);
if(ag){b(this).on("slide.bs.carousel",function(al){var am=b(this).find(".billboard-slide.item.active");
if(am.hasClass("fgx-brand-video")){var ak=am.find(".billboard-img video");
if(ak){ak.get(0).pause()
}}})
}b(this).on("slid.bs.carousel",function(al){j(ac);
if(b(al.relatedTarget).hasClass("fgx-brand-video")){var ak=b(al.relatedTarget).find(".billboard-img video");
s(ak,ac)
}ac.data("isSliding",false)
});
if(ac.hasClass("autoplay")){o(ac)
}}var U=b(this).find(".billboard-slide.item").first();
U.addClass("active");
b(this).find(".placeholder_img").first().hide();
if(!b(this).hasClass("autoplay")){b(this).carousel({interval:false})
}else{var ad=b(this).find(".carousel-arrows.global-arrows").length;
if(ai>1&&ad>0){b(this).carousel()
}else{b(this).carousel({interval:false})
}}f.Pricing.refresh(this);
if(f.Util.inViewport(b(this))){j(b(this))
}if(U.hasClass("fgx-brand-video")){h=true;
var V=U.find(".billboard-img video");
s(V,ac)
}var Y=b(this).find(".billboard-slide.static");
if(Y.length>=1){var R=0;
Y.each(function(){var al=ai+R;
b(this).attr({"data-slide-id":al});
R++;
var an=b(this).find(".moreDesc");
var ak=b(this).find(".lessDesc");
var am=b(this).find(".description-more");
an.click(function(){am.toggle();
b(this).hide();
ak.focus()
});
ak.click(function(){am.toggle();
an.show();
an.focus()
})
});
b(this).addClass("fgx-brand-contains-static-slide")
}var ab={};
ab=e.items.setup(this,G,".billboard-slide");
if(!b.isEmptyObject(ab)){var P=p+T;
b(this).addClass(P);
l[P]=ab
}});
var E=b(".billboard-cta > a.btn-primary",C);
f.Util.ctaHover(E);
if(b("html").hasClass("fgx-brand-Ford")){var u=b(".billboard-cta > a.btn-secondary",C);
f.Util.ctaHover(u)
}function N(O){if(O.matches){x="tablet"
}else{var P=f.Util.currentBreakpoint();
x=(P==="gux-bkpt-sm")?"mobile":"desktop"
}k(x,false)
}function A(P){var O=false;
if(P&&P.length){var Q=f.Util.currentBreakpoint();
O=P.hasClass(m[Q]||"fgx-brand-video-autoplay-dsk")
}return O
}function k(O,Q){if(!h){return
}if(O==="mobile"){var R=b(".fgx-brand-video:not(.hide-video-on-mobile) .billboard-img video",C);
var T=b(".fgx-brand-video.hide-video-on-mobile .billboard-img video",C);
if(R&&R.length>0){F(R,"fgx-brand-video-autoplay-mbl")
}if(T&&T.length>0&&!Q){T.each(function(){var V=b(this).get(0),X=b(this).closest(".billboard-homepage-slide"),W=X.find(".content-wrapper");
if(!V.paused){V.pause();
if(!b(this).hasClass("fgx-brand-video-autoplay-mbl")){var U=X.find(".bb-video-icon");
U.removeClass("hidden")
}}W.off("click.fgxVideoWrapper",J)
})
}}else{var S=b(".fgx-brand-video .billboard-img video",C),P=(O==="tablet")?"fgx-brand-video-autoplay-tab":"fgx-brand-video-autoplay-dsk";
F(S,P)
}}function F(Q,O){if(Q&&Q.length>0){f.Util.video.loadVideosInViewport(Q);
var P=Q.filter('[data-fgx-video-initialized="true"]');
P.each(function(){var T=b(this).closest(".billboard-homepage-slide"),S=T.find(".content-wrapper");
if(b(this).hasClass(O)){S.off("click.fgxVideoWrapper",J);
T.find(".billboard-content .bb-video-icon").addClass("hidden");
if(T.hasClass("active")){var R=b(this).get(0);
if(R.paused){R.play()
}}}else{S.off("click.fgxVideoWrapper",J).on("click.fgxVideoWrapper",J)
}})
}}function n(S,P){if(!P.length){return
}var O=P.closest(".billboard-homepage-slide"),R=O.find(".billboard-img video").get(0),Q=O.find(".bb-video-icon");
if(S==="play"&&R.paused){R.play();
Q.addClass("hidden");
f.Metrics.handler.direct(O.attr("data-fd-metrics-video-play"))
}else{if(S==="pause"&&!R.paused){R.pause();
Q.removeClass("hidden")
}}}function J(){n("pause",b(this))
}function s(O,P){if(O&&O.length){f.Util.video.loadVideosInViewport(O);
if(A(O)){if(O.attr("data-fgx-video-initialized")=="true"){O.get(0).play()
}P.find(".billboard-content .bb-video-icon").addClass("hidden")
}else{P.find(".billboard-content .bb-video-icon").removeClass("hidden")
}}}function v(O){if(O.matches){e.items.update("mobile",l)
}else{e.items.update("desktop",l)
}}function I(T,P,R){if(!y.matches||(f.Util.env.touch())){var O=b(T).find(".billboard-slide.item.active"),S=P+"Slide",Q=O.data(S);
b("body").trigger("click");
K(T,P,Q);
b(T).find(".image-loader-svg").first().hide()
}}function j(T){if(!T||!T.length){return
}var R=T.find(".billboard-slide.item").length;
if(R<=1){return
}var Q=T.find(".billboard-slide.item.active"),P=Q.data("nextSlide"),S=T.find('*[data-slide-id="'+P+'"]');
if(S.length){var O=S.find(".billboard-img img");
if(!O.hasClass("lazypreload")&&!O.hasClass("lazyloaded")&&!O.hasClass("lazyloading")){O.addClass("lazypreload")
}}}function K(T,O,P){try{var Q=b(T).data("isSliding");
if(!Q||Q==="false"){b(T).data("isSliding",true);
var S=b(T).find('.billboard-slide.item[data-slide-id="'+P+'"]');
b(T).data("bs.carousel").slide(O,S);
q(b(T),S)
}}catch(R){b(T).carousel(P)
}M.call(T)
}function q(O,R){var Q=O.find(".pagination-info");
var P=Q.data("label-template");
Q.attr("aria-hidden","false");
Q.attr("aria-live","polite");
Q.attr("aria-atomic","true");
if(P){Q.text(P.replace("{current}",(R.data("slide-id")+1)).replace("{total}",R.data("total-slides")))
}}function o(O){if(!O||O.length===0){return
}if(!f.Util.inViewport(O)){if(!O.hasClass("fgx-is-paused")){O.carousel("pause");
O.addClass("fgx-is-paused")
}}else{if(O.hasClass("fgx-is-paused")){O.carousel("cycle");
O.removeClass("fgx-is-paused")
}}}b(".carousel-arrows.global-arrows .carousel-next, .carousel-arrows.global-arrows .carousel-previous",C).click(function(){var Q=b(this).parent().parent(".billboard-container"),O=Q.find(".billboard-slide.item.active"),P=(b(this).hasClass("carousel-previous"))?"prev":"next",R=O.data(P+"Slide");
b(Q).find(".image-loader-svg").first().hide();
K(Q,P,R)
});
b(".carousel-indicators.global-indicators li",C).click(function(){var P=b(this).data("slideTo");
var O=b(this).parent().parent(".billboard-container");
var Q=O.find('.billboard-slide.item[data-slide-id="'+P+'"]');
O.find(".image-loader-svg").first().hide();
O.carousel(P);
q(O,Q);
M.call(this)
});
b(".billboard-content .full-slide-link",C).hover(function(){b(this).closest(".content-wrapper").addClass("hover");
b(this).closest(".content-wrapper").find("a.btn-primary").each(function(){if(!b("html").hasClass("fgx-brand-Lincoln")&&!b(this).hasClass("default-hover")){f.Util.swapColors.call(this)
}})
},function(){b(this).closest(".content-wrapper").removeClass("hover");
b(this).closest(".content-wrapper").find("a.btn-primary").each(function(){if(!b("html").hasClass("fgx-brand-Lincoln")&&!b(this).hasClass("default-hover")){f.Util.swapColors.call(this)
}})
});
b(".bb-video-icon",C).click(function(O){O.stopPropagation();
n("play",b(this))
});
b(".video-volume-wrap",C).click(function(S){S.stopPropagation();
var P=b(this),Q=P.find(".video-volume-control"),O=P.closest(".billboard-homepage-slide"),R=O.find(".billboard-img video").get(0);
R.muted=!R.muted;
if(R.muted){Q.addClass("icon-muted")
}else{Q.removeClass("icon-muted")
}f.Metrics.handler.direct(O.attr("data-fd-metrics-volume-control"))
});
function B(){if(h){if(x===""){var O=f.Util.currentBreakpoint();
x=(O==="gux-bkpt-sm")?"mobile":((O==="gux-bkpt-med")?"tablet":"desktop")
}k(x,true)
}C.each(function(){var Q=b(this),P=Q.find(".billboard-slide.item").length;
if(!Q.hasClass("autoplay")||P<=1){return
}o(Q)
})
}var w=window.location.hash;
if(w){var H="[data-link-key="+w.substr(1)+"]";
var t=b(H,C);
if(t.length){var r=t.attr("data-slide-id");
var g=".carousel-indicators li[data-slide-to="+r+"]";
var D=b(g,C);
D.trigger("click")
}}b(c).scroll(a.debounce(B,100));
function M(){f.Metrics.handler.direct(b(this).closest("[data-fgx-billboard-container]").attr("data-fd-metrics-scroll"))
}}})(jQuery,FD.Brand.lodash,FD.Brand,window,FD.Brand.Position);
(function(a,c){c.setInitHandler("[data-fgx-vehicle-attributes]",b);
function b(d){d.each(function(){var g=this;
var e=a(g).data("disclosure-color");
var f=null;
if(e!==""&&e!==undefined){f=e.split(":")[1].replace(";","");
a("sup",g).each(function(){a(this).css("color",f)
})
}c.User.location.subscribe(function(){FD.Brand.Pricing.refresh(g,true).done(function(j){var h=a(g).find(".price.monthly-price"),k=h.find(".monthly-price-label"),m=h.find(".price-value"),l=m.data("pricing");
if(l&&l.offerType){if(l.offerType==="lease"||l.offerType==="finance"){k.siblings("a.icon-info").attr("href","#$spc").removeClass("hidden");
k.siblings("a.icon-info").removeAttr("aria-hidden")
}h.removeClass("hidden")
}})
})
})
}})(jQuery,FD.Brand);
(function(b,d,a){d.setInitHandler("[data-fgx-single-item-accordion]",c);
function c(f){if(f.length==0){return
}b(".accordion-heading",f).on("click",function(){a.accordion.update(b(this),f,".accordion-heading",".accordion-content",false,e);
b(this).focus()
});
function e(){var g=b(this);
if(g.hasClass("open")){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-open"),g)
}}}})(jQuery,FD.Brand,FD.Brand.Util);
(function(b,e,c,a){e.setInitHandler("[data-fgx-features-specs-accordion]",d);
function d(j){var g=j.attr("data-fd-metrics-image-click");
var h=j.attr("data-fd-metrics-video-click");
var f=j.attr("data-fd-metrics-info-click");
b(".specs-accordion-toggle",j).on("click",function(){a.accordion.update(b(this),j,".specs-accordion-toggle",".specs-accordion-content",false,function(){var k=b(this);
if(k.hasClass("open")){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-open"),this)
}});
b(this).focus()
});
b(".spec-unit-toggle",j).on("click",function(){var k=b(this);
var l=k.closest(".specs-accordion-content");
if(l.hasClass("metric-shown")){l.removeClass("metric-shown").addClass("imperial-shown")
}else{l.removeClass("imperial-shown").addClass("metric-shown")
}});
b(".fm-trigger.icon",j).each(function(){var k=b(this).attr("data-fd-metrics-item-type");
if(k==="image"){b(this).attr("data-fd-metrics-click",g)
}else{if(k==="video"){b(this).attr("data-fd-metrics-click",h)
}else{if(k==="info"){b(this).attr("data-fd-metrics-click",f)
}}}});
c.link(j)
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay,FD.Brand.Util);
(function(b,d,a){d.setInitHandler("[data-fgx-content-accordion]",c);
function c(l){var h=null;
var j=false;
var k=false;
if(l.length>0){b(".content-accordion-toggle",l).on("click",function(){m.call(this,k)
});
var n=b(".content-accordion-toggle",l).closest("[data-fgx-disable-child-deeplink]");
if(n&&n.length>0){k=true
}if(window.addEventListener){window.addEventListener("hashchange",f)
}else{window.onhashchange=f
}f()
}function f(){if(!k){var p=window.location.hash;
if(p){if(h===p.substr(1)){return
}var o=b(p).find(".content-accordion-toggle");
if(o&&o.length>0){m.call(o);
j=true
}}else{if(!j){m.call(b(".content-accordion-toggle",l).first(),true);
j=true
}}}else{j=true
}}function g(o,p){if(!j){a.accordion.update(o,l,".content-accordion-toggle",".accordion-content",p)
}else{a.accordion.update(o,l,".content-accordion-toggle",".accordion-content",p,e)
}if(!j){o.focus()
}}function m(r){var q=b(this);
var p=q.closest("section").attr("id");
var o=window.location.hash;
var r=(r)?true:false;
if(o.substr(1)!==p&&!r){window.location.hash=p
}else{g(q,r)
}}function e(){var o=b(this);
if(o.hasClass("open")){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-open"),o)
}}}})(jQuery,FD.Brand,FD.Brand.Util);